import{a as $,b as me,d as DN,f as Ci,g as T}from"./chunk-RA2WU32H.js";var Bq=DN((Dr,YE)=>{"use strict";(function(n,e){typeof Dr=="object"&&typeof YE<"u"?YE.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=e())})(Dr,function(){"use strict";var n={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};let e="swal2-",t=d=>{let h={};for(let m in d)h[d[m]]=e+d[m];return h},r=t(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),i=t(["success","warning","info","question","error"]),s="SweetAlert2:",o=d=>{let h=[];for(let m=0;m<d.length;m++)h.indexOf(d[m])===-1&&h.push(d[m]);return h},a=d=>d.charAt(0).toUpperCase()+d.slice(1),u=d=>{console.warn(`${s} ${typeof d=="object"?d.join(" "):d}`)},l=d=>{console.error(`${s} ${d}`)},p=[],y=d=>{p.includes(d)||(p.push(d),u(d))},w=(d,h)=>{y(`"${d}" is deprecated and will be removed in the next major release. Please use "${h}" instead.`)},_=d=>typeof d=="function"?d():d,M=d=>d&&typeof d.toPromise=="function",O=d=>M(d)?d.toPromise():Promise.resolve(d),N=d=>d&&Promise.resolve(d)===d,L=()=>document.body.querySelector(`.${r.container}`),W=d=>{let h=L();return h?h.querySelector(d):null},B=d=>W(`.${d}`),H=()=>B(r.popup),le=()=>B(r.icon),J=()=>B(r["icon-content"]),C=()=>B(r.title),E=()=>B(r["html-container"]),b=()=>B(r.image),A=()=>B(r["progress-steps"]),S=()=>B(r["validation-message"]),x=()=>W(`.${r.actions} .${r.confirm}`),D=()=>W(`.${r.actions} .${r.deny}`),Mn=()=>B(r["input-label"]),dn=()=>W(`.${r.loader}`),Tr=()=>W(`.${r.actions} .${r.cancel}`),xn=()=>B(r.actions),gi=()=>B(r.footer),mi=()=>B(r["timer-progress-bar"]),To=()=>B(r.close),Pg=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,hn=()=>{let d=Array.from(H().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((m,I)=>{let k=parseInt(m.getAttribute("tabindex")),K=parseInt(I.getAttribute("tabindex"));return k>K?1:k<K?-1:0}),h=Array.from(H().querySelectorAll(Pg)).filter(m=>m.getAttribute("tabindex")!=="-1");return o(d.concat(h)).filter(m=>St(m))},Xe=()=>Nn(document.body,r.shown)&&!Nn(document.body,r["toast-shown"])&&!Nn(document.body,r["no-backdrop"]),Co=()=>H()&&Nn(H(),r.toast),hs=()=>H().hasAttribute("data-loading"),yi={previousBodyPadding:null},at=(d,h)=>{if(d.textContent="",h){let I=new DOMParser().parseFromString(h,"text/html");Array.from(I.querySelector("head").childNodes).forEach(k=>{d.appendChild(k)}),Array.from(I.querySelector("body").childNodes).forEach(k=>{k instanceof HTMLVideoElement||k instanceof HTMLAudioElement?d.appendChild(k.cloneNode(!0)):d.appendChild(k)})}},Nn=(d,h)=>{if(!h)return!1;let m=h.split(/\s+/);for(let I=0;I<m.length;I++)if(!d.classList.contains(m[I]))return!1;return!0},Og=(d,h)=>{Array.from(d.classList).forEach(m=>{!Object.values(r).includes(m)&&!Object.values(i).includes(m)&&!Object.values(h.showClass).includes(m)&&d.classList.remove(m)})},vt=(d,h,m)=>{if(Og(d,h),h.customClass&&h.customClass[m]){if(typeof h.customClass[m]!="string"&&!h.customClass[m].forEach){u(`Invalid type of customClass.${m}! Expected string or iterable object, got "${typeof h.customClass[m]}"`);return}ge(d,h.customClass[m])}},vi=(d,h)=>{if(!h)return null;switch(h){case"select":case"textarea":case"file":return d.querySelector(`.${r.popup} > .${r[h]}`);case"checkbox":return d.querySelector(`.${r.popup} > .${r.checkbox} input`);case"radio":return d.querySelector(`.${r.popup} > .${r.radio} input:checked`)||d.querySelector(`.${r.popup} > .${r.radio} input:first-child`);case"range":return d.querySelector(`.${r.popup} > .${r.range} input`);default:return d.querySelector(`.${r.popup} > .${r.input}`)}},Ao=d=>{if(d.focus(),d.type!=="file"){let h=d.value;d.value="",d.value=h}},So=(d,h,m)=>{!d||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(I=>{Array.isArray(d)?d.forEach(k=>{m?k.classList.add(I):k.classList.remove(I)}):m?d.classList.add(I):d.classList.remove(I)}))},ge=(d,h)=>{So(d,h,!0)},qt=(d,h)=>{So(d,h,!1)},Pn=(d,h)=>{let m=Array.from(d.children);for(let I=0;I<m.length;I++){let k=m[I];if(k instanceof HTMLElement&&Nn(k,h))return k}},Cr=(d,h,m)=>{m===`${parseInt(m)}`&&(m=parseInt(m)),m||parseInt(m)===0?d.style[h]=typeof m=="number"?`${m}px`:m:d.style.removeProperty(h)},ct=function(d){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";d.style.display=h},ut=d=>{d.style.display="none"},Mc=(d,h,m,I)=>{let k=d.querySelector(h);k&&(k.style[m]=I)},wi=function(d,h){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?ct(d,m):ut(d)},St=d=>!!(d&&(d.offsetWidth||d.offsetHeight||d.getClientRects().length)),kg=()=>!St(x())&&!St(D())&&!St(Tr()),Ro=d=>d.scrollHeight>d.clientHeight,Mo=d=>{let h=window.getComputedStyle(d),m=parseFloat(h.getPropertyValue("animation-duration")||"0"),I=parseFloat(h.getPropertyValue("transition-duration")||"0");return m>0||I>0},fs=function(d){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m=mi();St(m)&&(h&&(m.style.transition="none",m.style.width="100%"),setTimeout(()=>{m.style.transition=`width ${d/1e3}s linear`,m.style.width="0%"},10))},ht=()=>{let d=mi(),h=parseInt(window.getComputedStyle(d).width);d.style.removeProperty("transition"),d.style.width="100%";let m=parseInt(window.getComputedStyle(d).width),I=h/m*100;d.style.removeProperty("transition"),d.style.width=`${I}%`},wt=100,ce={},kl=()=>{ce.previousActiveElement instanceof HTMLElement?(ce.previousActiveElement.focus(),ce.previousActiveElement=null):document.body&&document.body.focus()},Fl=d=>new Promise(h=>{if(!d)return h();let m=window.scrollX,I=window.scrollY;ce.restoreFocusTimeout=setTimeout(()=>{kl(),h()},wt),window.scrollTo(m,I)}),Ll=()=>typeof window>"u"||typeof document>"u",ps=`
 <div aria-labelledby="${r.title}" aria-describedby="${r["html-container"]}" class="${r.popup}" tabindex="-1">
   <button type="button" class="${r.close}"></button>
   <ul class="${r["progress-steps"]}"></ul>
   <div class="${r.icon}"></div>
   <img class="${r.image}" />
   <h2 class="${r.title}" id="${r.title}"></h2>
   <div class="${r["html-container"]}" id="${r["html-container"]}"></div>
   <input class="${r.input}" />
   <input type="file" class="${r.file}" />
   <div class="${r.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${r.select}"></select>
   <div class="${r.radio}"></div>
   <label for="${r.checkbox}" class="${r.checkbox}">
     <input type="checkbox" />
     <span class="${r.label}"></span>
   </label>
   <textarea class="${r.textarea}"></textarea>
   <div class="${r["validation-message"]}" id="${r["validation-message"]}"></div>
   <div class="${r.actions}">
     <div class="${r.loader}"></div>
     <button type="button" class="${r.confirm}"></button>
     <button type="button" class="${r.deny}"></button>
     <button type="button" class="${r.cancel}"></button>
   </div>
   <div class="${r.footer}"></div>
   <div class="${r["timer-progress-bar-container"]}">
     <div class="${r["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Vl=()=>{let d=L();return d?(d.remove(),qt([document.documentElement,document.body],[r["no-backdrop"],r["toast-shown"],r["has-column"]]),!0):!1},Yn=()=>{ce.currentInstance.resetValidationMessage()},xc=()=>{let d=H(),h=Pn(d,r.input),m=Pn(d,r.file),I=d.querySelector(`.${r.range} input`),k=d.querySelector(`.${r.range} output`),K=Pn(d,r.select),Ye=d.querySelector(`.${r.checkbox} input`),er=Pn(d,r.textarea);h.oninput=Yn,m.onchange=Yn,K.onchange=Yn,Ye.onchange=Yn,er.oninput=Yn,I.oninput=()=>{Yn(),k.value=I.value},I.onchange=()=>{Yn(),k.value=I.value}},Fg=d=>typeof d=="string"?document.querySelector(d):d,Lg=d=>{let h=H();h.setAttribute("role",d.toast?"alert":"dialog"),h.setAttribute("aria-live",d.toast?"polite":"assertive"),d.toast||h.setAttribute("aria-modal","true")},Nc=d=>{window.getComputedStyle(d).direction==="rtl"&&ge(L(),r.rtl)},jl=d=>{let h=Vl();if(Ll()){l("SweetAlert2 requires document to initialize");return}let m=document.createElement("div");m.className=r.container,h&&ge(m,r["no-transition"]),at(m,ps);let I=Fg(d.target);I.appendChild(m),Lg(d),Nc(I),xc()},xo=(d,h)=>{d instanceof HTMLElement?h.appendChild(d):typeof d=="object"?gs(d,h):d&&at(h,d)},gs=(d,h)=>{d.jquery?Pc(h,d):at(h,d.toString())},Pc=(d,h)=>{if(d.textContent="",0 in h)for(let m=0;m in h;m++)d.appendChild(h[m].cloneNode(!0));else d.appendChild(h.cloneNode(!0))},Ar=(()=>{if(Ll())return!1;let d=document.createElement("div"),h={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(let m in h)if(Object.prototype.hasOwnProperty.call(h,m)&&typeof d.style[m]<"u")return h[m];return!1})(),Sr=()=>{let d=document.createElement("div");d.className=r["scrollbar-measure"],document.body.appendChild(d);let h=d.getBoundingClientRect().width-d.clientWidth;return document.body.removeChild(d),h},Ul=(d,h)=>{let m=xn(),I=dn();!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?ut(m):ct(m),vt(m,h,"actions"),No(m,I,h),at(I,h.loaderHtml),vt(I,h,"loader")};function No(d,h,m){let I=x(),k=D(),K=Tr();Rr(I,"confirm",m),Rr(k,"deny",m),Rr(K,"cancel",m),Bl(I,k,K,m),m.reverseButtons&&(m.toast?(d.insertBefore(K,I),d.insertBefore(k,I)):(d.insertBefore(K,h),d.insertBefore(k,h),d.insertBefore(I,h)))}function Bl(d,h,m,I){if(!I.buttonsStyling){qt([d,h,m],r.styled);return}ge([d,h,m],r.styled),I.confirmButtonColor&&(d.style.backgroundColor=I.confirmButtonColor,ge(d,r["default-outline"])),I.denyButtonColor&&(h.style.backgroundColor=I.denyButtonColor,ge(h,r["default-outline"])),I.cancelButtonColor&&(m.style.backgroundColor=I.cancelButtonColor,ge(m,r["default-outline"]))}function Rr(d,h,m){wi(d,m[`show${a(h)}Button`],"inline-block"),at(d,m[`${h}ButtonText`]),d.setAttribute("aria-label",m[`${h}ButtonAriaLabel`]),d.className=r[h],vt(d,m,`${h}Button`),ge(d,m[`${h}ButtonClass`])}let $l=(d,h)=>{let m=To();at(m,h.closeButtonHtml),vt(m,h,"closeButton"),wi(m,h.showCloseButton),m.setAttribute("aria-label",h.closeButtonAriaLabel)},_t=(d,h)=>{let m=L();m&&(Hl(m,h.backdrop),ms(m,h.position),ys(m,h.grow),vt(m,h,"container"))};function Hl(d,h){typeof h=="string"?d.style.background=h:h||ge([document.documentElement,document.body],r["no-backdrop"])}function ms(d,h){h in r?ge(d,r[h]):(u('The "position" parameter is not valid, defaulting to "center"'),ge(d,r.center))}function ys(d,h){if(h&&typeof h=="string"){let m=`grow-${h}`;m in r&&ge(d,r[m])}}let Vg=["input","file","range","select","radio","checkbox","textarea"],jg=(d,h)=>{let m=H(),I=n.innerParams.get(d),k=!I||h.input!==I.input;Vg.forEach(K=>{let Ye=Pn(m,r[K]);Bg(K,h.inputAttributes),Ye.className=r[K],k&&ut(Ye)}),h.input&&(k&&_i(h),Po(h))},_i=d=>{if(!It[d.input]){l(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${d.input}"`);return}let h=vs(d.input),m=It[d.input](h,d);ct(h),setTimeout(()=>{Ao(m)})},Ug=d=>{for(let h=0;h<d.attributes.length;h++){let m=d.attributes[h].name;["type","value","style"].includes(m)||d.removeAttribute(m)}},Bg=(d,h)=>{let m=vi(H(),d);if(m){Ug(m);for(let I in h)m.setAttribute(I,h[I])}},Po=d=>{let h=vs(d.input);typeof d.customClass=="object"&&ge(h,d.customClass.input)},Oo=(d,h)=>{(!d.placeholder||h.inputPlaceholder)&&(d.placeholder=h.inputPlaceholder)},Mr=(d,h,m)=>{if(m.inputLabel){d.id=r.input;let I=document.createElement("label"),k=r["input-label"];I.setAttribute("for",d.id),I.className=k,typeof m.customClass=="object"&&ge(I,m.customClass.inputLabel),I.innerText=m.inputLabel,h.insertAdjacentElement("beforebegin",I)}},vs=d=>Pn(H(),r[d]||r.input),Xt=(d,h)=>{["string","number"].includes(typeof h)?d.value=`${h}`:N(h)||u(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof h}"`)},It={};It.text=It.email=It.password=It.number=It.tel=It.url=(d,h)=>(Xt(d,h.inputValue),Mr(d,d,h),Oo(d,h),d.type=h.input,d),It.file=(d,h)=>(Mr(d,d,h),Oo(d,h),d),It.range=(d,h)=>{let m=d.querySelector("input"),I=d.querySelector("output");return Xt(m,h.inputValue),m.type=h.input,Xt(I,h.inputValue),Mr(m,d,h),d},It.select=(d,h)=>{if(d.textContent="",h.inputPlaceholder){let m=document.createElement("option");at(m,h.inputPlaceholder),m.value="",m.disabled=!0,m.selected=!0,d.appendChild(m)}return Mr(d,d,h),d},It.radio=d=>(d.textContent="",d),It.checkbox=(d,h)=>{let m=vi(H(),"checkbox");m.value="1",m.id=r.checkbox,m.checked=!!h.inputValue;let I=d.querySelector("span");return at(I,h.inputPlaceholder),m},It.textarea=(d,h)=>{Xt(d,h.inputValue),Oo(d,h),Mr(d,d,h);let m=I=>parseInt(window.getComputedStyle(I).marginLeft)+parseInt(window.getComputedStyle(I).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let I=parseInt(window.getComputedStyle(H()).width),k=()=>{let K=d.offsetWidth+m(d);K>I?H().style.width=`${K}px`:H().style.width=null};new MutationObserver(k).observe(d,{attributes:!0,attributeFilter:["style"]})}}),d};let zl=(d,h)=>{let m=E();vt(m,h,"htmlContainer"),h.html?(xo(h.html,m),ct(m,"block")):h.text?(m.textContent=h.text,ct(m,"block")):ut(m),jg(d,h)},Oc=(d,h)=>{let m=gi();wi(m,h.footer),h.footer&&xo(h.footer,m),vt(m,h,"footer")},kc=(d,h)=>{let m=n.innerParams.get(d),I=le();if(m&&h.icon===m.icon){Lc(I,h),Fc(I,h);return}if(!h.icon&&!h.iconHtml){ut(I);return}if(h.icon&&Object.keys(i).indexOf(h.icon)===-1){l(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${h.icon}"`),ut(I);return}ct(I),Lc(I,h),Fc(I,h),ge(I,h.showClass.icon)},Fc=(d,h)=>{for(let m in i)h.icon!==m&&qt(d,i[m]);ge(d,i[h.icon]),Vc(d,h),ql(),vt(d,h,"icon")},ql=()=>{let d=H(),h=window.getComputedStyle(d).getPropertyValue("background-color"),m=d.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let I=0;I<m.length;I++)m[I].style.backgroundColor=h},$g=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,ko=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Lc=(d,h)=>{let m=d.innerHTML,I;h.iconHtml?I=Ii(h.iconHtml):h.icon==="success"?(I=$g,m=m.replace(/ style=".*?"/g,"")):h.icon==="error"?I=ko:I=Ii({question:"?",warning:"!",info:"i"}[h.icon]),m.trim()!==I.trim()&&at(d,I)},Vc=(d,h)=>{if(h.iconColor){d.style.color=h.iconColor,d.style.borderColor=h.iconColor;for(let m of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Mc(d,m,"backgroundColor",h.iconColor);Mc(d,".swal2-success-ring","borderColor",h.iconColor)}},Ii=d=>`<div class="${r["icon-content"]}">${d}</div>`,xr=(d,h)=>{let m=b();if(!h.imageUrl){ut(m);return}ct(m,""),m.setAttribute("src",h.imageUrl),m.setAttribute("alt",h.imageAlt),Cr(m,"width",h.imageWidth),Cr(m,"height",h.imageHeight),m.className=r.image,vt(m,h,"image")},jc=(d,h)=>{let m=L(),I=H();h.toast?(Cr(m,"width",h.width),I.style.width="100%",I.insertBefore(dn(),le())):Cr(I,"width",h.width),Cr(I,"padding",h.padding),h.color&&(I.style.color=h.color),h.background&&(I.style.background=h.background),ut(S()),Hg(I,h)},Hg=(d,h)=>{d.className=`${r.popup} ${St(d)?h.showClass.popup:""}`,h.toast?(ge([document.documentElement,document.body],r["toast-shown"]),ge(d,r.toast)):ge(d,r.modal),vt(d,h,"popup"),typeof h.customClass=="string"&&ge(d,h.customClass),h.icon&&ge(d,r[`icon-${h.icon}`])},Gl=(d,h)=>{let m=A();if(!h.progressSteps||h.progressSteps.length===0){ut(m);return}ct(m),m.textContent="",h.currentProgressStep>=h.progressSteps.length&&u("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),h.progressSteps.forEach((I,k)=>{let K=Wl(I);if(m.appendChild(K),k===h.currentProgressStep&&ge(K,r["active-progress-step"]),k!==h.progressSteps.length-1){let Ye=Kl(h);m.appendChild(Ye)}})},Wl=d=>{let h=document.createElement("li");return ge(h,r["progress-step"]),at(h,d),h},Kl=d=>{let h=document.createElement("li");return ge(h,r["progress-step-line"]),d.progressStepsDistance&&Cr(h,"width",d.progressStepsDistance),h},Uc=(d,h)=>{let m=C();wi(m,h.title||h.titleText,"block"),h.title&&xo(h.title,m),h.titleText&&(m.innerText=h.titleText),vt(m,h,"title")},Fo=(d,h)=>{jc(d,h),_t(d,h),Gl(d,h),kc(d,h),xr(d,h),Uc(d,h),$l(d,h),zl(d,h),Ul(d,h),Oc(d,h),typeof h.didRender=="function"&&h.didRender(H())};function Bc(){let d=n.innerParams.get(this);if(!d)return;let h=n.domCache.get(this);ut(h.loader),Co()?d.icon&&ct(le()):Ql(h),qt([h.popup,h.actions],r.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}let Ql=d=>{let h=d.popup.getElementsByClassName(d.loader.getAttribute("data-button-to-replace"));h.length?ct(h[0],"inline-block"):kg()&&ut(d.actions)};function zg(d){let h=n.innerParams.get(d||this),m=n.domCache.get(d||this);return m?vi(m.popup,h.input):null}let qg=()=>St(H()),$c=()=>x()&&x().click(),Yl=()=>D()&&D().click(),Gg=()=>Tr()&&Tr().click(),Gt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),fn=d=>{d.keydownTarget&&d.keydownHandlerAdded&&(d.keydownTarget.removeEventListener("keydown",d.keydownHandler,{capture:d.keydownListenerCapture}),d.keydownHandlerAdded=!1)},Lo=(d,h,m,I)=>{fn(h),m.toast||(h.keydownHandler=k=>Vo(d,k,I),h.keydownTarget=m.keydownListenerCapture?window:H(),h.keydownListenerCapture=m.keydownListenerCapture,h.keydownTarget.addEventListener("keydown",h.keydownHandler,{capture:h.keydownListenerCapture}),h.keydownHandlerAdded=!0)},Ei=(d,h,m)=>{let I=hn();if(I.length)return h=h+m,h===I.length?h=0:h===-1&&(h=I.length-1),I[h].focus();H().focus()},Hc=["ArrowRight","ArrowDown"],Oe=["ArrowLeft","ArrowUp"],Vo=(d,h,m)=>{let I=n.innerParams.get(d);I&&(h.isComposing||h.keyCode===229||(I.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?ws(d,h,I):h.key==="Tab"?_s(h,I):[...Hc,...Oe].includes(h.key)?Wg(h.key):h.key==="Escape"&&Zl(h,I,m)))},ws=(d,h,m)=>{if(_(m.allowEnterKey)&&h.target&&d.getInput()&&h.target instanceof HTMLElement&&h.target.outerHTML===d.getInput().outerHTML){if(["textarea","file"].includes(m.input))return;$c(),h.preventDefault()}},_s=(d,h)=>{let m=d.target,I=hn(),k=-1;for(let K=0;K<I.length;K++)if(m===I[K]){k=K;break}d.shiftKey?Ei(h,k,-1):Ei(h,k,1),d.stopPropagation(),d.preventDefault()},Wg=d=>{let h=x(),m=D(),I=Tr();if(document.activeElement instanceof HTMLElement&&![h,m,I].includes(document.activeElement))return;let k=Hc.includes(d)?"nextElementSibling":"previousElementSibling",K=document.activeElement;for(let Ye=0;Ye<xn().children.length;Ye++){if(K=K[k],!K)return;if(K instanceof HTMLButtonElement&&St(K))break}K instanceof HTMLButtonElement&&K.focus()},Zl=(d,h,m)=>{_(h.allowEscapeKey)&&(d.preventDefault(),m(Gt.esc))};var Is={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let Kg=()=>{Array.from(document.body.children).forEach(h=>{h===L()||h.contains(L())||(h.hasAttribute("aria-hidden")&&h.setAttribute("data-previous-aria-hidden",h.getAttribute("aria-hidden")),h.setAttribute("aria-hidden","true"))})},Jl=()=>{Array.from(document.body.children).forEach(h=>{h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},Qg=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!Nn(document.body,r.iosfix)){let h=document.body.scrollTop;document.body.style.top=`${h*-1}px`,ge(document.body,r.iosfix),Zn(),Es()}},Es=()=>{let d=navigator.userAgent,h=!!d.match(/iPad/i)||!!d.match(/iPhone/i),m=!!d.match(/WebKit/i);h&&m&&!d.match(/CriOS/i)&&H().scrollHeight>window.innerHeight-44&&(L().style.paddingBottom="44px")},Zn=()=>{let d=L(),h;d.ontouchstart=m=>{h=Xl(m)},d.ontouchmove=m=>{h&&(m.preventDefault(),m.stopPropagation())}},Xl=d=>{let h=d.target,m=L();return ed(d)||td(d)?!1:h===m||!Ro(m)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(Ro(E())&&E().contains(h))},ed=d=>d.touches&&d.touches.length&&d.touches[0].touchType==="stylus",td=d=>d.touches&&d.touches.length>1,bi=()=>{if(Nn(document.body,r.iosfix)){let d=parseInt(document.body.style.top,10);qt(document.body,r.iosfix),document.body.style.top="",document.body.scrollTop=d*-1}},Yg=()=>{yi.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(yi.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${yi.previousBodyPadding+Sr()}px`)},Zg=()=>{yi.previousBodyPadding!==null&&(document.body.style.paddingRight=`${yi.previousBodyPadding}px`,yi.previousBodyPadding=null)};function nd(d,h,m,I){Co()?Bo(d,I):(Fl(m).then(()=>Bo(d,I)),fn(ce)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),Xe()&&(Zg(),bi(),Jl()),Jn()}function Jn(){qt([document.documentElement,document.body],[r.shown,r["height-auto"],r["no-backdrop"],r["toast-shown"]])}function jo(d){d=Ds(d);let h=Is.swalPromiseResolve.get(this),m=bs(this);this.isAwaitingPromise()?d.isDismissed||(Di(this),h(d)):m&&h(d)}function Jg(){return!!n.awaitingPromise.get(this)}let bs=d=>{let h=H();if(!h)return!1;let m=n.innerParams.get(d);if(!m||Nn(h,m.hideClass.popup))return!1;qt(h,m.showClass.popup),ge(h,m.hideClass.popup);let I=L();return qt(I,m.showClass.backdrop),ge(I,m.hideClass.backdrop),Ts(d,h,m),!0};function Uo(d){let h=Is.swalPromiseReject.get(this);Di(this),h&&h(d)}let Di=d=>{d.isAwaitingPromise()&&(n.awaitingPromise.delete(d),n.innerParams.get(d)||d._destroy())},Ds=d=>typeof d>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},d),Ts=(d,h,m)=>{let I=L(),k=Ar&&Mo(h);typeof m.willClose=="function"&&m.willClose(h),k?rd(d,h,I,m.returnFocus,m.didClose):nd(d,I,m.returnFocus,m.didClose)},rd=(d,h,m,I,k)=>{ce.swalCloseEventFinishedCallback=nd.bind(null,d,m,I,k),h.addEventListener(Ar,function(K){K.target===h&&(ce.swalCloseEventFinishedCallback(),delete ce.swalCloseEventFinishedCallback)})},Bo=(d,h)=>{setTimeout(()=>{typeof h=="function"&&h.bind(d.params)(),d._destroy()})};function Ue(d,h,m){let I=n.domCache.get(d);h.forEach(k=>{I[k].disabled=m})}function id(d,h){if(d)if(d.type==="radio"){let I=d.parentNode.parentNode.querySelectorAll("input");for(let k=0;k<I.length;k++)I[k].disabled=h}else d.disabled=h}function Xg(){Ue(this,["confirmButton","denyButton","cancelButton"],!1)}function sd(){Ue(this,["confirmButton","denyButton","cancelButton"],!0)}function od(){id(this.getInput(),!1)}function ad(){id(this.getInput(),!0)}function $o(d){let h=n.domCache.get(this),m=n.innerParams.get(this);at(h.validationMessage,d),h.validationMessage.className=r["validation-message"],m.customClass&&m.customClass.validationMessage&&ge(h.validationMessage,m.customClass.validationMessage),ct(h.validationMessage);let I=this.getInput();I&&(I.setAttribute("aria-invalid",!0),I.setAttribute("aria-describedby",r["validation-message"]),Ao(I),ge(I,r.inputerror))}function cd(){let d=n.domCache.get(this);d.validationMessage&&ut(d.validationMessage);let h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),qt(h,r.inputerror))}let Rt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},ud=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],em={},Cs=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],zc=d=>Object.prototype.hasOwnProperty.call(Rt,d),Ho=d=>ud.indexOf(d)!==-1,Ti=d=>em[d],ld=d=>{zc(d)||u(`Unknown parameter "${d}"`)},zo=d=>{Cs.includes(d)&&u(`The parameter "${d}" is incompatible with toasts`)},tm=d=>{Ti(d)&&w(d,Ti(d))},dd=d=>{d.backdrop===!1&&d.allowOutsideClick&&u('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let h in d)ld(h),d.toast&&zo(h),tm(h)};function As(d){let h=H(),m=n.innerParams.get(this);if(!h||Nn(h,m.hideClass.popup)){u("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let I=hd(d),k=Object.assign({},m,I);Fo(this,k),n.innerParams.set(this,k),Object.defineProperties(this,{params:{value:Object.assign({},this.params,d),writable:!1,enumerable:!0}})}let hd=d=>{let h={};return Object.keys(d).forEach(m=>{Ho(m)?h[m]=d[m]:u(`Invalid parameter to update: ${m}`)}),h};function fd(){let d=n.domCache.get(this),h=n.innerParams.get(this);if(!h){qo(this);return}d.popup&&ce.swalCloseEventFinishedCallback&&(ce.swalCloseEventFinishedCallback(),delete ce.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),qc(this)}let qc=d=>{qo(d),delete d.params,delete ce.keydownHandler,delete ce.keydownTarget,delete ce.currentInstance},qo=d=>{d.isAwaitingPromise()?(Go(n,d),n.awaitingPromise.set(d,!0)):(Go(Is,d),Go(n,d))},Go=(d,h)=>{for(let m in d)d[m].delete(h)};var Ss=Object.freeze({__proto__:null,hideLoading:Bc,disableLoading:Bc,getInput:zg,close:jo,isAwaitingPromise:Jg,rejectPromise:Uo,handleAwaitingPromise:Di,closePopup:jo,closeModal:jo,closeToast:jo,enableButtons:Xg,disableButtons:sd,enableInput:od,disableInput:ad,showValidationMessage:$o,resetValidationMessage:cd,update:As,_destroy:fd});let Nr=d=>{let h=H();h||new _d,h=H();let m=dn();Co()?ut(le()):pd(h,d),ct(m),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()},pd=(d,h)=>{let m=xn(),I=dn();!h&&St(x())&&(h=x()),ct(m),h&&(ut(h),I.setAttribute("data-button-to-replace",h.className)),I.parentNode.insertBefore(I,h),ge([d,m],r.loading)},Pr=(d,h)=>{h.input==="select"||h.input==="radio"?Wo(d,h):["text","email","number","tel","textarea"].includes(h.input)&&(M(h.inputValue)||N(h.inputValue))&&(Nr(x()),kt(d,h))},gd=(d,h)=>{let m=d.getInput();if(!m)return null;switch(h.input){case"checkbox":return md(m);case"radio":return yd(m);case"file":return vd(m);default:return h.inputAutoTrim?m.value.trim():m.value}},md=d=>d.checked?1:0,yd=d=>d.checked?d.value:null,vd=d=>d.files.length?d.getAttribute("multiple")!==null?d.files:d.files[0]:null,Wo=(d,h)=>{let m=H(),I=k=>{wd[h.input](m,Ko(k),h)};M(h.inputOptions)||N(h.inputOptions)?(Nr(x()),O(h.inputOptions).then(k=>{d.hideLoading(),I(k)})):typeof h.inputOptions=="object"?I(h.inputOptions):l(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof h.inputOptions}`)},kt=(d,h)=>{let m=d.getInput();ut(m),O(h.inputValue).then(I=>{m.value=h.input==="number"?`${parseFloat(I)||0}`:`${I}`,ct(m),m.focus(),d.hideLoading()}).catch(I=>{l(`Error in inputValue promise: ${I}`),m.value="",ct(m),m.focus(),d.hideLoading()})},wd={select:(d,h,m)=>{let I=Pn(d,r.select),k=(K,Ye,er)=>{let Ft=document.createElement("option");Ft.value=er,at(Ft,Ye),Ft.selected=Or(er,m.inputValue),K.appendChild(Ft)};h.forEach(K=>{let Ye=K[0],er=K[1];if(Array.isArray(er)){let Ft=document.createElement("optgroup");Ft.label=Ye,Ft.disabled=!1,I.appendChild(Ft),er.forEach(Zo=>k(Ft,Zo[1],Zo[0]))}else k(I,er,Ye)}),I.focus()},radio:(d,h,m)=>{let I=Pn(d,r.radio);h.forEach(K=>{let Ye=K[0],er=K[1],Ft=document.createElement("input"),Zo=document.createElement("label");Ft.type="radio",Ft.name=r.radio,Ft.value=Ye,Or(Ye,m.inputValue)&&(Ft.checked=!0);let rm=document.createElement("span");at(rm,er),rm.className=r.label,Zo.appendChild(Ft),Zo.appendChild(rm),I.appendChild(Zo)});let k=I.querySelectorAll("input");k.length&&k[0].focus()}},Ko=d=>{let h=[];return typeof Map<"u"&&d instanceof Map?d.forEach((m,I)=>{let k=m;typeof k=="object"&&(k=Ko(k)),h.push([I,k])}):Object.keys(d).forEach(m=>{let I=d[m];typeof I=="object"&&(I=Ko(I)),h.push([m,I])}),h},Or=(d,h)=>h&&h.toString()===d.toString(),c=d=>{let h=n.innerParams.get(d);d.disableButtons(),h.input?v(d,"confirm"):Qe(d,!0)},f=d=>{let h=n.innerParams.get(d);d.disableButtons(),h.returnInputValueOnDeny?v(d,"deny"):P(d,!1)},g=(d,h)=>{d.disableButtons(),h(Gt.cancel)},v=(d,h)=>{let m=n.innerParams.get(d);if(!m.input){l(`The "input" parameter is needed to be set when using returnInputValueOn${a(h)}`);return}let I=gd(d,m);m.inputValidator?R(d,I,h):d.getInput().checkValidity()?h==="deny"?P(d,I):Qe(d,I):(d.enableButtons(),d.showValidationMessage(m.validationMessage))},R=(d,h,m)=>{let I=n.innerParams.get(d);d.disableInput(),Promise.resolve().then(()=>O(I.inputValidator(h,I.validationMessage))).then(K=>{d.enableButtons(),d.enableInput(),K?d.showValidationMessage(K):m==="deny"?P(d,h):Qe(d,h)})},P=(d,h)=>{let m=n.innerParams.get(d||void 0);m.showLoaderOnDeny&&Nr(D()),m.preDeny?(n.awaitingPromise.set(d||void 0,!0),Promise.resolve().then(()=>O(m.preDeny(h,m.validationMessage))).then(k=>{k===!1?(d.hideLoading(),Di(d)):d.close({isDenied:!0,value:typeof k>"u"?h:k})}).catch(k=>xe(d||void 0,k))):d.close({isDenied:!0,value:h})},U=(d,h)=>{d.close({isConfirmed:!0,value:h})},xe=(d,h)=>{d.rejectPromise(h)},Qe=(d,h)=>{let m=n.innerParams.get(d||void 0);m.showLoaderOnConfirm&&Nr(),m.preConfirm?(d.resetValidationMessage(),n.awaitingPromise.set(d||void 0,!0),Promise.resolve().then(()=>O(m.preConfirm(h,m.validationMessage))).then(k=>{St(S())||k===!1?(d.hideLoading(),Di(d)):U(d,typeof k>"u"?h:k)}).catch(k=>xe(d||void 0,k))):U(d,h)},Ee=(d,h,m)=>{n.innerParams.get(d).toast?ft(d,h,m):(en(h),Qo(h),Gc(d,h,m))},ft=(d,h,m)=>{h.popup.onclick=()=>{let I=n.innerParams.get(d);I&&(pt(I)||I.timer||I.input)||m(Gt.close)}},pt=d=>d.showConfirmButton||d.showDenyButton||d.showCancelButton||d.showCloseButton,On=!1,en=d=>{d.popup.onmousedown=()=>{d.container.onmouseup=function(h){d.container.onmouseup=void 0,h.target===d.container&&(On=!0)}}},Qo=d=>{d.container.onmousedown=()=>{d.popup.onmouseup=function(h){d.popup.onmouseup=void 0,(h.target===d.popup||d.popup.contains(h.target))&&(On=!0)}}},Gc=(d,h,m)=>{h.container.onclick=I=>{let k=n.innerParams.get(d);if(On){On=!1;return}I.target===h.container&&_(k.allowOutsideClick)&&m(Gt.backdrop)}},Hx=d=>typeof d=="object"&&d.jquery,ab=d=>d instanceof Element||Hx(d),zx=d=>{let h={};return typeof d[0]=="object"&&!ab(d[0])?Object.assign(h,d[0]):["title","html","icon"].forEach((m,I)=>{let k=d[I];typeof k=="string"||ab(k)?h[m]=k:k!==void 0&&l(`Unexpected type of ${m}! Expected "string" or "Element", got ${typeof k}`)}),h};function qx(){let d=this;for(var h=arguments.length,m=new Array(h),I=0;I<h;I++)m[I]=arguments[I];return new d(...m)}function Gx(d){class h extends this{_main(I,k){return super._main(I,Object.assign({},d,k))}}return h}let Wx=()=>ce.timeout&&ce.timeout.getTimerLeft(),cb=()=>{if(ce.timeout)return ht(),ce.timeout.stop()},ub=()=>{if(ce.timeout){let d=ce.timeout.start();return fs(d),d}},Kx=()=>{let d=ce.timeout;return d&&(d.running?cb():ub())},Qx=d=>{if(ce.timeout){let h=ce.timeout.increase(d);return fs(h,!0),h}},Yx=()=>ce.timeout&&ce.timeout.isRunning(),lb=!1,nm={};function Zx(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";nm[d]=this,lb||(document.body.addEventListener("click",Jx),lb=!0)}let Jx=d=>{for(let h=d.target;h&&h!==document;h=h.parentNode)for(let m in nm){let I=h.getAttribute(m);if(I){nm[m].fire({template:I});return}}};var Xx=Object.freeze({__proto__:null,isValidParameter:zc,isUpdatableParameter:Ho,isDeprecatedParameter:Ti,argsToParams:zx,getContainer:L,getPopup:H,getTitle:C,getHtmlContainer:E,getImage:b,getIcon:le,getIconContent:J,getInputLabel:Mn,getCloseButton:To,getActions:xn,getConfirmButton:x,getDenyButton:D,getCancelButton:Tr,getLoader:dn,getFooter:gi,getTimerProgressBar:mi,getFocusableElements:hn,getValidationMessage:S,getProgressSteps:A,isLoading:hs,isVisible:qg,clickConfirm:$c,clickDeny:Yl,clickCancel:Gg,fire:qx,mixin:Gx,showLoading:Nr,enableLoading:Nr,getTimerLeft:Wx,stopTimer:cb,resumeTimer:ub,toggleTimer:Kx,increaseTimer:Qx,isTimerRunning:Yx,bindClickHandler:Zx});class eN{constructor(h,m){this.callback=h,this.remaining=m,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(h){let m=this.running;return m&&this.stop(),this.remaining+=h,m&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let db=["swal-title","swal-html","swal-footer"],tN=d=>{let h=typeof d.template=="string"?document.querySelector(d.template):d.template;if(!h)return{};let m=h.content;return uN(m),Object.assign(nN(m),rN(m),iN(m),sN(m),oN(m),aN(m),cN(m,db))},nN=d=>{let h={};return Array.from(d.querySelectorAll("swal-param")).forEach(I=>{Rs(I,["name","value"]);let k=I.getAttribute("name"),K=I.getAttribute("value");typeof Rt[k]=="boolean"?h[k]=K!=="false":typeof Rt[k]=="object"?h[k]=JSON.parse(K):h[k]=K}),h},rN=d=>{let h={};return Array.from(d.querySelectorAll("swal-function-param")).forEach(I=>{let k=I.getAttribute("name"),K=I.getAttribute("value");h[k]=new Function(`return ${K}`)()}),h},iN=d=>{let h={};return Array.from(d.querySelectorAll("swal-button")).forEach(I=>{Rs(I,["type","color","aria-label"]);let k=I.getAttribute("type");h[`${k}ButtonText`]=I.innerHTML,h[`show${a(k)}Button`]=!0,I.hasAttribute("color")&&(h[`${k}ButtonColor`]=I.getAttribute("color")),I.hasAttribute("aria-label")&&(h[`${k}ButtonAriaLabel`]=I.getAttribute("aria-label"))}),h},sN=d=>{let h={},m=d.querySelector("swal-image");return m&&(Rs(m,["src","width","height","alt"]),m.hasAttribute("src")&&(h.imageUrl=m.getAttribute("src")),m.hasAttribute("width")&&(h.imageWidth=m.getAttribute("width")),m.hasAttribute("height")&&(h.imageHeight=m.getAttribute("height")),m.hasAttribute("alt")&&(h.imageAlt=m.getAttribute("alt"))),h},oN=d=>{let h={},m=d.querySelector("swal-icon");return m&&(Rs(m,["type","color"]),m.hasAttribute("type")&&(h.icon=m.getAttribute("type")),m.hasAttribute("color")&&(h.iconColor=m.getAttribute("color")),h.iconHtml=m.innerHTML),h},aN=d=>{let h={},m=d.querySelector("swal-input");m&&(Rs(m,["type","label","placeholder","value"]),h.input=m.getAttribute("type")||"text",m.hasAttribute("label")&&(h.inputLabel=m.getAttribute("label")),m.hasAttribute("placeholder")&&(h.inputPlaceholder=m.getAttribute("placeholder")),m.hasAttribute("value")&&(h.inputValue=m.getAttribute("value")));let I=Array.from(d.querySelectorAll("swal-input-option"));return I.length&&(h.inputOptions={},I.forEach(k=>{Rs(k,["value"]);let K=k.getAttribute("value"),Ye=k.innerHTML;h.inputOptions[K]=Ye})),h},cN=(d,h)=>{let m={};for(let I in h){let k=h[I],K=d.querySelector(k);K&&(Rs(K,[]),m[k.replace(/^swal-/,"")]=K.innerHTML.trim())}return m},uN=d=>{let h=db.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(d.children).forEach(m=>{let I=m.tagName.toLowerCase();h.includes(I)||u(`Unrecognized element <${I}>`)})},Rs=(d,h)=>{Array.from(d.attributes).forEach(m=>{h.indexOf(m.name)===-1&&u([`Unrecognized attribute "${m.name}" on <${d.tagName.toLowerCase()}>.`,`${h.length?`Allowed attributes are: ${h.join(", ")}`:"To set the value, use HTML within the element."}`])})},hb=10,lN=d=>{let h=L(),m=H();typeof d.willOpen=="function"&&d.willOpen(m);let k=window.getComputedStyle(document.body).overflowY;fN(h,m,d),setTimeout(()=>{dN(h,m)},hb),Xe()&&(hN(h,d.scrollbarPadding,k),Kg()),!Co()&&!ce.previousActiveElement&&(ce.previousActiveElement=document.activeElement),typeof d.didOpen=="function"&&setTimeout(()=>d.didOpen(m)),qt(h,r["no-transition"])},fb=d=>{let h=H();if(d.target!==h)return;let m=L();h.removeEventListener(Ar,fb),m.style.overflowY="auto"},dN=(d,h)=>{Ar&&Mo(h)?(d.style.overflowY="hidden",h.addEventListener(Ar,fb)):d.style.overflowY="auto"},hN=(d,h,m)=>{Qg(),h&&m!=="hidden"&&Yg(),setTimeout(()=>{d.scrollTop=0})},fN=(d,h,m)=>{ge(d,m.showClass.backdrop),h.style.setProperty("opacity","0","important"),ct(h,"grid"),setTimeout(()=>{ge(h,m.showClass.popup),h.style.removeProperty("opacity")},hb),ge([document.documentElement,document.body],r.shown),m.heightAuto&&m.backdrop&&!m.toast&&ge([document.documentElement,document.body],r["height-auto"])};var pb={email:(d,h)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(d)?Promise.resolve():Promise.resolve(h||"Invalid email address"),url:(d,h)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(d)?Promise.resolve():Promise.resolve(h||"Invalid URL")};function pN(d){d.inputValidator||Object.keys(pb).forEach(h=>{d.input===h&&(d.inputValidator=pb[h])})}function gN(d){(!d.target||typeof d.target=="string"&&!document.querySelector(d.target)||typeof d.target!="string"&&!d.target.appendChild)&&(u('Target parameter is not valid, defaulting to "body"'),d.target="body")}function mN(d){pN(d),d.showLoaderOnConfirm&&!d.preConfirm&&u(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),gN(d),typeof d.title=="string"&&(d.title=d.title.split(`
`).join("<br />")),jl(d)}let Xn;class Yo{constructor(){if(typeof window>"u")return;Xn=this;for(var h=arguments.length,m=new Array(h),I=0;I<h;I++)m[I]=arguments[I];let k=Object.freeze(this.constructor.argsToParams(m));Object.defineProperties(this,{params:{value:k,writable:!1,enumerable:!0,configurable:!0}});let K=Xn._main(Xn.params);n.promise.set(this,K)}_main(h){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};dd(Object.assign({},m,h)),ce.currentInstance&&(ce.currentInstance._destroy(),Xe()&&Jl()),ce.currentInstance=Xn;let I=vN(h,m);mN(I),Object.freeze(I),ce.timeout&&(ce.timeout.stop(),delete ce.timeout),clearTimeout(ce.restoreFocusTimeout);let k=wN(Xn);return Fo(Xn,I),n.innerParams.set(Xn,I),yN(Xn,k,I)}then(h){return n.promise.get(this).then(h)}finally(h){return n.promise.get(this).finally(h)}}let yN=(d,h,m)=>new Promise((I,k)=>{let K=Ye=>{d.close({isDismissed:!0,dismiss:Ye})};Is.swalPromiseResolve.set(d,I),Is.swalPromiseReject.set(d,k),h.confirmButton.onclick=()=>{c(d)},h.denyButton.onclick=()=>{f(d)},h.cancelButton.onclick=()=>{g(d,K)},h.closeButton.onclick=()=>{K(Gt.close)},Ee(d,h,K),Lo(d,ce,m,K),Pr(d,m),lN(m),_N(ce,m,K),IN(h,m),setTimeout(()=>{h.container.scrollTop=0})}),vN=(d,h)=>{let m=tN(d),I=Object.assign({},Rt,h,m,d);return I.showClass=Object.assign({},Rt.showClass,I.showClass),I.hideClass=Object.assign({},Rt.hideClass,I.hideClass),I},wN=d=>{let h={popup:H(),container:L(),actions:xn(),confirmButton:x(),denyButton:D(),cancelButton:Tr(),loader:dn(),closeButton:To(),validationMessage:S(),progressSteps:A()};return n.domCache.set(d,h),h},_N=(d,h,m)=>{let I=mi();ut(I),h.timer&&(d.timeout=new eN(()=>{m("timer"),delete d.timeout},h.timer),h.timerProgressBar&&(ct(I),vt(I,h,"timerProgressBar"),setTimeout(()=>{d.timeout&&d.timeout.running&&fs(h.timer)})))},IN=(d,h)=>{if(!h.toast){if(!_(h.allowEnterKey)){bN();return}EN(d,h)||Ei(h,-1,1)}},EN=(d,h)=>h.focusDeny&&St(d.denyButton)?(d.denyButton.focus(),!0):h.focusCancel&&St(d.cancelButton)?(d.cancelButton.focus(),!0):h.focusConfirm&&St(d.confirmButton)?(d.confirmButton.focus(),!0):!1,bN=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){let d=new Date,h=localStorage.getItem("swal-initiation");h?(d.getTime()-Date.parse(h))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let m=document.createElement("audio");m.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",m.loop=!0,document.body.appendChild(m),setTimeout(()=>{m.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${d}`)}Object.assign(Yo.prototype,Ss),Object.assign(Yo,Xx),Object.keys(Ss).forEach(d=>{Yo[d]=function(){if(Xn)return Xn[d](...arguments)}}),Yo.DismissReason=Gt,Yo.version="11.6.13";let _d=Yo;return _d.default=_d,_d});typeof Dr<"u"&&Dr.Sweetalert2&&(Dr.swal=Dr.sweetAlert=Dr.Swal=Dr.SweetAlert=Dr.Sweetalert2);typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')});function gb(n,e){return Object.is(n,e)}var lt=null,Id=!1,Ed=1,kr=Symbol("SIGNAL");function Te(n){let e=lt;return lt=n,e}function mb(){return lt}var Kc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function om(n){if(Id)throw new Error("");if(lt===null)return;lt.consumerOnSignalRead(n);let e=lt.nextProducerIndex++;if(Cd(lt),e<lt.producerNode.length&&lt.producerNode[e]!==n&&Wc(lt)){let t=lt.producerNode[e];Td(t,lt.producerIndexOfThis[e])}lt.producerNode[e]!==n&&(lt.producerNode[e]=n,lt.producerIndexOfThis[e]=Wc(lt)?_b(n,lt,e):0),lt.producerLastReadVersion[e]=n.version}function TN(){Ed++}function yb(n){if(!(Wc(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Ed)){if(!n.producerMustRecompute(n)&&!cm(n)){n.dirty=!1,n.lastCleanEpoch=Ed;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Ed}}function vb(n){if(n.liveConsumerNode===void 0)return;let e=Id;Id=!0;try{for(let t of n.liveConsumerNode)t.dirty||CN(t)}finally{Id=e}}function wb(){return lt?.consumerAllowSignalWrites!==!1}function CN(n){n.dirty=!0,vb(n),n.consumerMarkedDirty?.(n)}function Dd(n){return n&&(n.nextProducerIndex=0),Te(n)}function am(n,e){if(Te(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Wc(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Td(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function cm(n){Cd(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(yb(t),r!==t.version))return!0}return!1}function um(n){if(Cd(n),Wc(n))for(let e=0;e<n.producerNode.length;e++)Td(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function _b(n,e,t){if(Ib(n),n.liveConsumerNode.length===0&&Eb(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=_b(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Td(n,e){if(Ib(n),n.liveConsumerNode.length===1&&Eb(n))for(let r=0;r<n.producerNode.length;r++)Td(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Cd(i),i.producerIndexOfThis[r]=e}}function Wc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Cd(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Ib(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Eb(n){return n.producerNode!==void 0}function bb(n){let e=Object.create(AN);e.computation=n;let t=()=>{if(yb(e),om(e),e.value===bd)throw e.error;return e.value};return t[kr]=e,t}var im=Symbol("UNSET"),sm=Symbol("COMPUTING"),bd=Symbol("ERRORED"),AN=me($({},Kc),{value:im,dirty:!0,error:null,equal:gb,producerMustRecompute(n){return n.value===im||n.value===sm},producerRecomputeValue(n){if(n.value===sm)throw new Error("Detected cycle in computations.");let e=n.value;n.value=sm;let t=Dd(n),r;try{r=n.computation()}catch(i){r=bd,n.error=i}finally{am(n,t)}if(e!==im&&e!==bd&&r!==bd&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function SN(){throw new Error}var Db=SN;function Tb(){Db()}function Cb(n){Db=n}var RN=null;function Ab(n){let e=Object.create(Rb);e.value=n;let t=()=>(om(e),e.value);return t[kr]=e,t}function lm(n,e){wb()||Tb(),n.equal(n.value,e)||(n.value=e,MN(n))}function Sb(n,e){wb()||Tb(),lm(n,e(n.value))}var Rb=me($({},Kc),{equal:gb,value:void 0});function MN(n){n.version++,TN(),vb(n),RN?.()}function ae(n){return typeof n=="function"}function Jo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Ad=Jo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ms(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var ze=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ae(r))try{r()}catch(s){e=s instanceof Ad?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Mb(s)}catch(o){e=e??[],o instanceof Ad?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ad(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Mb(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ms(t,e)}remove(e){let{_finalizers:t}=this;t&&Ms(t,e),e instanceof n&&e._removeParent(this)}};ze.EMPTY=(()=>{let n=new ze;return n.closed=!0,n})();var dm=ze.EMPTY;function Sd(n){return n instanceof ze||n&&"closed"in n&&ae(n.remove)&&ae(n.add)&&ae(n.unsubscribe)}function Mb(n){ae(n)?n():n.unsubscribe()}var kn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Xo={setTimeout(n,e,...t){let{delegate:r}=Xo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Xo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Rd(n){Xo.setTimeout(()=>{let{onUnhandledError:e}=kn;if(e)e(n);else throw n})}function Qc(){}var xb=hm("C",void 0,void 0);function Nb(n){return hm("E",void 0,n)}function Pb(n){return hm("N",n,void 0)}function hm(n,e,t){return{kind:n,value:e,error:t}}var xs=null;function ea(n){if(kn.useDeprecatedSynchronousErrorHandling){let e=!xs;if(e&&(xs={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=xs;if(xs=null,t)throw r}}else n()}function Ob(n){kn.useDeprecatedSynchronousErrorHandling&&xs&&(xs.errorThrown=!0,xs.error=n)}var Ns=class extends ze{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Sd(e)&&e.add(this)):this.destination=PN}static create(e,t,r){return new ta(e,t,r)}next(e){this.isStopped?pm(Pb(e),this):this._next(e)}error(e){this.isStopped?pm(Nb(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?pm(xb,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},xN=Function.prototype.bind;function fm(n,e){return xN.call(n,e)}var gm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Md(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Md(r)}else Md(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Md(t)}}},ta=class extends Ns{constructor(e,t,r){super();let i;if(ae(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&kn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&fm(e.next,s),error:e.error&&fm(e.error,s),complete:e.complete&&fm(e.complete,s)}):i=e}this.destination=new gm(i)}};function Md(n){kn.useDeprecatedSynchronousErrorHandling?Ob(n):Rd(n)}function NN(n){throw n}function pm(n,e){let{onStoppedNotification:t}=kn;t&&Xo.setTimeout(()=>t(n,e))}var PN={closed:!0,next:Qc,error:NN,complete:Qc};var na=typeof Symbol=="function"&&Symbol.observable||"@@observable";function tn(n){return n}function xd(...n){return mm(n)}function mm(n){return n.length===0?tn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var he=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=kN(t)?t:new ta(t,r,i);return ea(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=kb(r),new r((i,s)=>{let o=new ta({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[na](){return this}pipe(...t){return mm(t)(this)}toPromise(t){return t=kb(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function kb(n){var e;return(e=n??kn.Promise)!==null&&e!==void 0?e:Promise}function ON(n){return n&&ae(n.next)&&ae(n.error)&&ae(n.complete)}function kN(n){return n&&n instanceof Ns||ON(n)&&Sd(n)}function ym(n){return ae(n?.lift)}function be(n){return e=>{if(ym(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ve(n,e,t,r,i){return new vm(n,e,t,r,i)}var vm=class extends Ns{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ra(){return be((n,e)=>{let t=null;n._refCount++;let r=ve(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var ia=class extends he{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ym(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ze;let t=this.getSubject();e.add(this.source.subscribe(ve(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ze.EMPTY)}return e}refCount(){return ra()(this)}};var Fb=Jo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Et=(()=>{class n extends he{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Nd(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Fb}next(t){ea(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){ea(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ea(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?dm:(this.currentObservers=null,s.push(t),new ze(()=>{this.currentObservers=null,Ms(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new he;return t.source=this,t}}return n.create=(e,t)=>new Nd(e,t),n})(),Nd=class extends Et{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:dm}};var qe=class extends Et{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var wm={now(){return(wm.delegate||Date).now()},delegate:void 0};var Pd=class extends ze{constructor(e,t){super()}schedule(e,t=0){return this}};var Yc={setInterval(n,e,...t){let{delegate:r}=Yc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Yc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var sa=class extends Pd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Yc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Yc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ms(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var oa=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};oa.now=wm.now;var aa=class extends oa{constructor(e,t=oa.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var _m=new aa(sa);var Od=class extends sa{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var kd=class extends aa{};var Im=new kd(Od);var nn=new he(n=>n.complete());function Lb(n){return n&&ae(n.schedule)}function Vb(n){return n[n.length-1]}function Fd(n){return ae(Vb(n))?n.pop():void 0}function Ai(n){return Lb(Vb(n))?n.pop():void 0}function Em(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Ub(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(p){try{l(r.next(p))}catch(y){o(y)}}function u(p){try{l(r.throw(p))}catch(y){o(y)}}function l(p){p.done?s(p.value):i(p.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function jb(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ps(n){return this instanceof Ps?(this.v=n,this):new Ps(n)}function Bb(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(_){return function(M){return Promise.resolve(M).then(_,y)}}function a(_,M){r[_]&&(i[_]=function(O){return new Promise(function(N,L){s.push([_,O,N,L])>1||u(_,O)})},M&&(i[_]=M(i[_])))}function u(_,M){try{l(r[_](M))}catch(O){w(s[0][3],O)}}function l(_){_.value instanceof Ps?Promise.resolve(_.value.v).then(p,y):w(s[0][2],_)}function p(_){u("next",_)}function y(_){u("throw",_)}function w(_,M){_(M),s.shift(),s.length&&u(s[0][0],s[0][1])}}function $b(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof jb=="function"?jb(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){o=n[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var Ld=n=>n&&typeof n.length=="number"&&typeof n!="function";function Vd(n){return ae(n?.then)}function jd(n){return ae(n[na])}function Ud(n){return Symbol.asyncIterator&&ae(n?.[Symbol.asyncIterator])}function Bd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function FN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var $d=FN();function Hd(n){return ae(n?.[$d])}function zd(n){return Bb(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ps(t.read());if(i)return yield Ps(void 0);yield yield Ps(r)}}finally{t.releaseLock()}})}function qd(n){return ae(n?.getReader)}function et(n){if(n instanceof he)return n;if(n!=null){if(jd(n))return LN(n);if(Ld(n))return VN(n);if(Vd(n))return jN(n);if(Ud(n))return Hb(n);if(Hd(n))return UN(n);if(qd(n))return BN(n)}throw Bd(n)}function LN(n){return new he(e=>{let t=n[na]();if(ae(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function VN(n){return new he(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function jN(n){return new he(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Rd)})}function UN(n){return new he(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Hb(n){return new he(e=>{$N(n,e).catch(t=>e.error(t))})}function BN(n){return Hb(zd(n))}function $N(n,e){var t,r,i,s;return Ub(this,void 0,void 0,function*(){try{for(t=$b(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function Wt(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Si(n,e=0){return be((t,r)=>{t.subscribe(ve(r,i=>Wt(r,n,()=>r.next(i),e),()=>Wt(r,n,()=>r.complete(),e),i=>Wt(r,n,()=>r.error(i),e)))})}function Ri(n,e=0){return be((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function zb(n,e){return et(n).pipe(Ri(e),Si(e))}function qb(n,e){return et(n).pipe(Ri(e),Si(e))}function Gb(n,e){return new he(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Wb(n,e){return new he(t=>{let r;return Wt(t,e,()=>{r=n[$d](),Wt(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>ae(r?.return)&&r.return()})}function Gd(n,e){if(!n)throw new Error("Iterable cannot be null");return new he(t=>{Wt(t,e,()=>{let r=n[Symbol.asyncIterator]();Wt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Kb(n,e){return Gd(zd(n),e)}function Qb(n,e){if(n!=null){if(jd(n))return zb(n,e);if(Ld(n))return Gb(n,e);if(Vd(n))return qb(n,e);if(Ud(n))return Gd(n,e);if(Hd(n))return Wb(n,e);if(qd(n))return Kb(n,e)}throw Bd(n)}function Ve(n,e){return e?Qb(n,e):et(n)}function ne(...n){let e=Ai(n);return Ve(n,e)}function ca(n,e){let t=ae(n)?n:()=>n,r=i=>i.error(t());return new he(e?i=>e.schedule(r,0,i):r)}function bm(n){return!!n&&(n instanceof he||ae(n.lift)&&ae(n.subscribe))}var Fr=Jo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ie(n,e){return be((t,r)=>{let i=0;t.subscribe(ve(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:HN}=Array;function zN(n,e){return HN(e)?n(...e):n(e)}function Wd(n){return ie(e=>zN(n,e))}var{isArray:qN}=Array,{getPrototypeOf:GN,prototype:WN,keys:KN}=Object;function Kd(n){if(n.length===1){let e=n[0];if(qN(e))return{args:e,keys:null};if(QN(e)){let t=KN(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function QN(n){return n&&typeof n=="object"&&GN(n)===WN}function Qd(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Zc(...n){let e=Ai(n),t=Fd(n),{args:r,keys:i}=Kd(n);if(r.length===0)return Ve([],e);let s=new he(YN(r,e,i?o=>Qd(i,o):tn));return t?s.pipe(Wd(t)):s}function YN(n,e,t=tn){return r=>{Yb(e,()=>{let{length:i}=n,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)Yb(e,()=>{let l=Ve(n[u],e),p=!1;l.subscribe(ve(r,y=>{s[u]=y,p||(p=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function Yb(n,e,t){n?Wt(t,n,e):e()}function Zb(n,e,t,r,i,s,o,a){let u=[],l=0,p=0,y=!1,w=()=>{y&&!u.length&&!l&&e.complete()},_=O=>l<r?M(O):u.push(O),M=O=>{s&&e.next(O),l++;let N=!1;et(t(O,p++)).subscribe(ve(e,L=>{i?.(L),s?_(L):e.next(L)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let L=u.shift();o?Wt(e,o,()=>M(L)):M(L)}w()}catch(L){e.error(L)}}))};return n.subscribe(ve(e,_,()=>{y=!0,w()})),()=>{a?.()}}function tt(n,e,t=1/0){return ae(e)?tt((r,i)=>ie((s,o)=>e(r,s,i,o))(et(n(r,i))),t):(typeof e=="number"&&(t=e),be((r,i)=>Zb(r,i,n,t)))}function ua(n=1/0){return tt(tn,n)}function Jb(){return ua(1)}function la(...n){return Jb()(Ve(n,Ai(n)))}function Yd(n){return new he(e=>{et(n()).subscribe(e)})}function Dm(...n){let e=Fd(n),{args:t,keys:r}=Kd(n),i=new he(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let p=0;p<o;p++){let y=!1;et(t[p]).subscribe(ve(s,w=>{y||(y=!0,l--),a[p]=w},()=>u--,void 0,()=>{(!u||!y)&&(l||s.next(r?Qd(r,a):a),s.complete())}))}});return e?i.pipe(Wd(e)):i}function Lt(n,e){return be((t,r)=>{let i=0;t.subscribe(ve(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Mi(n){return be((e,t)=>{let r=null,i=!1,s;r=e.subscribe(ve(t,void 0,void 0,o=>{s=et(n(o,Mi(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Xb(n,e,t,r,i){return(s,o)=>{let a=t,u=e,l=0;s.subscribe(ve(o,p=>{let y=l++;u=a?n(u,p,y):(a=!0,p),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Lr(n,e){return ae(e)?tt(n,e,1):tt(n,1)}function xi(n){return be((e,t)=>{let r=!1;e.subscribe(ve(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Vr(n){return n<=0?()=>nn:be((e,t)=>{let r=0;e.subscribe(ve(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Tm(n){return ie(()=>n)}function Zd(n=ZN){return be((e,t)=>{let r=!1;e.subscribe(ve(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function ZN(){return new Fr}function Os(n){return be((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function tr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Lt((i,s)=>n(i,s,r)):tn,Vr(1),t?xi(e):Zd(()=>new Fr))}function da(n){return n<=0?()=>nn:be((e,t)=>{let r=[];e.subscribe(ve(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Cm(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Lt((i,s)=>n(i,s,r)):tn,da(1),t?xi(e):Zd(()=>new Fr))}function Jd(n,e){return be(Xb(n,e,arguments.length>=2,!0))}function Xd(...n){let e=Ai(n);return be((t,r)=>{(e?la(n,t,e):la(n,t)).subscribe(r)})}function Kt(n,e){return be((t,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();t.subscribe(ve(r,u=>{i?.unsubscribe();let l=0,p=s++;et(n(u,p)).subscribe(i=ve(r,y=>r.next(e?e(u,y,p,l++):y),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Am(n){return be((e,t)=>{et(n).subscribe(ve(t,()=>t.complete(),Qc)),!t.closed&&e.subscribe(t)})}function nt(n,e,t){let r=ae(n)||e||t?{next:n,error:e,complete:t}:n;return r?be((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ve(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):tn}var jD="https://g.co/ng/security#xss",Y=class extends Error{constructor(e,t){super(Oh(e,t)),this.code=e}};function Oh(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function ou(n){return{toString:n}.toString()}var eh="__parameters__";function JN(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function UD(n,e,t){return ou(()=>{let r=JN(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,p){let y=u.hasOwnProperty(eh)?u[eh]:Object.defineProperty(u,eh,{value:[]})[eh];for(;y.length<=p;)y.push(null);return(y[p]=y[p]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var pn=globalThis;function ke(n){for(let e in n)if(n[e]===ke)return e;throw Error("Could not find renamed property on target object.")}function XN(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function jt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(jt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function eD(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var eP=ke({__forward_ref__:ke});function Yt(n){return n.__forward_ref__=Yt,n.toString=function(){return jt(this())},n}function Vt(n){return BD(n)?n():n}function BD(n){return typeof n=="function"&&n.hasOwnProperty(eP)&&n.__forward_ref__===Yt}function q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function vn(n){return{providers:n.providers||[],imports:n.imports||[]}}function kh(n){return tD(n,HD)||tD(n,zD)}function $D(n){return kh(n)!==null}function tD(n,e){return n.hasOwnProperty(e)?n[e]:null}function tP(n){let e=n&&(n[HD]||n[zD]);return e||null}function nD(n){return n&&(n.hasOwnProperty(rD)||n.hasOwnProperty(nP))?n[rD]:null}var HD=ke({\u0275prov:ke}),rD=ke({\u0275inj:ke}),zD=ke({ngInjectableDef:ke}),nP=ke({ngInjectorDef:ke}),z=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=q({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function qD(n){return n&&!!n.\u0275providers}var rP=ke({\u0275cmp:ke}),iP=ke({\u0275dir:ke}),sP=ke({\u0275pipe:ke}),oP=ke({\u0275mod:ke}),uh=ke({\u0275fac:ke}),Xc=ke({__NG_ELEMENT_ID__:ke}),iD=ke({__NG_ENV_ID__:ke});function va(n){return typeof n=="string"?n:n==null?"":String(n)}function aP(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():va(n)}function cP(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Y(-200,n)}function Oy(n,e){throw new Y(-201,!1)}var fe=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(fe||{}),$m;function GD(){return $m}function Qt(n){let e=$m;return $m=n,e}function WD(n,e,t){let r=kh(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&fe.Optional)return null;if(e!==void 0)return e;Oy(n,"Injector")}var uP={},eu=uP,Hm="__NG_DI_FLAG__",lh="ngTempTokenPath",lP="ngTokenPath",dP=/\n/gm,hP="\u0275",sD="__source",ma;function fP(){return ma}function Ni(n){let e=ma;return ma=n,e}function pP(n,e=fe.Default){if(ma===void 0)throw new Y(-203,!1);return ma===null?WD(n,void 0,e):ma.get(n,e&fe.Optional?null:void 0,e)}function Z(n,e=fe.Default){return(GD()||pP)(Vt(n),e)}function V(n,e=fe.Default){return Z(n,Fh(e))}function Fh(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function zm(n){let e=[];for(let t=0;t<n.length;t++){let r=Vt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new Y(900,!1);let i,s=fe.Default;for(let o=0;o<r.length;o++){let a=r[o],u=gP(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(Z(i,s))}else e.push(Z(r))}return e}function KD(n,e){return n[Hm]=e,n.prototype[Hm]=e,n}function gP(n){return n[Hm]}function mP(n,e,t,r){let i=n[lh];throw e[sD]&&i.unshift(e[sD]),n.message=yP(`
`+n.message,i,t,r),n[lP]=i,n[lh]=null,n}function yP(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==hP?n.slice(2):n;let i=jt(e);if(Array.isArray(e))i=e.map(jt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):jt(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(dP,`
  `)}`}var Dt=KD(UD("Optional"),8);var Lh=KD(UD("SkipSelf"),4);function Ls(n,e){let t=n.hasOwnProperty(uh);return t?n[uh]:null}function ky(n,e){n.forEach(t=>Array.isArray(t)?ky(t,e):e(t))}function QD(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function dh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function vP(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function wP(n,e,t){let r=au(n,e);return r>=0?n[r|1]=t:(r=~r,vP(n,r,e,t)),r}function Sm(n,e){let t=au(n,e);if(t>=0)return n[t|1]}function au(n,e){return _P(n,e,1)}function _P(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}var wa={},gn=[],_a=new z(""),YD=new z("",-1),ZD=new z(""),hh=class{get(e,t=eu){if(t===eu){let r=new Error(`NullInjectorError: No provider for ${jt(e)}!`);throw r.name="NullInjectorError",r}return t}},JD=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(JD||{}),ir=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ir||{}),ki=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ki||{});function IP(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function qm(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{let s=i,o=t[++r];bP(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function EP(n){return n===3||n===4||n===6}function bP(n){return n.charCodeAt(0)===64}function tu(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?oD(n,t,i,null,e[++r]):oD(n,t,i,null,null))}}return n}function oD(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[s+1]=i);return}else if(r===n[s+1]){n[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),r!==null&&n.splice(s++,0,r),i!==null&&n.splice(s++,0,i)}var XD="ng-template";function DP(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&IP(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Fy(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function Fy(n){return n.type===4&&n.value!==XD}function TP(n,e,t){let r=n.type===4&&!t?XD:n.value;return e===r}function CP(n,e,t){let r=4,i=n.attrs,s=i!==null?RP(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!Fn(r)&&!Fn(u))return!1;if(o&&Fn(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!TP(n,u,t)||u===""&&e.length===1){if(Fn(r))return!1;o=!0}}else if(r&8){if(i===null||!DP(n,i,u,t)){if(Fn(r))return!1;o=!0}}else{let l=e[++a],p=AP(u,i,Fy(n),t);if(p===-1){if(Fn(r))return!1;o=!0;continue}if(l!==""){let y;if(p>s?y="":y=i[p+1].toLowerCase(),r&2&&l!==y){if(Fn(r))return!1;o=!0}}}}return Fn(r)||o}function Fn(n){return(n&1)===0}function AP(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return MP(e,n)}function SP(n,e,t=!1){for(let r=0;r<e.length;r++)if(CP(n,e[r],t))return!0;return!1}function RP(n){for(let e=0;e<n.length;e++){let t=n[e];if(EP(t))return e}return n.length}function MP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function aD(n,e){return n?":not("+e.trim()+")":e}function xP(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Fn(o)&&(e+=aD(s,i),i=""),r=o,s=s||!Fn(r);t++}return i!==""&&(e+=aD(s,i)),e}function NP(n){return n.map(xP).join(",")}function PP(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!Fn(i))break;i=s}r++}return{attrs:e,classes:t}}function eT(n){return ou(()=>{let e=sT(n),t=me($({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===JD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ir.Emulated,styles:n.styles||gn,_:null,schemas:n.schemas||null,tView:null,id:""});oT(t);let r=n.dependencies;return t.directiveDefs=uD(r,!1),t.pipeDefs=uD(r,!0),t.id=FP(t),t})}function OP(n){return Fi(n)||tT(n)}function kP(n){return n!==null}function wn(n){return ou(()=>({type:n.type,bootstrap:n.bootstrap||gn,declarations:n.declarations||gn,imports:n.imports||gn,exports:n.exports||gn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function cD(n,e){if(n==null)return wa;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,a=ki.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(t[s]=a!==ki.None?[r,a]:r,e[s]=o):t[s]=r}return t}function Fe(n){return ou(()=>{let e=sT(n);return oT(e),e})}function Vh(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Fi(n){return n[rP]||null}function tT(n){return n[iP]||null}function nT(n){return n[sP]||null}function rT(n){let e=Fi(n)||tT(n)||nT(n);return e!==null?e.standalone:!1}function iT(n,e){let t=n[oP]||null;if(!t&&e===!0)throw new Error(`Type ${jt(n)} does not have '\u0275mod' property.`);return t}function sT(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||wa,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||gn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:cD(n.inputs,e),outputs:cD(n.outputs),debugInfo:null}}function oT(n){n.features?.forEach(e=>e(n))}function uD(n,e){if(!n)return null;let t=e?nT:OP;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(kP)}function FP(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function _n(n){return{\u0275providers:n}}function LP(...n){return{\u0275providers:aT(!0,n),\u0275fromNgModule:!0}}function aT(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return ky(e,o=>{let a=o;Gm(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&cT(i,s),t}function cT(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Ly(i,s=>{e(s,r)})}}function Gm(n,e,t,r){if(n=Vt(n),!n)return!1;let i=null,s=nD(n),o=!s&&Fi(n);if(!s&&!o){let u=n.ngModule;if(s=nD(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=n}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)Gm(l,e,t,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{ky(s.imports,p=>{Gm(p,e,t,r)&&(l||=[],l.push(p))})}finally{}l!==void 0&&cT(l,e)}if(!a){let l=Ls(i)||(()=>new i);e({provide:i,useFactory:l,deps:gn},i),e({provide:ZD,useValue:i,multi:!0},i),e({provide:_a,useValue:()=>Z(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=n;Ly(u,p=>{e(p,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Ly(n,e){for(let t of n)qD(t)&&(t=t.\u0275providers),Array.isArray(t)?Ly(t,e):e(t)}var VP=ke({provide:String,useValue:ke});function uT(n){return n!==null&&typeof n=="object"&&VP in n}function jP(n){return!!(n&&n.useExisting)}function UP(n){return!!(n&&n.useFactory)}function Ia(n){return typeof n=="function"}function BP(n){return!!n.useClass}var jh=new z(""),ih={},$P={},Rm;function Vy(){return Rm===void 0&&(Rm=new hh),Rm}var Ut=class{},nu=class extends Ut{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Km(e,o=>this.processProvider(o)),this.records.set(YD,ha(void 0,this)),i.has("environment")&&this.records.set(Ut,ha(void 0,this));let s=this.records.get(jh);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(ZD,gn,fe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Te(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Te(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Ni(this),r=Qt(void 0),i;try{return e()}finally{Ni(t),Qt(r)}}get(e,t=eu,r=fe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(iD))return e[iD](this);r=Fh(r);let i,s=Ni(this),o=Qt(void 0);try{if(!(r&fe.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=WP(e)&&kh(e);l&&this.injectableDefInScope(l)?u=ha(Wm(e),ih):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&fe.Self?Vy():this.parent;return t=r&fe.Optional&&t===eu?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[lh]=a[lh]||[]).unshift(jt(e)),s)throw a;return mP(a,e,"R3InjectorError",this.source)}else throw a}finally{Qt(o),Ni(s)}}resolveInjectorInitializers(){let e=Te(null),t=Ni(this),r=Qt(void 0),i;try{let s=this.get(_a,gn,fe.Self);for(let o of s)o()}finally{Ni(t),Qt(r),Te(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(jt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Y(205,!1)}processProvider(e){e=Vt(e);let t=Ia(e)?e:Vt(e&&e.provide),r=zP(e);if(!Ia(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ha(void 0,ih,!0),i.factory=()=>zm(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=Te(null);try{return t.value===ih&&(t.value=$P,t.value=t.factory()),typeof t.value=="object"&&t.value&&GP(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Te(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Vt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Wm(n){let e=kh(n),t=e!==null?e.factory:Ls(n);if(t!==null)return t;if(n instanceof z)throw new Y(204,!1);if(n instanceof Function)return HP(n);throw new Y(204,!1)}function HP(n){if(n.length>0)throw new Y(204,!1);let t=tP(n);return t!==null?()=>t.factory(n):()=>new n}function zP(n){if(uT(n))return ha(void 0,n.useValue);{let e=lT(n);return ha(e,ih)}}function lT(n,e,t){let r;if(Ia(n)){let i=Vt(n);return Ls(i)||Wm(i)}else if(uT(n))r=()=>Vt(n.useValue);else if(UP(n))r=()=>n.useFactory(...zm(n.deps||[]));else if(jP(n))r=()=>Z(Vt(n.useExisting));else{let i=Vt(n&&(n.useClass||n.provide));if(qP(n))r=()=>new i(...zm(n.deps));else return Ls(i)||Wm(i)}return r}function ha(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function qP(n){return!!n.deps}function GP(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function WP(n){return typeof n=="function"||typeof n=="object"&&n instanceof z}function Km(n,e){for(let t of n)Array.isArray(t)?Km(t,e):t&&qD(t)?Km(t.\u0275providers,e):e(t)}function In(n,e){n instanceof nu&&n.assertNotDestroyed();let t,r=Ni(n),i=Qt(void 0);try{return e()}finally{Ni(r),Qt(i)}}function dT(){return GD()!==void 0||fP()!=null}function KP(n){if(!dT())throw new Y(-203,!1)}function QP(n){return typeof n=="function"}var Br=0,ye=1,se=2,Bt=3,Ln=4,jn=5,fh=6,ph=7,Vn=8,Ea=9,sr=10,Ze=11,ru=12,lD=13,Na=14,or=15,ba=16,fa=17,Da=18,Uh=19,hT=20,Pi=21,Mm=22,mn=23,rn=25,fT=1;var Vs=7,gh=8,mh=9,yn=10,yh=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(yh||{});function Oi(n){return Array.isArray(n)&&typeof n[fT]=="object"}function $r(n){return Array.isArray(n)&&n[fT]===!0}function jy(n){return(n.flags&4)!==0}function Bh(n){return n.componentOffset>-1}function $h(n){return(n.flags&1)===1}function Li(n){return!!n.template}function Qm(n){return(n[se]&512)!==0}var Ym=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function pT(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Hr(){return gT}function gT(n){return n.type.prototype.ngOnChanges&&(n.setInput=ZP),YP}Hr.ngInherit=!0;function YP(){let n=yT(this),e=n?.current;if(e){let t=n.previous;if(t===wa)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function ZP(n,e,t,r,i){let s=this.declaredInputs[r],o=yT(n)||JP(n,{previous:wa,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new Ym(l&&l.currentValue,t,u===wa),pT(n,e,i,t)}var mT="__ngSimpleChanges__";function yT(n){return n[mT]||null}function JP(n,e){return n[mT]=e}var dD=null;var nr=function(n,e,t){dD?.(n,e,t)},XP="svg",eO="math";function ar(n){for(;Array.isArray(n);)n=n[Br];return n}function vT(n,e){return ar(e[n])}function En(n,e){return ar(e[n.index])}function wT(n,e){return n.data[e]}function Uy(n,e){return n[e]}function Bi(n,e){let t=e[n];return Oi(t)?t:t[Br]}function By(n){return(n[se]&128)===128}function tO(n){return $r(n[Bt])}function Ta(n,e){return e==null?null:n[e]}function _T(n){n[fa]=0}function IT(n){n[se]&1024||(n[se]|=1024,By(n)&&zh(n))}function nO(n,e){for(;n>0;)e=e[Na],n--;return e}function Hh(n){return!!(n[se]&9216||n[mn]?.dirty)}function Zm(n){n[sr].changeDetectionScheduler?.notify(8),n[se]&64&&(n[se]|=1024),Hh(n)&&zh(n)}function zh(n){n[sr].changeDetectionScheduler?.notify(0);let e=js(n);for(;e!==null&&!(e[se]&8192||(e[se]|=8192,!By(e)));)e=js(e)}function ET(n,e){if((n[se]&256)===256)throw new Y(911,!1);n[Pi]===null&&(n[Pi]=[]),n[Pi].push(e)}function rO(n,e){if(n[Pi]===null)return;let t=n[Pi].indexOf(e);t!==-1&&n[Pi].splice(t,1)}function js(n){let e=n[Bt];return $r(e)?e[Bt]:e}var pe={lFrame:NT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var bT=!1;function iO(){return pe.lFrame.elementDepthCount}function sO(){pe.lFrame.elementDepthCount++}function oO(){pe.lFrame.elementDepthCount--}function DT(){return pe.bindingsEnabled}function aO(){return pe.skipHydrationRootTNode!==null}function cO(n){return pe.skipHydrationRootTNode===n}function uO(){pe.skipHydrationRootTNode=null}function Ce(){return pe.lFrame.lView}function Tt(){return pe.lFrame.tView}function K6(n){return pe.lFrame.contextLView=n,n[Vn]}function Q6(n){return pe.lFrame.contextLView=null,n}function $t(){let n=TT();for(;n!==null&&n.type===64;)n=n.parent;return n}function TT(){return pe.lFrame.currentTNode}function lO(){let n=pe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function zs(n,e){let t=pe.lFrame;t.currentTNode=n,t.isParent=e}function $y(){return pe.lFrame.isParent}function CT(){pe.lFrame.isParent=!1}function dO(){return pe.lFrame.contextLView}function AT(){return bT}function hD(n){bT=n}function qh(){let n=pe.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function hO(){return pe.lFrame.bindingIndex}function fO(n){return pe.lFrame.bindingIndex=n}function Gh(){return pe.lFrame.bindingIndex++}function ST(n){let e=pe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function pO(){return pe.lFrame.inI18n}function gO(n,e){let t=pe.lFrame;t.bindingIndex=t.bindingRootIndex=n,Jm(e)}function mO(){return pe.lFrame.currentDirectiveIndex}function Jm(n){pe.lFrame.currentDirectiveIndex=n}function yO(n){let e=pe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function RT(n){pe.lFrame.currentQueryIndex=n}function vO(n){let e=n[ye];return e.type===2?e.declTNode:e.type===1?n[jn]:null}function MT(n,e,t){if(t&fe.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&fe.Host);)if(i=vO(s),i===null||(s=s[Na],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=pe.lFrame=xT();return r.currentTNode=e,r.lView=n,!0}function Hy(n){let e=xT(),t=n[ye];pe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function xT(){let n=pe.lFrame,e=n===null?null:n.child;return e===null?NT(n):e}function NT(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function PT(){let n=pe.lFrame;return pe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var OT=PT;function zy(){let n=PT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function wO(n){return(pe.lFrame.contextLView=nO(n,pe.lFrame.contextLView))[Vn]}function qs(){return pe.lFrame.selectedIndex}function Us(n){pe.lFrame.selectedIndex=n}function Wh(){let n=pe.lFrame;return wT(n.tView,n.selectedIndex)}function _O(){return pe.lFrame.currentNamespace}var kT=!0;function Kh(){return kT}function Qh(n){kT=n}function IO(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=gT(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function Yh(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:p}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),p!=null&&(n.destroyHooks??=[]).push(t,p)}}function sh(n,e,t){FT(n,e,3,t)}function oh(n,e,t,r){(n[se]&3)===t&&FT(n,e,t,r)}function xm(n,e){let t=n[se];(t&3)===e&&(t&=16383,t+=1,n[se]=t)}function FT(n,e,t,r){let i=r!==void 0?n[fa]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[fa]+=65536),(a<s||s==-1)&&(EO(n,t,e,u),n[fa]=(n[fa]&4294901760)+u+2),u++}function fD(n,e){nr(4,n,e);let t=Te(null);try{e.call(n)}finally{Te(t),nr(5,n,e)}}function EO(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],a=n[o];i?n[se]>>14<n[fa]>>16&&(n[se]&3)===e&&(n[se]+=16384,fD(a,s)):fD(a,s)}var ya=-1,Bs=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function bO(n){return n instanceof Bs}function DO(n){return(n.flags&8)!==0}function TO(n){return(n.flags&16)!==0}var Nm={},Xm=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Fh(r);let i=this.injector.get(e,Nm,r);return i!==Nm||t===Nm?i:this.parentInjector.get(e,t,r)}};function LT(n){return n!==ya}function vh(n){return n&32767}function CO(n){return n>>16}function wh(n,e){let t=CO(n),r=e;for(;t>0;)r=r[Na],t--;return r}var ey=!0;function _h(n){let e=ey;return ey=n,e}var AO=256,VT=AO-1,jT=5,SO=0,rr={};function RO(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Xc)&&(r=t[Xc]),r==null&&(r=t[Xc]=SO++);let i=r&VT,s=1<<i;e.data[n+(i>>jT)]|=s}function Ih(n,e){let t=UT(n,e);if(t!==-1)return t;let r=e[ye];r.firstCreatePass&&(n.injectorIndex=e.length,Pm(r.data,n),Pm(e,null),Pm(r.blueprint,null));let i=qy(n,e),s=n.injectorIndex;if(LT(i)){let o=vh(i),a=wh(i,e),u=a[ye].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Pm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function UT(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function qy(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=qT(i),r===null)return ya;if(t++,i=i[Na],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ya}function ty(n,e,t){RO(n,e,t)}function BT(n,e,t){if(t&fe.Optional||n!==void 0)return n;Oy(e,"NodeInjector")}function $T(n,e,t,r){if(t&fe.Optional&&r===void 0&&(r=null),!(t&(fe.Self|fe.Host))){let i=n[Ea],s=Qt(void 0);try{return i?i.get(e,r,t&fe.Optional):WD(e,r,t&fe.Optional)}finally{Qt(s)}}return BT(r,e,t)}function HT(n,e,t,r=fe.Default,i){if(n!==null){if(e[se]&2048&&!(r&fe.Self)){let o=OO(n,e,t,r,rr);if(o!==rr)return o}let s=zT(n,e,t,r,rr);if(s!==rr)return s}return $T(e,t,r,i)}function zT(n,e,t,r,i){let s=NO(t);if(typeof s=="function"){if(!MT(e,n,r))return r&fe.Host?BT(i,t,r):$T(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&fe.Optional))Oy(t);else return o}finally{OT()}}else if(typeof s=="number"){let o=null,a=UT(n,e),u=ya,l=r&fe.Host?e[or][jn]:null;for((a===-1||r&fe.SkipSelf)&&(u=a===-1?qy(n,e):e[a+8],u===ya||!gD(r,!1)?a=-1:(o=e[ye],a=vh(u),e=wh(u,e)));a!==-1;){let p=e[ye];if(pD(s,a,p.data)){let y=MO(a,e,t,o,r,l);if(y!==rr)return y}u=e[a+8],u!==ya&&gD(r,e[ye].data[a+8]===l)&&pD(s,a,e)?(o=p,a=vh(u),e=wh(u,e)):a=-1}}return i}function MO(n,e,t,r,i,s){let o=e[ye],a=o.data[n+8],u=r==null?Bh(a)&&ey:r!=o&&(a.type&3)!==0,l=i&fe.Host&&s===a,p=xO(a,o,t,u,l);return p!==null?Ca(e,o,p,a):rr}function xO(n,e,t,r,i){let s=n.providerIndexes,o=e.data,a=s&1048575,u=n.directiveStart,l=n.directiveEnd,p=s>>20,y=r?a:a+p,w=i?a+p:l;for(let _=y;_<w;_++){let M=o[_];if(_<u&&t===M||_>=u&&M.type===t)return _}if(i){let _=o[u];if(_&&Li(_)&&_.type===t)return u}return null}function Ca(n,e,t,r){let i=n[t],s=e.data;if(bO(i)){let o=i;o.resolving&&cP(aP(s[t]));let a=_h(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Qt(o.injectImpl):null,p=MT(n,r,fe.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&IO(t,s[t],e)}finally{l!==null&&Qt(l),_h(a),o.resolving=!1,OT()}}return i}function NO(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Xc)?n[Xc]:void 0;return typeof e=="number"?e>=0?e&VT:PO:e}function pD(n,e,t){let r=1<<n;return!!(t[e+(n>>jT)]&r)}function gD(n,e){return!(n&fe.Self)&&!(n&fe.Host&&e)}var Fs=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return HT(this._tNode,this._lView,e,Fh(r),t)}};function PO(){return new Fs($t(),Ce())}function Un(n){return ou(()=>{let e=n.prototype.constructor,t=e[uh]||ny(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[uh]||ny(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ny(n){return BD(n)?()=>{let e=ny(Vt(n));return e&&e()}:Ls(n)}function OO(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[se]&2048&&!(o[se]&512);){let a=zT(s,o,t,r|fe.Self,rr);if(a!==rr)return a;let u=s.parent;if(!u){let l=o[hT];if(l){let p=l.get(t,rr,r);if(p!==rr)return p}u=qT(o),o=o[Na]}s=u}return i}function qT(n){let e=n[ye],t=e.type;return t===2?e.declTNode:t===1?n[jn]:null}function mD(n,e=null,t=null,r){let i=GT(n,e,t,r);return i.resolveInjectorInitializers(),i}function GT(n,e=null,t=null,r,i=new Set){let s=[t||gn,LP(n)];return r=r||(typeof n=="object"?void 0:jt(n)),new nu(s,e||Vy(),r||null,i)}var bt=class n{static{this.THROW_IF_NOT_FOUND=eu}static{this.NULL=new hh}static create(e,t){if(Array.isArray(e))return mD({name:""},t,e,"");{let r=e.name??"";return mD({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=q({token:n,providedIn:"any",factory:()=>Z(YD)})}static{this.__NG_ELEMENT_ID__=-1}};var kO=new z("");kO.__NG_ELEMENT_ID__=n=>{let e=$t();if(e===null)throw new Y(204,!1);if(e.type&2)return e.value;if(n&fe.Optional)return null;throw new Y(204,!1)};var FO="ngOriginalError";function Om(n){return n[FO]}var WT=!0,Gy=(()=>{class n{static{this.__NG_ELEMENT_ID__=LO}static{this.__NG_ENV_ID__=t=>t}}return n})(),ry=class extends Gy{constructor(e){super(),this._lView=e}onDestroy(e){return ET(this._lView,e),()=>rO(this._lView,e)}};function LO(){return new ry(Ce())}var $i=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new qe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}}return n})();var iy=class extends Et{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,dT()&&(this.destroyRef=V(Gy,{optional:!0})??void 0,this.pendingTasks=V($i,{optional:!0})??void 0)}emit(e){let t=Te(null);try{super.next(e)}finally{Te(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof ze&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ge=iy;function Eh(...n){}function KT(n){let e,t;function r(){n=Eh;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function yD(n){return queueMicrotask(()=>n()),()=>{n=Eh}}var Wy="isAngularZone",bh=Wy+"_ID",VO=0,we=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ge(!1),this.onMicrotaskEmpty=new Ge(!1),this.onStable=new Ge(!1),this.onError=new Ge(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=WT}=e;if(typeof Zone>"u")throw new Y(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,BO(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Wy)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new Y(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new Y(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,jO,Eh,Eh);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},jO={};function Ky(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function UO(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){KT(()=>{n.callbackScheduled=!1,sy(n),n.isCheckStableRunning=!0,Ky(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),sy(n)}function BO(n){let e=()=>{UO(n)},t=VO++;n._inner=n._inner.fork({name:"angular",properties:{[Wy]:!0,[bh]:t,[bh+t]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if($O(u))return r.invokeTask(s,o,a,u);try{return vD(n),r.invokeTask(s,o,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),wD(n)}},onInvoke:(r,i,s,o,a,u,l)=>{try{return vD(n),r.invoke(s,o,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!HO(u)&&e(),wD(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,sy(n),Ky(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function sy(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function vD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function wD(n){n._nesting--,Ky(n)}var oy=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ge,this.onMicrotaskEmpty=new Ge,this.onStable=new Ge,this.onError=new Ge}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function $O(n){return QT(n,"__ignore_ng_zone__")}function HO(n){return QT(n,"__scheduler_tick__")}function QT(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var jr=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Om(e);for(;t&&Om(t);)t=Om(t);return t||null}},zO=new z("",{providedIn:"root",factory:()=>{let n=V(we),e=V(jr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function qO(){return Zh($t(),Ce())}function Zh(n,e){return new Bn(En(n,e))}var Bn=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=qO}}return n})();function YT(n){return(n.flags&128)===128}var ZT=new Map,GO=0;function WO(){return GO++}function KO(n){ZT.set(n[Uh],n)}function ay(n){ZT.delete(n[Uh])}var _D="__ngContext__";function Vi(n,e){Oi(e)?(n[_D]=e[Uh],KO(e)):n[_D]=e}function JT(n){return eC(n[ru])}function XT(n){return eC(n[Ln])}function eC(n){for(;n!==null&&!$r(n);)n=n[Ln];return n}var cy;function tC(n){cy=n}function QO(){if(cy!==void 0)return cy;if(typeof document<"u")return document;throw new Y(210,!1)}var Jh=new z("",{providedIn:"root",factory:()=>YO}),YO="ng",Qy=new z(""),bn=new z("",{providedIn:"platform",factory:()=>"unknown"});var Y6=new z(""),Yy=new z("",{providedIn:"root",factory:()=>QO().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ZO="h",JO="b";var XO=()=>null;function Zy(n,e,t=!1){return XO(n,e,t)}var nC=!1,ek=new z("",{providedIn:"root",factory:()=>nC});var Dh=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${jD})`}};function Xh(n){return n instanceof Dh?n.changingThisBreaksApplicationSecurity:n}function rC(n,e){let t=tk(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${jD})`)}return t===e}function tk(n){return n instanceof Dh&&n.getTypeName()||null}var nk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function iC(n){return n=String(n),n.match(nk)?n:"unsafe:"+n}var Jy=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Jy||{});function Z6(n){let e=rk();return e?e.sanitize(Jy.URL,n)||"":rC(n,"URL")?Xh(n):iC(va(n))}function rk(){let n=Ce();return n&&n[sr].sanitizer}var ik=/^>|^->|<!--|-->|--!>|<!-$/g,sk=/(<|>)/g,ok="\u200B$1\u200B";function ak(n){return n.replace(ik,e=>e.replace(sk,ok))}function sC(n){return n instanceof Function?n():n}function ck(n){return(n??V(bt)).get(bn)==="browser"}var cr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(cr||{}),uk;function Xy(n,e){return uk(n,e)}function pa(n,e,t,r,i){if(r!=null){let s,o=!1;$r(r)?s=r:Oi(r)&&(o=!0,r=r[Br]);let a=ar(r);n===0&&t!==null?i==null?lC(e,t,a):Th(e,t,a,i||null,!0):n===1&&t!==null?Th(e,t,a,i||null,!0):n===2?Tk(e,a,o):n===3&&e.destroyNode(a),s!=null&&Ak(e,n,s,t,i)}}function lk(n,e){return n.createText(e)}function dk(n,e,t){n.setValue(e,t)}function hk(n,e){return n.createComment(ak(e))}function oC(n,e,t){return n.createElement(e,t)}function fk(n,e){aC(n,e),e[Br]=null,e[jn]=null}function pk(n,e,t,r,i,s){r[Br]=i,r[jn]=e,tf(n,r,t,1,i,s)}function aC(n,e){e[sr].changeDetectionScheduler?.notify(9),tf(n,e,e[Ze],2,null,null)}function gk(n){let e=n[ru];if(!e)return km(n[ye],n);for(;e;){let t=null;if(Oi(e))t=e[ru];else{let r=e[yn];r&&(t=r)}if(!t){for(;e&&!e[Ln]&&e!==n;)Oi(e)&&km(e[ye],e),e=e[Bt];e===null&&(e=n),Oi(e)&&km(e[ye],e),t=e&&e[Ln]}e=t}}function mk(n,e,t,r){let i=yn+r,s=t.length;r>0&&(t[i-1][Ln]=e),r<s-yn?(e[Ln]=t[i],QD(t,yn+r,e)):(t.push(e),e[Ln]=null),e[Bt]=t;let o=e[ba];o!==null&&t!==o&&cC(o,e);let a=e[Da];a!==null&&a.insertView(n),Zm(e),e[se]|=128}function cC(n,e){let t=n[mh],r=e[Bt];if(Oi(r))n[se]|=yh.HasTransplantedViews;else{let i=r[Bt][or];e[or]!==i&&(n[se]|=yh.HasTransplantedViews)}t===null?n[mh]=[e]:t.push(e)}function ev(n,e){let t=n[mh],r=t.indexOf(e);t.splice(r,1)}function uy(n,e){if(n.length<=yn)return;let t=yn+e,r=n[t];if(r){let i=r[ba];i!==null&&i!==n&&ev(i,r),e>0&&(n[t-1][Ln]=r[Ln]);let s=dh(n,yn+e);fk(r[ye],r);let o=s[Da];o!==null&&o.detachView(s[ye]),r[Bt]=null,r[Ln]=null,r[se]&=-129}return r}function uC(n,e){if(!(e[se]&256)){let t=e[Ze];t.destroyNode&&tf(n,e,t,3,null,null),gk(e)}}function km(n,e){if(e[se]&256)return;let t=Te(null);try{e[se]&=-129,e[se]|=256,e[mn]&&um(e[mn]),vk(n,e),yk(n,e),e[ye].type===1&&e[Ze].destroy();let r=e[ba];if(r!==null&&$r(e[Bt])){r!==e[Bt]&&ev(r,e);let i=e[Da];i!==null&&i.detachView(n)}ay(e)}finally{Te(t)}}function yk(n,e){let t=n.cleanup,r=e[ph];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[t[s+1]];t[s].call(o)}r!==null&&(e[ph]=null);let i=e[Pi];if(i!==null){e[Pi]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function vk(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Bs)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];nr(4,a,u);try{u.call(a)}finally{nr(5,a,u)}}else{nr(4,i,s);try{s.call(i)}finally{nr(5,i,s)}}}}}function wk(n,e,t){return _k(n,e.parent,t)}function _k(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Br];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=n.data[r.directiveStart+i];if(s===ir.None||s===ir.Emulated)return null}return En(r,t)}}function Th(n,e,t,r,i){n.insertBefore(e,t,r,i)}function lC(n,e,t){n.appendChild(e,t)}function ID(n,e,t,r,i){r!==null?Th(n,e,t,r,i):lC(n,e,t)}function dC(n,e){return n.parentNode(e)}function Ik(n,e){return n.nextSibling(e)}function Ek(n,e,t){return Dk(n,e,t)}function bk(n,e,t){return n.type&40?En(n,t):null}var Dk=bk,ED;function ef(n,e,t,r){let i=wk(n,r,e),s=e[Ze],o=r.parent||e[jn],a=Ek(o,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)ID(s,i,t[u],a,!1);else ID(s,i,t,a,!1);ED!==void 0&&ED(s,r,e,t,i)}function Jc(n,e){if(e!==null){let t=e.type;if(t&3)return En(e,n);if(t&4)return ly(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Jc(n,r);{let i=n[e.index];return $r(i)?ly(-1,i):ar(i)}}else{if(t&128)return Jc(n,e.next);if(t&32)return Xy(e,n)()||ar(n[e.index]);{let r=hC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=js(n[or]);return Jc(i,r)}else return Jc(n,e.next)}}}return null}function hC(n,e){if(e!==null){let r=n[or][jn],i=e.projection;return r.projection[i]}return null}function ly(n,e){let t=yn+n+1;if(t<e.length){let r=e[t],i=r[ye].firstChild;if(i!==null)return Jc(r,i)}return e[Vs]}function Tk(n,e,t){n.removeChild(null,e,t)}function tv(n,e,t,r,i,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(o&&e===0&&(a&&Vi(ar(a),r),t.flags|=2),(t.flags&32)!==32)if(u&8)tv(n,e,t.child,r,i,s,!1),pa(e,n,i,a,s);else if(u&32){let l=Xy(t,r),p;for(;p=l();)pa(e,n,i,p,s);pa(e,n,i,a,s)}else u&16?Ck(n,e,r,t,i,s):pa(e,n,i,a,s);t=o?t.projectionNext:t.next}}function tf(n,e,t,r,i,s){tv(t,r,n.firstChild,e,i,s,!1)}function Ck(n,e,t,r,i,s){let o=t[or],u=o[jn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let p=u[l];pa(e,n,i,p,s)}else{let l=u,p=o[Bt];YT(r)&&(l.flags|=128),tv(n,e,l,p,i,s,!0)}}function Ak(n,e,t,r,i){let s=t[Vs],o=ar(t);s!==o&&pa(e,n,r,s,i);for(let a=yn;a<t.length;a++){let u=t[a];tf(u[ye],u,n,e,r,s)}}function Sk(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:cr.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=cr.Important),n.setStyle(t,r,i,s))}}function Rk(n,e,t){n.setAttribute(e,"style",t)}function fC(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function pC(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&qm(n,e,r),i!==null&&fC(n,e,i),s!==null&&Rk(n,e,s)}var $n={};function J6(n=1){gC(Tt(),Ce(),qs()+n,!1)}function gC(n,e,t,r){if(!r)if((e[se]&3)===3){let s=n.preOrderCheckHooks;s!==null&&sh(e,s,t)}else{let s=n.preOrderHooks;s!==null&&oh(e,s,0,t)}Us(t)}function te(n,e=fe.Default){let t=Ce();if(t===null)return Z(n,e);let r=$t();return HT(r,t,Vt(n),e)}function mC(){let n="invalid";throw new Error(n)}function yC(n,e,t,r,i,s){let o=Te(null);try{let a=null;i&ki.SignalBased&&(a=e[r][kr]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&ki.HasDecoratorInputTransform&&(s=n.inputTransforms[r].call(e,s)),n.setInput!==null?n.setInput(e,a,s,t,r):pT(e,a,r,s)}finally{Te(o)}}function Mk(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Us(~i);else{let s=i,o=t[++r],a=t[++r];gO(o,s);let u=e[s];a(2,u)}}}finally{Us(-1)}}function nf(n,e,t,r,i,s,o,a,u,l,p){let y=e.blueprint.slice();return y[Br]=i,y[se]=r|4|128|8|64,(l!==null||n&&n[se]&2048)&&(y[se]|=2048),_T(y),y[Bt]=y[Na]=n,y[Vn]=t,y[sr]=o||n&&n[sr],y[Ze]=a||n&&n[Ze],y[Ea]=u||n&&n[Ea]||null,y[jn]=s,y[Uh]=WO(),y[fh]=p,y[hT]=l,y[or]=e.type==2?n[or]:y,y}function cu(n,e,t,r,i){let s=n.data[e];if(s===null)s=xk(n,e,t,r,i),pO()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=lO();s.injectorIndex=o===null?-1:o.injectorIndex}return zs(s,!0),s}function xk(n,e,t,r,i){let s=TT(),o=$y(),a=o?s:s&&s.parent,u=n.data[e]=Fk(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function vC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function wC(n,e,t,r,i){let s=qs(),o=r&2;try{Us(-1),o&&e.length>rn&&gC(n,e,rn,!1),nr(o?2:0,i),t(r,i)}finally{Us(s),nr(o?3:1,i)}}function nv(n,e,t){if(jy(e)){let r=Te(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=n.data[o];if(a.contentQueries){let u=t[o];a.contentQueries(1,u,o)}}}finally{Te(r)}}}function rv(n,e,t){DT()&&($k(n,e,t,En(t,e)),(t.flags&64)===64&&EC(n,e,t))}function iv(n,e,t=En){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?t(e,n):n[o];n[i++]=a}}}function _C(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=sv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function sv(n,e,t,r,i,s,o,a,u,l,p){let y=rn+r,w=y+i,_=Nk(y,w),M=typeof l=="function"?l():l;return _[ye]={type:n,blueprint:_,template:t,queries:null,viewQuery:a,declTNode:e,data:_.slice().fill(null,y),bindingStartIndex:y,expandoStartIndex:w,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:M,incompleteFirstPass:!1,ssrId:p}}function Nk(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:$n);return t}function Pk(n,e,t,r){let s=r.get(ek,nC)||t===ir.ShadowDom,o=n.selectRootElement(e,s);return Ok(o),o}function Ok(n){kk(n)}var kk=()=>null;function Fk(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return aO()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function bD(n,e,t,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=ki.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}n===0?DD(r,t,l,a,u):DD(r,t,l,a)}return r}function DD(n,e,t,r,i){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,r):s=n[t]=[e,r],i!==void 0&&s.push(i)}function Lk(n,e,t){let r=e.directiveStart,i=e.directiveEnd,s=n.data,o=e.attrs,a=[],u=null,l=null;for(let p=r;p<i;p++){let y=s[p],w=t?t.get(y):null,_=w?w.inputs:null,M=w?w.outputs:null;u=bD(0,y.inputs,p,u,_),l=bD(1,y.outputs,p,l,M);let O=u!==null&&o!==null&&!Fy(e)?Xk(u,p,o):null;a.push(O)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function Vk(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function ov(n,e,t,r,i,s,o,a){let u=En(e,t),l=e.inputs,p;!a&&l!=null&&(p=l[r])?(cv(n,t,p,r,i),Bh(e)&&jk(t,e.index)):e.type&3?(r=Vk(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function jk(n,e){let t=Bi(e,n);t[se]&16||(t[se]|=64)}function av(n,e,t,r){if(DT()){let i=r===null?null:{"":-1},s=zk(n,t),o,a;s===null?o=a=null:[o,a]=s,o!==null&&IC(n,e,t,o,i,a),i&&qk(t,r,i)}t.mergedAttrs=tu(t.mergedAttrs,t.attrs)}function IC(n,e,t,r,i,s){for(let l=0;l<r.length;l++)ty(Ih(t,e),n,r[l].type);Wk(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let p=r[l];p.providersResolver&&p.providersResolver(p)}let o=!1,a=!1,u=vC(n,e,r.length,null);for(let l=0;l<r.length;l++){let p=r[l];t.mergedAttrs=tu(t.mergedAttrs,p.hostAttrs),Kk(n,t,e,u,p),Gk(u,p,i),p.contentQueries!==null&&(t.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(t.flags|=64);let y=p.type.prototype;!o&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(y.ngOnChanges||y.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}Lk(n,t,s)}function Uk(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;Bk(o)!=a&&o.push(a),o.push(t,r,s)}}function Bk(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function $k(n,e,t,r){let i=t.directiveStart,s=t.directiveEnd;Bh(t)&&Qk(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Ih(t,e),Vi(r,e);let o=t.initialInputs;for(let a=i;a<s;a++){let u=n.data[a],l=Ca(e,n,a,t);if(Vi(l,e),o!==null&&Jk(e,a-i,l,u,t,o),Li(u)){let p=Bi(t.index,e);p[Vn]=Ca(e,n,a,t)}}}function EC(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=mO();try{Us(s);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Jm(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Hk(u,l)}}finally{Us(-1),Jm(o)}}function Hk(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function zk(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(SP(e,o.selectors,!1))if(r||(r=[]),Li(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;dy(n,e,u)}else r.unshift(o),dy(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function dy(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function qk(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new Y(-301,!1);r.push(e[i],s)}}}function Gk(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Li(e)&&(t[""]=n)}}function Wk(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Kk(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=Ls(i.type,!0)),o=new Bs(s,Li(i),te);n.blueprint[r]=o,t[r]=o,Uk(n,e,r,vC(n,t,i.hostVars,$n),i)}function Qk(n,e,t){let r=En(e,n),i=_C(t),s=n[sr].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let a=rf(n,nf(n,i,null,o,r,e,null,s.createRenderer(r,t),null,null,null));n[e.index]=a}function Yk(n,e,t,r,i,s){let o=En(n,e);Zk(e[Ze],o,s,n.value,t,r,i)}function Zk(n,e,t,r,i,s,o){if(s==null)n.removeAttribute(e,i,t);else{let a=o==null?va(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}function Jk(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],p=o[a++],y=o[a++];yC(r,t,u,l,p,y)}}function Xk(n,e,t){let r=null,i=0;for(;i<t.length;){let s=t[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){r===null&&(r=[]);let o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],t[i+1]);break}}i+=2}return r}function bC(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function DC(n,e){let t=n.contentQueries;if(t!==null){let r=Te(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let a=n.data[o];RT(s),a.contentQueries(2,e[o],o)}}}finally{Te(r)}}}function rf(n,e){return n[ru]?n[lD][Ln]=e:n[ru]=e,n[lD]=e,e}function hy(n,e,t){RT(0);let r=Te(null);try{e(n,t)}finally{Te(r)}}function e1(n){return n[ph]??=[]}function t1(n){return n.cleanup??=[]}function TC(n,e){let t=n[Ea],r=t?t.get(jr,null):null;r&&r.handleError(e)}function cv(n,e,t,r,i){for(let s=0;s<t.length;){let o=t[s++],a=t[s++],u=t[s++],l=e[o],p=n.data[o];yC(p,l,r,a,u,i)}}function CC(n,e,t){let r=vT(e,n);dk(n[Ze],r,t)}function n1(n,e){let t=Bi(e,n),r=t[ye];r1(r,t);let i=t[Br];i!==null&&t[fh]===null&&(t[fh]=Zy(i,t[Ea])),uv(r,t,t[Vn])}function r1(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function uv(n,e,t){Hy(e);try{let r=n.viewQuery;r!==null&&hy(1,r,t);let i=n.template;i!==null&&wC(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Da]?.finishViewCreation(n),n.staticContentQueries&&DC(n,e),n.staticViewQueries&&hy(2,n.viewQuery,t);let s=n.components;s!==null&&i1(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[se]&=-5,zy()}}function i1(n,e){for(let t=0;t<e.length;t++)n1(n,e[t])}function s1(n,e,t,r){let i=Te(null);try{let s=e.tView,a=n[se]&4096?4096:16,u=nf(n,s,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[ba]=l;let p=n[Da];return p!==null&&(u[Da]=p.createEmbeddedView(s)),uv(s,u,t),u}finally{Te(i)}}function TD(n,e){return!e||e.firstChild===null||YT(n)}function o1(n,e,t,r=!0){let i=e[ye];if(mk(i,e,n,t),r){let o=ly(t,n),a=e[Ze],u=dC(a,n[Vs]);u!==null&&pk(i,n[jn],a,e,u,o)}let s=e[fh];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Ch(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(ar(s)),$r(s)&&a1(s,r);let o=t.type;if(o&8)Ch(n,e,t.child,r);else if(o&32){let a=Xy(t,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=hC(e,t);if(Array.isArray(a))r.push(...a);else{let u=js(e[or]);Ch(u[ye],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function a1(n,e){for(let t=yn;t<n.length;t++){let r=n[t],i=r[ye].firstChild;i!==null&&Ch(r[ye],r,i,e)}n[Vs]!==n[Br]&&e.push(n[Vs])}var AC=[];function c1(n){return n[mn]??u1(n)}function u1(n){let e=AC.pop()??Object.create(d1);return e.lView=n,e}function l1(n){n.lView[mn]!==n&&(n.lView=null,AC.push(n))}var d1=me($({},Kc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{zh(n.lView)},consumerOnSignalRead(){this.lView[mn]=this}});function h1(n){let e=n[mn]??Object.create(f1);return e.lView=n,e}var f1=me($({},Kc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=js(n.lView);for(;e&&!SC(e[ye]);)e=js(e);e&&IT(e)},consumerOnSignalRead(){this.lView[mn]=this}});function SC(n){return n.type!==2}var p1=100;function RC(n,e=!0,t=0){let r=n[sr],i=r.rendererFactory,s=!1;s||i.begin?.();try{g1(n,t)}catch(o){throw e&&TC(n,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function g1(n,e){let t=AT();try{hD(!0),fy(n,e);let r=0;for(;Hh(n);){if(r===p1)throw new Y(103,!1);r++,fy(n,1)}}finally{hD(t)}}function m1(n,e,t,r){let i=e[se];if((i&256)===256)return;let s=!1,o=!1;!s&&e[sr].inlineEffectRunner?.flush(),Hy(e);let a=!0,u=null,l=null;s||(SC(n)?(l=c1(e),u=Dd(l)):mb()===null?(a=!1,l=h1(e),u=Dd(l)):e[mn]&&(um(e[mn]),e[mn]=null));try{_T(e),fO(n.bindingStartIndex),t!==null&&wC(n,e,t,2,r);let p=(i&3)===3;if(!s)if(p){let _=n.preOrderCheckHooks;_!==null&&sh(e,_,null)}else{let _=n.preOrderHooks;_!==null&&oh(e,_,0,null),xm(e,0)}if(o||y1(e),MC(e,0),n.contentQueries!==null&&DC(n,e),!s)if(p){let _=n.contentCheckHooks;_!==null&&sh(e,_)}else{let _=n.contentHooks;_!==null&&oh(e,_,1),xm(e,1)}Mk(n,e);let y=n.components;y!==null&&NC(e,y,0);let w=n.viewQuery;if(w!==null&&hy(2,w,r),!s)if(p){let _=n.viewCheckHooks;_!==null&&sh(e,_)}else{let _=n.viewHooks;_!==null&&oh(e,_,2),xm(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Mm]){for(let _ of e[Mm])_();e[Mm]=null}s||(e[se]&=-73)}catch(p){throw s||zh(e),p}finally{l!==null&&(am(l,u),a&&l1(l)),zy()}}function MC(n,e){for(let t=JT(n);t!==null;t=XT(t))for(let r=yn;r<t.length;r++){let i=t[r];xC(i,e)}}function y1(n){for(let e=JT(n);e!==null;e=XT(e)){if(!(e[se]&yh.HasTransplantedViews))continue;let t=e[mh];for(let r=0;r<t.length;r++){let i=t[r];IT(i)}}}function v1(n,e,t){let r=Bi(e,n);xC(r,t)}function xC(n,e){By(n)&&fy(n,e)}function fy(n,e){let r=n[ye],i=n[se],s=n[mn],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&cm(s)),o||=!1,s&&(s.dirty=!1),n[se]&=-9217,o)m1(r,n,r.template,n[Vn]);else if(i&8192){MC(n,1);let a=r.components;a!==null&&NC(n,a,1)}}function NC(n,e,t){for(let r=0;r<e.length;r++)v1(n,e[r],t)}function lv(n,e){let t=AT()?64:1088;for(n[sr].changeDetectionScheduler?.notify(e);n;){n[se]|=t;let r=js(n);if(Qm(n)&&!r)return n;n=r}return null}var $s=class{get rootNodes(){let e=this._lView,t=e[ye];return Ch(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Vn]}set context(e){this._lView[Vn]=e}get destroyed(){return(this._lView[se]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Bt];if($r(e)){let t=e[gh],r=t?t.indexOf(this):-1;r>-1&&(uy(e,r),dh(t,r))}this._attachedToViewContainer=!1}uC(this._lView[ye],this._lView)}onDestroy(e){ET(this._lView,e)}markForCheck(){lv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[se]&=-129}reattach(){Zm(this._lView),this._lView[se]|=128}detectChanges(){this._lView[se]|=1024,RC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Y(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Qm(this._lView),t=this._lView[ba];t!==null&&!e&&ev(t,this._lView),aC(this._lView[ye],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Y(902,!1);this._appRef=e;let t=Qm(this._lView),r=this._lView[ba];r!==null&&!t&&cC(r,this._lView),Zm(this._lView)}},sf=(()=>{class n{static{this.__NG_ELEMENT_ID__=I1}}return n})(),w1=sf,_1=class extends w1{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=s1(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new $s(i)}};function I1(){return PC($t(),Ce())}function PC(n,e){return n.type&4?new _1(e,n,Zh(n,e)):null}var e8=new RegExp(`^(\\d+)*(${JO}|${ZO})*(.*)`);var E1=()=>null;function CD(n,e){return E1(n,e)}var Aa=class{},of=new z("",{providedIn:"root",factory:()=>!1});var OC=new z(""),kC=new z(""),py=class{},Ah=class{};function b1(n){let e=Error(`No component factory found for ${jt(n)}.`);return e[D1]=n,e}var D1="ngComponent";var gy=class{resolveComponentFactory(e){throw b1(e)}},Sa=class{static{this.NULL=new gy}},Ra=class{},ur=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>T1()}}return n})();function T1(){let n=Ce(),e=$t(),t=Bi(e.index,n);return(Oi(t)?t:n)[Ze]}var C1=(()=>{class n{static{this.\u0275prov=q({token:n,providedIn:"root",factory:()=>null})}}return n})();function Sh(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=eD(i,a);else if(s==2){let u=a,l=e[++o];r=eD(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var Rh=class extends Sa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Fi(e);return new Ma(t,this.ngModule)}};function AD(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:ki.None;e?t.push({propName:o,templateName:r,isSignal:(a&ki.SignalBased)!==0}):t.push({propName:o,templateName:r})}return t}function A1(n){let e=n.toLowerCase();return e==="svg"?XP:e==="math"?eO:null}var Ma=class extends Ah{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=AD(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return AD(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=NP(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=Te(null);try{i=i||this.ngModule;let o=i instanceof Ut?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Xm(e,o):e,u=a.get(Ra,null);if(u===null)throw new Y(407,!1);let l=a.get(C1,null),p=a.get(Aa,null),y={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:p},w=u.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",M=r?Pk(w,r,this.componentDef.encapsulation,a):oC(w,_,A1(_)),O=512;this.componentDef.signals?O|=4096:this.componentDef.onPush||(O|=16);let N=null;M!==null&&(N=Zy(M,a,!0));let L=sv(0,null,null,1,0,null,null,null,null,null,null),W=nf(null,L,null,O,null,null,y,w,a,null,N);Hy(W);let B,H,le=null;try{let J=this.componentDef,C,E=null;J.findHostDirectiveDefs?(C=[],E=new Map,J.findHostDirectiveDefs(J,C,E),C.push(J)):C=[J];let b=S1(W,M);le=R1(b,M,J,C,W,y,w),H=wT(L,rn),M&&N1(w,J,M,r),t!==void 0&&P1(H,this.ngContentSelectors,t),B=x1(le,J,C,E,W,[O1]),uv(L,W,null)}catch(J){throw le!==null&&ay(le),ay(W),J}finally{zy()}return new my(this.componentType,B,Zh(H,W),W,H)}finally{Te(s)}}},my=class extends py{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new $s(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;cv(s[ye],s,i,e,t),this.previousInputValues.set(e,t);let o=Bi(this._tNode.index,s);lv(o,1)}}get injector(){return new Fs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function S1(n,e){let t=n[ye],r=rn;return n[r]=e,cu(t,r,2,"#host",null)}function R1(n,e,t,r,i,s,o){let a=i[ye];M1(r,n,e,o);let u=null;e!==null&&(u=Zy(e,i[Ea]));let l=s.rendererFactory.createRenderer(e,t),p=16;t.signals?p=4096:t.onPush&&(p=64);let y=nf(i,_C(t),null,p,i[n.index],n,s,l,null,null,u);return a.firstCreatePass&&dy(a,n,r.length-1),rf(i,y),i[n.index]=y}function M1(n,e,t,r){for(let i of n)e.mergedAttrs=tu(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Sh(e,e.mergedAttrs,!0),t!==null&&pC(r,t,e))}function x1(n,e,t,r,i,s){let o=$t(),a=i[ye],u=En(o,i);IC(a,i,o,t,null,r);for(let p=0;p<t.length;p++){let y=o.directiveStart+p,w=Ca(i,a,y,o);Vi(w,i)}EC(a,i,o),u&&Vi(u,i);let l=Ca(i,a,o.directiveStart+o.componentOffset,o);if(n[Vn]=i[Vn]=l,s!==null)for(let p of s)p(l,e);return nv(a,o,i),l}function N1(n,e,t,r){if(r)qm(n,t,["ng-version","18.2.13"]);else{let{attrs:i,classes:s}=PP(e.selectors[0]);i&&qm(n,t,i),s&&s.length>0&&fC(n,t,s.join(" "))}}function P1(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null?Array.from(s):null)}}function O1(){let n=$t();Yh(Ce()[ye],n)}var Pa=(()=>{class n{static{this.__NG_ELEMENT_ID__=k1}}return n})();function k1(){let n=$t();return L1(n,Ce())}var F1=Pa,FC=class extends F1{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Zh(this._hostTNode,this._hostLView)}get injector(){return new Fs(this._hostTNode,this._hostLView)}get parentInjector(){let e=qy(this._hostTNode,this._hostLView);if(LT(e)){let t=wh(e,this._hostLView),r=vh(e),i=t[ye].data[r+8];return new Fs(i,t)}else return new Fs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=SD(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-yn}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=CD(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,i,TD(this._hostTNode,o)),a}createComponent(e,t,r,i,s){let o=e&&!QP(e),a;if(o)a=t;else{let M=t||{};a=M.index,r=M.injector,i=M.projectableNodes,s=M.environmentInjector||M.ngModuleRef}let u=o?e:new Ma(Fi(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let O=(o?l:this.parentInjector).get(Ut,null);O&&(s=O)}let p=Fi(u.componentType??{}),y=CD(this._lContainer,p?.id??null),w=y?.firstChild??null,_=u.create(l,i,w,s);return this.insertImpl(_.hostView,a,TD(this._hostTNode,y)),_}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(tO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Bt],l=new FC(u,u[jn],u[Bt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return o1(o,i,s,r),e.attachToViewContainerRef(),QD(Fm(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=SD(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=uy(this._lContainer,t);r&&(dh(Fm(this._lContainer),t),uC(r[ye],r))}detach(e){let t=this._adjustIndex(e,-1),r=uy(this._lContainer,t);return r&&dh(Fm(this._lContainer),t)!=null?new $s(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function SD(n){return n[gh]}function Fm(n){return n[gh]||(n[gh]=[])}function L1(n,e){let t,r=e[n.index];return $r(r)?t=r:(t=bC(r,e,null,n),e[n.index]=t,rf(e,t)),j1(t,e,n,r),new FC(t,n,e)}function V1(n,e){let t=n[Ze],r=t.createComment(""),i=En(e,n),s=dC(t,i);return Th(t,s,r,Ik(t,i),!1),r}var j1=$1,U1=()=>!1;function B1(n,e,t){return U1(n,e,t)}function $1(n,e,t,r){if(n[Vs])return;let i;t.type&8?i=ar(r):i=V1(e,t),n[Vs]=i}var RD=new Set;function Gs(n){RD.has(n)||(RD.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function H1(n){return typeof n=="function"&&n[kr]!==void 0}function Oa(n,e){Gs("NgSignals");let t=Ab(n),r=t[kr];return e?.equal&&(r.equal=e.equal),t.set=i=>lm(r,i),t.update=i=>Sb(r,i),t.asReadonly=z1.bind(t),t}function z1(){let n=this[kr];if(n.readonlyFn===void 0){let e=()=>this();e[kr]=n,n.readonlyFn=e}return n.readonlyFn}function LC(n){return H1(n)&&typeof n.set=="function"}function q1(n){return Object.getPrototypeOf(n.prototype).constructor}function Mt(n){let e=q1(n.type),t=!0,r=[n];for(;e;){let i;if(Li(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Y(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let o=n;o.inputs=th(n.inputs),o.inputTransforms=th(n.inputTransforms),o.declaredInputs=th(n.declaredInputs),o.outputs=th(n.outputs);let a=i.hostBindings;a&&Y1(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&K1(n,u),l&&Q1(n,l),G1(n,i),XN(n.outputs,i.outputs),Li(i)&&i.data.animation){let p=n.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===Mt&&(t=!1)}}e=Object.getPrototypeOf(e)}W1(r)}function G1(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function W1(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=tu(i.hostAttrs,t=tu(t,i.hostAttrs))}}function th(n){return n===wa?{}:n===gn?[]:n}function K1(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function Q1(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,s)=>{e(r,i,s),t(r,i,s)}:n.contentQueries=e}function Y1(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function VC(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var ji=class{},iu=class{};var yy=class extends ji{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Rh(this);let s=iT(e);this._bootstrapComponents=sC(s.bootstrap),this._r3Injector=GT(e,t,[{provide:ji,useValue:this},{provide:Sa,useValue:this.componentFactoryResolver},...r],jt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},vy=class extends iu{constructor(e){super(),this.moduleType=e}create(e){return new yy(this.moduleType,e,[])}};var Mh=class extends ji{constructor(e){super(),this.componentFactoryResolver=new Rh(this),this.instance=null;let t=new nu([...e.providers,{provide:ji,useValue:this},{provide:Sa,useValue:this.componentFactoryResolver}],e.parent||Vy(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function af(n,e,t=null){return new Mh({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function jC(n){return dv(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function Z1(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function dv(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function hv(n,e,t){return n[e]=t}function J1(n,e){return n[e]}function Ui(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function fv(n,e,t,r){let i=Ui(n,e,t);return Ui(n,e+1,r)||i}function X1(n,e,t,r,i){let s=fv(n,e,t,r);return Ui(n,e+2,i)||s}function eF(n){return(n.flags&32)===32}function tF(n,e,t,r,i,s,o,a,u){let l=e.consts,p=cu(e,n,4,o||null,a||null);av(e,t,p,Ta(l,u)),Yh(e,p);let y=p.tView=sv(2,p,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,p),y.queries=e.queries.embeddedTView(p)),p}function nF(n,e,t,r,i,s,o,a,u,l){let p=t+rn,y=e.firstCreatePass?tF(p,e,n,r,i,s,o,a,u):e.data[p];zs(y,!1);let w=iF(e,n,y,t);Kh()&&ef(e,n,w,y),Vi(w,n);let _=bC(w,n,w,y);return n[p]=_,rf(n,_),B1(_,y,n),$h(y)&&rv(e,n,y),u!=null&&iv(n,y,l),y}function rF(n,e,t,r,i,s,o,a){let u=Ce(),l=Tt(),p=Ta(l.consts,s);return nF(u,l,n,e,t,r,i,p,o,a),rF}var iF=sF;function sF(n,e,t,r){return Qh(!0),e[Ze].createComment("")}var ga=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(ga||{}),UC=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}}return n})(),wy=class n{constructor(){this.ngZone=V(we),this.scheduler=V(Aa),this.errorHandler=V(jr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[ga.EarlyRead,ga.Write,ga.MixedReadWrite,ga.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}},_y=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function pv(n,e){!e?.injector&&KP(pv);let t=e?.injector??V(bt);return ck(t)?(Gs("NgAfterNextRender"),aF(n,t,e,!0)):cF}function oF(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function aF(n,e,t,r){let i=e.get(UC);i.impl??=e.get(wy);let s=t?.phase??ga.MixedReadWrite,o=t?.manualCleanup!==!0?e.get(Gy):null,a=new _y(i.impl,oF(n,s),r,o);return i.impl.register(a),a}var cF={destroy(){}};function cf(n,e,t,r){let i=Ce(),s=Gh();if(Ui(i,s,e)){let o=Tt(),a=Wh();Yk(a,i,n,e,t,r)}return cf}function BC(n,e,t,r){return Ui(n,Gh(),t)?e+va(t)+r:$n}function uF(n,e,t,r,i,s){let o=hO(),a=fv(n,o,t,i);return ST(2),a?e+va(t)+r+va(i)+s:$n}function nh(n,e){return n<<17|e<<2}function Hs(n){return n>>17&32767}function lF(n){return(n&2)==2}function dF(n,e){return n&131071|e<<17}function Iy(n){return n|2}function xa(n){return(n&131068)>>2}function Lm(n,e){return n&-131069|e<<2}function hF(n){return(n&1)===1}function Ey(n){return n|1}function fF(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Hs(o),u=xa(o);n[r]=t;let l=!1,p;if(Array.isArray(t)){let y=t;p=y[1],(p===null||au(y,p)>0)&&(l=!0)}else p=t;if(i)if(u!==0){let w=Hs(n[a+1]);n[r+1]=nh(w,a),w!==0&&(n[w+1]=Lm(n[w+1],r)),n[a+1]=dF(n[a+1],r)}else n[r+1]=nh(a,0),a!==0&&(n[a+1]=Lm(n[a+1],r)),a=r;else n[r+1]=nh(u,0),a===0?a=r:n[u+1]=Lm(n[u+1],r),u=r;l&&(n[r+1]=Iy(n[r+1])),MD(n,p,r,!0),MD(n,p,r,!1),pF(e,p,n,r,s),o=nh(a,u),s?e.classBindings=o:e.styleBindings=o}function pF(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&au(s,e)>=0&&(t[r+1]=Ey(t[r+1]))}function MD(n,e,t,r){let i=n[t+1],s=e===null,o=r?Hs(i):xa(i),a=!1;for(;o!==0&&(a===!1||s);){let u=n[o],l=n[o+1];gF(u,e)&&(a=!0,n[o+1]=r?Ey(l):Iy(l)),o=r?Hs(l):xa(l)}a&&(n[t+1]=r?Iy(i):Ey(i))}function gF(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?au(n,e)>=0:!1}function mF(n,e,t){let r=Ce(),i=Gh();if(Ui(r,i,e)){let s=Tt(),o=Wh();ov(s,o,r,n,e,r[Ze],t,!1)}return mF}function xD(n,e,t,r,i){let s=e.inputs,o=i?"class":"style";cv(n,t,s[o],o,r)}function $C(n,e,t){return HC(n,e,t,!1),$C}function uf(n,e){return HC(n,e,null,!0),uf}function HC(n,e,t,r){let i=Ce(),s=Tt(),o=ST(2);if(s.firstUpdatePass&&vF(s,n,o,r),e!==$n&&Ui(i,o,e)){let a=s.data[qs()];bF(s,a,i,i[Ze],n,i[o+1]=DF(e,t),r,o)}}function yF(n,e){return e>=n.expandoStartIndex}function vF(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[qs()],o=yF(n,t);TF(s,r)&&e===null&&!o&&(e=!1),e=wF(i,s,e,r),fF(i,s,e,t,o,r)}}function wF(n,e,t,r){let i=yO(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Vm(null,n,e,t,r),t=su(t,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==i)if(t=Vm(i,n,e,t,r),s===null){let u=_F(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Vm(null,n,e,u[1],r),u=su(u,e.attrs,r),IF(n,e,r,u))}else s=EF(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function _F(n,e,t){let r=t?e.classBindings:e.styleBindings;if(xa(r)!==0)return n[Hs(r)]}function IF(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Hs(i)]=r}function EF(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=n[s].hostAttrs;r=su(r,o,t)}return su(r,e.attrs,t)}function Vm(n,e,t,r,i){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],r=su(r,s.hostAttrs,i),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function su(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),wP(n,o,t?!0:e[++s]))}return n===void 0?null:n}function bF(n,e,t,r,i,s,o,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],p=hF(l)?ND(u,e,t,i,xa(l),o):void 0;if(!xh(p)){xh(s)||lF(l)&&(s=ND(u,null,t,i,a,o));let y=vT(qs(),t);Sk(r,o,y,i,s)}}function ND(n,e,t,r,i,s){let o=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),p=l?u[1]:u,y=p===null,w=t[i+1];w===$n&&(w=y?gn:void 0);let _=y?Sm(w,r):p===r?w:void 0;if(l&&!xh(_)&&(_=Sm(u,r)),xh(_)&&(a=_,o))return a;let M=n[i+1];i=o?Hs(M):xa(M)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=Sm(u,r))}return a}function xh(n){return n!==void 0}function DF(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=jt(Xh(n)))),n}function TF(n,e){return(n.flags&(e?8:16))!==0}function CF(n,e,t,r,i,s){let o=e.consts,a=Ta(o,i),u=cu(e,n,2,r,a);return av(e,t,u,Ta(o,s)),u.attrs!==null&&Sh(u,u.attrs,!1),u.mergedAttrs!==null&&Sh(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function zC(n,e,t,r){let i=Ce(),s=Tt(),o=rn+n,a=i[Ze],u=s.firstCreatePass?CF(o,s,i,e,t,r):s.data[o],l=AF(s,i,u,a,e,n);i[o]=l;let p=$h(u);return zs(u,!0),pC(a,l,u),!eF(u)&&Kh()&&ef(s,i,l,u),iO()===0&&Vi(l,i),sO(),p&&(rv(s,i,u),nv(s,u,i)),r!==null&&iv(i,u),zC}function qC(){let n=$t();$y()?CT():(n=n.parent,zs(n,!1));let e=n;cO(e)&&uO(),oO();let t=Tt();return t.firstCreatePass&&(Yh(t,n),jy(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&DO(e)&&xD(t,e,Ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&TO(e)&&xD(t,e,Ce(),e.stylesWithoutHost,!1),qC}function gv(n,e,t,r){return zC(n,e,t,r),qC(),gv}var AF=(n,e,t,r,i,s)=>(Qh(!0),oC(r,i,_O()));function SF(n,e,t,r,i){let s=e.consts,o=Ta(s,r),a=cu(e,n,8,"ng-container",o);o!==null&&Sh(a,o,!0);let u=Ta(s,i);return av(e,t,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function RF(n,e,t){let r=Ce(),i=Tt(),s=n+rn,o=i.firstCreatePass?SF(s,i,r,e,t):i.data[s];zs(o,!0);let a=xF(i,r,o,n);return r[s]=a,Kh()&&ef(i,r,a,o),Vi(a,r),$h(o)&&(rv(i,r,o),nv(i,o,r)),t!=null&&iv(r,o),RF}function MF(){let n=$t(),e=Tt();return $y()?CT():(n=n.parent,zs(n,!1)),e.firstCreatePass&&(Yh(e,n),jy(n)&&e.queries.elementEnd(n)),MF}var xF=(n,e,t,r)=>(Qh(!0),hk(e[Ze],""));function n8(){return Ce()}var ks=void 0;function NF(n){let e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}var PF=["en",[["a","p"],["AM","PM"],ks],[["AM","PM"],ks,ks],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ks,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ks,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ks,"{1} 'at' {0}",ks],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",NF],jm={};function Dn(n){let e=OF(n),t=PD(e);if(t)return t;let r=e.split("-")[0];if(t=PD(r),t)return t;if(r==="en")return PF;throw new Y(701,!1)}function PD(n){return n in jm||(jm[n]=pn.ng&&pn.ng.common&&pn.ng.common.locales&&pn.ng.common.locales[n]),jm[n]}var Je=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Je||{});function OF(n){return n.toLowerCase().replace(/_/g,"-")}var Nh="en-US";var kF=Nh;function FF(n){typeof n=="string"&&(kF=n.toLowerCase().replace(/_/g,"-"))}var LF=(n,e,t)=>{};function Hn(n,e,t,r){let i=Ce(),s=Tt(),o=$t();return GC(s,i,i[Ze],o,n,e,r),Hn}function VF(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let a=e[ph],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function GC(n,e,t,r,i,s,o){let a=$h(r),l=n.firstCreatePass&&t1(n),p=e[Vn],y=e1(e),w=!0;if(r.type&3||o){let O=En(r,e),N=o?o(O):O,L=y.length,W=o?H=>o(ar(H[r.index])):r.index,B=null;if(!o&&a&&(B=VF(n,e,i,r.index)),B!==null){let H=B.__ngLastListenerFn__||B;H.__ngNextListenerFn__=s,B.__ngLastListenerFn__=s,w=!1}else{s=kD(r,e,p,s),LF(O,i,s);let H=t.listen(N,i,s);y.push(s,H),l&&l.push(i,W,L,L+1)}}else s=kD(r,e,p,s);let _=r.outputs,M;if(w&&_!==null&&(M=_[i])){let O=M.length;if(O)for(let N=0;N<O;N+=2){let L=M[N],W=M[N+1],le=e[L][W].subscribe(s),J=y.length;y.push(s,le),l&&l.push(i,r.index,J,-(J+1))}}}function OD(n,e,t,r){let i=Te(null);try{return nr(6,e,t),t(r)!==!1}catch(s){return TC(n,s),!1}finally{nr(7,e,t),Te(i)}}function kD(n,e,t,r){return function i(s){if(s===Function)return r;let o=n.componentOffset>-1?Bi(n.index,e):e;lv(o,5);let a=OD(e,t,r,s),u=i.__ngNextListenerFn__;for(;u;)a=OD(e,t,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function r8(n=1){return wO(n)}function jF(n,e,t){return WC(n,"",e,"",t),jF}function WC(n,e,t,r,i){let s=Ce(),o=BC(s,e,t,r);if(o!==$n){let a=Tt(),u=Wh();ov(a,u,s,n,o,s[Ze],i,!1)}return WC}function UF(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function i8(n){let e=dO();return Uy(e,rn+n)}function s8(n,e=""){let t=Ce(),r=Tt(),i=n+rn,s=r.firstCreatePass?cu(r,i,1,e,null):r.data[i],o=BF(r,t,s,e,n);t[i]=o,Kh()&&ef(r,t,o,s),zs(s,!1)}var BF=(n,e,t,r,i)=>(Qh(!0),lk(e[Ze],r));function $F(n){return KC("",n,""),$F}function KC(n,e,t){let r=Ce(),i=BC(r,n,e,t);return i!==$n&&CC(r,qs(),i),KC}function HF(n,e,t,r,i){let s=Ce(),o=uF(s,n,e,t,r,i);return o!==$n&&CC(s,qs(),o),HF}function zF(n,e,t){LC(e)&&(e=e());let r=Ce(),i=Gh();if(Ui(r,i,e)){let s=Tt(),o=Wh();ov(s,o,r,n,e,r[Ze],t,!1)}return zF}function o8(n,e){let t=LC(n);return t&&n.set(e),t}function qF(n,e){let t=Ce(),r=Tt(),i=$t();return GC(r,t,t[Ze],i,n,e),qF}function GF(n,e,t){let r=Tt();if(r.firstCreatePass){let i=Li(n);by(t,r.data,r.blueprint,i,!0),by(e,r.data,r.blueprint,i,!1)}}function by(n,e,t,r,i){if(n=Vt(n),Array.isArray(n))for(let s=0;s<n.length;s++)by(n[s],e,t,r,i);else{let s=Tt(),o=Ce(),a=$t(),u=Ia(n)?n:Vt(n.provide),l=lT(n),p=a.providerIndexes&1048575,y=a.directiveStart,w=a.providerIndexes>>20;if(Ia(n)||!n.multi){let _=new Bs(l,i,te),M=Bm(u,e,i?p:p+w,y);M===-1?(ty(Ih(a,o),s,u),Um(s,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(_),o.push(_)):(t[M]=_,o[M]=_)}else{let _=Bm(u,e,p+w,y),M=Bm(u,e,p,p+w),O=_>=0&&t[_],N=M>=0&&t[M];if(i&&!N||!i&&!O){ty(Ih(a,o),s,u);let L=QF(i?KF:WF,t.length,i,r,l);!i&&N&&(t[M].providerFactory=L),Um(s,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(L),o.push(L)}else{let L=QC(t[i?M:_],l,!i&&r);Um(s,n,_>-1?_:M,L)}!i&&r&&N&&t[M].componentProviders++}}}function Um(n,e,t,r){let i=Ia(e),s=BP(e);if(i||s){let u=(s?Vt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let p=l.indexOf(t);p===-1?l.push(t,[r,u]):l[p+1].push(r,u)}else l.push(t,u)}}}function QC(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Bm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function WF(n,e,t,r){return Dy(this.multi,[])}function KF(n,e,t,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Ca(t,t[ye],this.providerFactory.index,r);s=a.slice(0,o),Dy(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Dy(i,s);return s}function Dy(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function QF(n,e,t,r,i){let s=new Bs(n,t,te);return s.multi=[],s.index=e,s.componentProviders=0,QC(s,i,r&&!t),s}function Tn(n,e=[]){return t=>{t.providersResolver=(r,i)=>GF(r,i?i(n):n,e)}}var YF=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=aT(!1,t.type),i=r.length>0?af([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=q({token:n,providedIn:"environment",factory:()=>new n(Z(Ut))})}}return n})();function YC(n){Gs("NgStandalone"),n.getStandaloneInjector=e=>e.get(YF).getOrCreateStandaloneInjector(n)}function a8(n,e,t){let r=qh()+n,i=Ce();return i[r]===$n?hv(i,r,t?e.call(t):e()):J1(i,r)}function c8(n,e,t,r,i){return JC(Ce(),qh(),n,e,t,r,i)}function ZC(n,e){let t=n[e];return t===$n?void 0:t}function JC(n,e,t,r,i,s,o){let a=e+t;return fv(n,a,i,s)?hv(n,a+2,o?r.call(o,i,s):r(i,s)):ZC(n,a+2)}function ZF(n,e,t,r,i,s,o,a){let u=e+t;return X1(n,u,i,s,o)?hv(n,u+3,a?r.call(a,i,s,o):r(i,s,o)):ZC(n,u+3)}function u8(n,e){let t=Tt(),r,i=n+rn;t.firstCreatePass?(r=JF(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let s=r.factory||(r.factory=Ls(r.type,!0)),o,a=Qt(te);try{let u=_h(!1),l=s();return _h(u),UF(t,Ce(),i,l),l}finally{Qt(a)}}function JF(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function l8(n,e,t,r){let i=n+rn,s=Ce(),o=Uy(s,i);return XC(s,i)?JC(s,qh(),e,o.transform,t,r,o):o.transform(t,r)}function d8(n,e,t,r,i){let s=n+rn,o=Ce(),a=Uy(o,s);return XC(o,s)?ZF(o,qh(),e,a.transform,t,r,i,a):a.transform(t,r,i)}function XC(n,e){return n[ye].data[e].pure}function h8(n,e){return PC(n,e)}var Ur=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},e0=new Ur("18.2.13");var lf=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var mv=new z(""),uu=new z(""),df=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,yv||(XF(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t()},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(Z(we),Z(hf),Z(uu))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),hf=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return yv?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function XF(n){yv=n}var yv;function Ws(n){return!!n&&typeof n.then=="function"}function t0(n){return!!n&&typeof n.subscribe=="function"}var ff=new z(""),n0=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=V(ff,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=i();if(Ws(s))t.push(s);else if(t0(s)){let o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),lu=new z("");function eL(){Cb(()=>{throw new Y(600,!1)})}function tL(n){return n.isBoundToModule}var nL=10;function rL(n,e,t){try{let r=t();return Ws(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var zr=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=V(zO),this.afterRenderManager=V(UC),this.zonelessEnabled=V(of),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Et,this.afterTick=new Et,this.componentTypes=[],this.components=[],this.isStable=V($i).hasPendingTasks.pipe(ie(t=>!t)),this._injector=V(Ut)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Ah;if(!this._injector.get(n0).done){let w=!i&&rT(t),_=!1;throw new Y(405,_)}let o;i?o=t:o=this._injector.get(Sa).resolveComponentFactory(t),this.componentTypes.push(o.componentType);let a=tL(o)?void 0:this._injector.get(ji),u=r||o.selector,l=o.create(bt.NULL,[],u,a),p=l.location.nativeElement,y=l.injector.get(mv,null);return y?.registerApplication(p),l.onDestroy(()=>{this.detachView(l.hostView),ah(this.components,l),y?.unregisterApplication(p)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Y(101,!1);let t=Te(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Te(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Ra,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<nL;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)iL(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Hh(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;ah(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(lu,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ah(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Y(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ah(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function iL(n,e,t,r){if(!t&&!Hh(n))return;RC(n,e,t&&!r?0:1)}var Ty=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},pf=(()=>{class n{compileModuleSync(t){return new vy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=iT(t),s=sC(i.declarations).reduce((o,a)=>{let u=Fi(a);return u&&o.push(new Ma(u)),o},[]);return new Ty(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var sL=(()=>{class n{constructor(){this.zone=V(we),this.changeDetectionScheduler=V(Aa),this.applicationRef=V(zr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),oL=new z("",{factory:()=>!1});function r0({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new we(me($({},i0()),{scheduleInRootZone:t})),[{provide:we,useFactory:n},{provide:_a,multi:!0,useFactory:()=>{let r=V(sL,{optional:!0});return()=>r.initialize()}},{provide:_a,multi:!0,useFactory:()=>{let r=V(aL);return()=>{r.initialize()}}},e===!0?{provide:OC,useValue:!0}:[],{provide:kC,useValue:t??WT}]}function f8(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=r0({ngZoneFactory:()=>{let i=i0(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Gs("NgZone_CoalesceEvent"),new we(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return _n([{provide:oL,useValue:!0},{provide:of,useValue:!1},r])}function i0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var aL=(()=>{class n{constructor(){this.subscription=new ze,this.initialized=!1,this.zone=V(we),this.pendingTasks=V($i)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var cL=(()=>{class n{constructor(){this.appRef=V(zr),this.taskService=V($i),this.ngZone=V(we),this.zonelessEnabled=V(of),this.disableScheduling=V(OC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new ze,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(bh):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(V(kC,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof oy||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?yD:KT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(bh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,yD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function uL(){return typeof $localize<"u"&&$localize.locale||Nh}var gf=new z("",{providedIn:"root",factory:()=>V(gf,fe.Optional|fe.SkipSelf)||uL()});var Cy=new z("");function rh(n){return!n.moduleRef}function lL(n){let e=rh(n)?n.r3Injector:n.moduleRef.injector,t=e.get(we);return t.run(()=>{rh(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(jr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),rh(n)){let s=()=>e.destroy(),o=n.platformInjector.get(Cy);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(Cy);o.add(s),n.moduleRef.onDestroy(()=>{ah(n.allPlatformModules,n.moduleRef),i.unsubscribe(),o.delete(s)})}return rL(r,t,()=>{let s=e.get(n0);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(gf,Nh);if(FF(o||Nh),rh(n)){let a=e.get(zr);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return dL(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function dL(n,e){let t=n.injector.get(zr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new Y(-403,!1);e.push(n)}var ch=null;function hL(n=[],e){return bt.create({name:e,providers:[{provide:jh,useValue:"platform"},{provide:Cy,useValue:new Set([()=>ch=null])},...n]})}function fL(n=[]){if(ch)return ch;let e=hL(n);return ch=e,eL(),pL(e),e}function pL(n){n.get(Qy,null)?.forEach(t=>t())}var Ks=(()=>{class n{static{this.__NG_ELEMENT_ID__=gL}}return n})();function gL(n){return mL($t(),Ce(),(n&16)===16)}function mL(n,e,t){if(Bh(n)&&!t){let r=Bi(n.index,e);return new $s(r,r)}else if(n.type&175){let r=e[or];return new $s(r,e)}return null}var Ay=class{constructor(){}supports(e){return jC(e)}create(e){return new Sy(e)}},yL=(n,e)=>e,Sy=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||yL}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){let o=!r||t&&t.currentIndex<FD(r,i,s)?t:r,a=FD(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,p=u-i;if(l!=p){for(let w=0;w<l;w++){let _=w<s.length?s[w]:s[w]=0,M=_+w;p<=M&&M<l&&(s[w]=_+1)}let y=o.previousIndex;s[y]=p-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!jC(e))throw new Y(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),r=!0):(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else i=0,Z1(e,a=>{o=this._trackByFn(i,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new Ry(t,r),s,i)),e}_verifyReinsertion(e,t,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ph),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ph),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Ry=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},My=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Ph=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new My,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function FD(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var xy=class{constructor(){}supports(e){return e instanceof Map||dv(e)}create(){return new Ny}},Ny=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||dv(e)))throw new Y(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new Py(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},Py=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function LD(){return new vv([new Ay])}var vv=(()=>{class n{static{this.\u0275prov=q({token:n,providedIn:"root",factory:LD})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||LD()),deps:[[n,new Lh,new Dt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new Y(901,!1)}}return n})();function VD(){return new wv([new xy])}var wv=(()=>{class n{static{this.\u0275prov=q({token:n,providedIn:"root",factory:VD})}constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||VD()),deps:[[n,new Lh,new Dt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new Y(901,!1)}}return n})();var s0=(()=>{class n{constructor(t){}static{this.\u0275fac=function(r){return new(r||n)(Z(zr))}}static{this.\u0275mod=wn({type:n})}static{this.\u0275inj=vn({})}}return n})();function o0(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=fL(r),s=[r0({}),{provide:Aa,useExisting:cL},...t||[]],o=new Mh({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return lL({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function du(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function ka(n,e){Gs("NgSignals");let t=bb(n);return e?.equal&&(t[kr].equal=e.equal),t}function lr(n){let e=Te(null);try{return n()}finally{Te(e)}}function a0(n){let e=Fi(n);if(!e)return null;let t=new Ma(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var p0=null;function hr(){return p0}function g0(n){p0??=n}var Df=class{};var xt=new z(""),Sv=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:()=>V(_L),providedIn:"platform"})}}return n})(),m0=new z(""),_L=(()=>{class n extends Sv{constructor(){super(),this._doc=V(xt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hr().getBaseHref(this._doc)}onPopState(t){let r=hr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=hr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function Rv(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function c0(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Gr(n){return n&&n[0]!=="?"?"?"+n:n}var Qs=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:()=>V(Mv),providedIn:"root"})}}return n})(),y0=new z(""),Mv=(()=>{class n extends Qs{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V(xt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Rv(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Gr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Gr(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Gr(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(Z(Sv),Z(y0,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),v0=(()=>{class n extends Qs{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Rv(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Gr(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Gr(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(Z(Sv),Z(y0,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),La=(()=>{class n{constructor(t){this._subject=new Ge,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=bL(c0(u0(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Gr(r))}normalize(t){return n.stripTrailingSlash(EL(this._basePath,u0(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Gr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Gr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Gr}static{this.joinWithSlash=Rv}static{this.stripTrailingSlash=c0}static{this.\u0275fac=function(r){return new(r||n)(Z(Qs))}}static{this.\u0275prov=q({token:n,factory:()=>IL(),providedIn:"root"})}}return n})();function IL(){return new La(Z(Qs))}function EL(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function u0(n){return n.replace(/\/index.html$/,"")}function bL(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Ht=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Ht||{}),Le=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Le||{}),sn=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(sn||{}),Hi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function DL(n){return Dn(n)[Je.LocaleId]}function TL(n,e,t){let r=Dn(n),i=[r[Je.DayPeriodsFormat],r[Je.DayPeriodsStandalone]],s=Cn(i,e);return Cn(s,t)}function CL(n,e,t){let r=Dn(n),i=[r[Je.DaysFormat],r[Je.DaysStandalone]],s=Cn(i,e);return Cn(s,t)}function AL(n,e,t){let r=Dn(n),i=[r[Je.MonthsFormat],r[Je.MonthsStandalone]],s=Cn(i,e);return Cn(s,t)}function SL(n,e){let r=Dn(n)[Je.Eras];return Cn(r,e)}function mf(n,e){let t=Dn(n);return Cn(t[Je.DateFormat],e)}function yf(n,e){let t=Dn(n);return Cn(t[Je.TimeFormat],e)}function vf(n,e){let r=Dn(n)[Je.DateTimeFormat];return Cn(r,e)}function Cf(n,e){let t=Dn(n),r=t[Je.NumberSymbols][e];if(typeof r>"u"){if(e===Hi.CurrencyDecimal)return t[Je.NumberSymbols][Hi.Decimal];if(e===Hi.CurrencyGroup)return t[Je.NumberSymbols][Hi.Group]}return r}function w0(n){if(!n[Je.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Je.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function RL(n){let e=Dn(n);return w0(e),(e[Je.ExtraData][2]||[]).map(r=>typeof r=="string"?_v(r):[_v(r[0]),_v(r[1])])}function ML(n,e,t){let r=Dn(n);w0(r);let i=[r[Je.ExtraData][0],r[Je.ExtraData][1]],s=Cn(i,e)||[];return Cn(s,t)||[]}function Cn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function _v(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var xL=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,wf={},NL=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Wr=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Wr||{}),Re=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Re||{}),Se=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Se||{});function PL(n,e,t,r){let i=$L(n);e=qr(t,e)||e;let o=[],a;for(;e;)if(a=NL.exec(e),a){o=o.concat(a.slice(1));let p=o.pop();if(!p)break;e=p}else{o.push(e);break}let u=i.getTimezoneOffset();r&&(u=I0(r,u),i=BL(i,r,!0));let l="";return o.forEach(p=>{let y=jL(p);l+=y?y(i,t,u):p==="''"?"'":p.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Tf(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function qr(n,e){let t=DL(n);if(wf[t]??={},wf[t][e])return wf[t][e];let r="";switch(e){case"shortDate":r=mf(n,sn.Short);break;case"mediumDate":r=mf(n,sn.Medium);break;case"longDate":r=mf(n,sn.Long);break;case"fullDate":r=mf(n,sn.Full);break;case"shortTime":r=yf(n,sn.Short);break;case"mediumTime":r=yf(n,sn.Medium);break;case"longTime":r=yf(n,sn.Long);break;case"fullTime":r=yf(n,sn.Full);break;case"short":let i=qr(n,"shortTime"),s=qr(n,"shortDate");r=_f(vf(n,sn.Short),[i,s]);break;case"medium":let o=qr(n,"mediumTime"),a=qr(n,"mediumDate");r=_f(vf(n,sn.Medium),[o,a]);break;case"long":let u=qr(n,"longTime"),l=qr(n,"longDate");r=_f(vf(n,sn.Long),[u,l]);break;case"full":let p=qr(n,"fullTime"),y=qr(n,"fullDate");r=_f(vf(n,sn.Full),[p,y]);break}return r&&(wf[t][e]=r),r}function _f(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function zn(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function OL(n,e){return zn(n,3).substring(0,e)}function rt(n,e,t=0,r=!1,i=!1){return function(s,o){let a=kL(n,s);if((t>0||a>-t)&&(a+=t),n===Re.Hours)a===0&&t===-12&&(a=12);else if(n===Re.FractionalSeconds)return OL(a,e);let u=Cf(o,Hi.MinusSign);return zn(a,e,u,r,i)}}function kL(n,e){switch(n){case Re.FullYear:return e.getFullYear();case Re.Month:return e.getMonth();case Re.Date:return e.getDate();case Re.Hours:return e.getHours();case Re.Minutes:return e.getMinutes();case Re.Seconds:return e.getSeconds();case Re.FractionalSeconds:return e.getMilliseconds();case Re.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function je(n,e,t=Ht.Format,r=!1){return function(i,s){return FL(i,s,n,e,t,r)}}function FL(n,e,t,r,i,s){switch(t){case Se.Months:return AL(e,i,r)[n.getMonth()];case Se.Days:return CL(e,i,r)[n.getDay()];case Se.DayPeriods:let o=n.getHours(),a=n.getMinutes();if(s){let l=RL(e),p=ML(e,i,r),y=l.findIndex(w=>{if(Array.isArray(w)){let[_,M]=w,O=o>=_.hours&&a>=_.minutes,N=o<M.hours||o===M.hours&&a<M.minutes;if(_.hours<M.hours){if(O&&N)return!0}else if(O||N)return!0}else if(w.hours===o&&w.minutes===a)return!0;return!1});if(y!==-1)return p[y]}return TL(e,i,r)[o<12?0:1];case Se.Eras:return SL(e,r)[n.getFullYear()<=0?0:1];default:let u=t;throw new Error(`unexpected translation type ${u}`)}}function If(n){return function(e,t,r){let i=-1*r,s=Cf(t,Hi.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Wr.Short:return(i>=0?"+":"")+zn(o,2,s)+zn(Math.abs(i%60),2,s);case Wr.ShortGMT:return"GMT"+(i>=0?"+":"")+zn(o,1,s);case Wr.Long:return"GMT"+(i>=0?"+":"")+zn(o,2,s)+":"+zn(Math.abs(i%60),2,s);case Wr.Extended:return r===0?"Z":(i>=0?"+":"")+zn(o,2,s)+":"+zn(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}var LL=0,bf=4;function VL(n){let e=Tf(n,LL,1).getDay();return Tf(n,0,1+(e<=bf?bf:bf+7)-e)}function _0(n){let e=n.getDay(),t=e===0?-3:bf-e;return Tf(n.getFullYear(),n.getMonth(),n.getDate()+t)}function Iv(n,e=!1){return function(t,r){let i;if(e){let s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{let s=_0(t),o=VL(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return zn(i,n,Cf(r,Hi.MinusSign))}}function Ef(n,e=!1){return function(t,r){let s=_0(t).getFullYear();return zn(s,n,Cf(r,Hi.MinusSign),e)}}var Ev={};function jL(n){if(Ev[n])return Ev[n];let e;switch(n){case"G":case"GG":case"GGG":e=je(Se.Eras,Le.Abbreviated);break;case"GGGG":e=je(Se.Eras,Le.Wide);break;case"GGGGG":e=je(Se.Eras,Le.Narrow);break;case"y":e=rt(Re.FullYear,1,0,!1,!0);break;case"yy":e=rt(Re.FullYear,2,0,!0,!0);break;case"yyy":e=rt(Re.FullYear,3,0,!1,!0);break;case"yyyy":e=rt(Re.FullYear,4,0,!1,!0);break;case"Y":e=Ef(1);break;case"YY":e=Ef(2,!0);break;case"YYY":e=Ef(3);break;case"YYYY":e=Ef(4);break;case"M":case"L":e=rt(Re.Month,1,1);break;case"MM":case"LL":e=rt(Re.Month,2,1);break;case"MMM":e=je(Se.Months,Le.Abbreviated);break;case"MMMM":e=je(Se.Months,Le.Wide);break;case"MMMMM":e=je(Se.Months,Le.Narrow);break;case"LLL":e=je(Se.Months,Le.Abbreviated,Ht.Standalone);break;case"LLLL":e=je(Se.Months,Le.Wide,Ht.Standalone);break;case"LLLLL":e=je(Se.Months,Le.Narrow,Ht.Standalone);break;case"w":e=Iv(1);break;case"ww":e=Iv(2);break;case"W":e=Iv(1,!0);break;case"d":e=rt(Re.Date,1);break;case"dd":e=rt(Re.Date,2);break;case"c":case"cc":e=rt(Re.Day,1);break;case"ccc":e=je(Se.Days,Le.Abbreviated,Ht.Standalone);break;case"cccc":e=je(Se.Days,Le.Wide,Ht.Standalone);break;case"ccccc":e=je(Se.Days,Le.Narrow,Ht.Standalone);break;case"cccccc":e=je(Se.Days,Le.Short,Ht.Standalone);break;case"E":case"EE":case"EEE":e=je(Se.Days,Le.Abbreviated);break;case"EEEE":e=je(Se.Days,Le.Wide);break;case"EEEEE":e=je(Se.Days,Le.Narrow);break;case"EEEEEE":e=je(Se.Days,Le.Short);break;case"a":case"aa":case"aaa":e=je(Se.DayPeriods,Le.Abbreviated);break;case"aaaa":e=je(Se.DayPeriods,Le.Wide);break;case"aaaaa":e=je(Se.DayPeriods,Le.Narrow);break;case"b":case"bb":case"bbb":e=je(Se.DayPeriods,Le.Abbreviated,Ht.Standalone,!0);break;case"bbbb":e=je(Se.DayPeriods,Le.Wide,Ht.Standalone,!0);break;case"bbbbb":e=je(Se.DayPeriods,Le.Narrow,Ht.Standalone,!0);break;case"B":case"BB":case"BBB":e=je(Se.DayPeriods,Le.Abbreviated,Ht.Format,!0);break;case"BBBB":e=je(Se.DayPeriods,Le.Wide,Ht.Format,!0);break;case"BBBBB":e=je(Se.DayPeriods,Le.Narrow,Ht.Format,!0);break;case"h":e=rt(Re.Hours,1,-12);break;case"hh":e=rt(Re.Hours,2,-12);break;case"H":e=rt(Re.Hours,1);break;case"HH":e=rt(Re.Hours,2);break;case"m":e=rt(Re.Minutes,1);break;case"mm":e=rt(Re.Minutes,2);break;case"s":e=rt(Re.Seconds,1);break;case"ss":e=rt(Re.Seconds,2);break;case"S":e=rt(Re.FractionalSeconds,1);break;case"SS":e=rt(Re.FractionalSeconds,2);break;case"SSS":e=rt(Re.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=If(Wr.Short);break;case"ZZZZZ":e=If(Wr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=If(Wr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=If(Wr.Long);break;default:return null}return Ev[n]=e,e}function I0(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function UL(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function BL(n,e,t){let r=t?-1:1,i=n.getTimezoneOffset(),s=I0(e,i);return UL(n,r*(s-i))}function $L(n){if(l0(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,s=1,o=1]=n.split("-").map(a=>+a);return Tf(i,s-1,o)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(xL))return HL(r)}let e=new Date(n);if(!l0(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function HL(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,u=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return s.call(e,o,a,u,l),e}function l0(n){return n instanceof Date&&!isNaN(n.valueOf())}function Af(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var bv=/\s+/,d0=[],O8=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=d0,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(bv):d0}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(bv):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(bv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(te(Bn),te(ur))}}static{this.\u0275dir=Fe({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var Dv=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},k8=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Dv(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),h0(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);h0(s,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(te(Pa),te(sf),te(vv))}}static{this.\u0275dir=Fe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function h0(n,e){n.context.$implicit=e.item}var F8=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Tv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){f0("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){f0("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(te(Pa),te(sf))}}static{this.\u0275dir=Fe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),Tv=class{constructor(){this.$implicit=null,this.ngIf=null}};function f0(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${jt(e)}'.`)}var L8=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,s]=t.split("."),o=i.indexOf("-")===-1?void 0:cr.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||n)(te(Bn),te(wv),te(ur))}}static{this.\u0275dir=Fe({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})();function zL(n,e){return new Y(2100,!1)}var qL="mediumDate",GL=new z(""),WL=new z(""),V8=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,s){if(t==null||t===""||t!==t)return null;try{let o=r??this.defaultOptions?.dateFormat??qL,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return PL(t,o,s||this.locale,a)}catch(o){throw zL(n,o.message)}}static{this.\u0275fac=function(r){return new(r||n)(te(gf,16),te(GL,24),te(WL,24))}}static{this.\u0275pipe=Vh({name:"date",type:n,pure:!0,standalone:!0})}}return n})();var E0=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=wn({type:n})}static{this.\u0275inj=vn({})}}return n})(),xv="browser",KL="server";function QL(n){return n===xv}function Sf(n){return n===KL}var b0=(()=>{class n{static{this.\u0275prov=q({token:n,providedIn:"root",factory:()=>QL(V(bn))?new Cv(V(xt),window):new Av})}}return n})(),Cv=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=YL(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function YL(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Av=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Fa=class{};var fu=class{},Mf=class{},Kr=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Pv=class{encodeKey(e){return D0(e)}encodeValue(e){return D0(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function JL(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=t.get(o)||[];u.push(a),t.set(o,u)}),t}var XL=/%(\d[a-f0-9])/gi,eV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function D0(n){return encodeURIComponent(n).replace(XL,(e,t)=>eV[t]??e)}function Rf(n){return`${n}`}var qi=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Pv,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=JL(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Rf):[Rf(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Rf(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Rf(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Ov=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function tV(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function T0(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function C0(n){return typeof Blob<"u"&&n instanceof Blob}function A0(n){return typeof FormData<"u"&&n instanceof FormData}function nV(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var hu=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(tV(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Kr,this.context??=new Ov,!this.params)this.params=new qi,this.urlWithParams=t;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||T0(this.body)||C0(this.body)||A0(this.body)||nV(this.body)?this.body:this.body instanceof qi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||A0(this.body)?null:C0(this.body)?this.body.type||null:T0(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof qi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,p=e.params||this.params,y=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((w,_)=>w.set(_,e.setHeaders[_]),l)),e.setParams&&(p=Object.keys(e.setParams).reduce((w,_)=>w.set(_,e.setParams[_]),p)),new n(t,r,o,{params:p,headers:l,context:y,reportProgress:u,responseType:i,withCredentials:a,transferCache:s})}},Gi=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Gi||{}),pu=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new Kr,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},xf=class n extends pu{constructor(e={}){super(e),this.type=Gi.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},gu=class n extends pu{constructor(e={}){super(e),this.type=Gi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},zi=class extends pu{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},x0=200,rV=204;function Nv(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var iV=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof hu)s=t;else{let u;i.headers instanceof Kr?u=i.headers:u=new Kr(i.headers);let l;i.params&&(i.params instanceof qi?l=i.params:l=new qi({fromObject:i.params})),s=new hu(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=ne(s).pipe(Lr(u=>this.handler.handle(u)));if(t instanceof hu||i.observe==="events")return o;let a=o.pipe(Lt(u=>u instanceof gu));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ie(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(ie(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(ie(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(ie(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new qi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Nv(i,r))}post(t,r,i={}){return this.request("POST",t,Nv(i,r))}put(t,r,i={}){return this.request("PUT",t,Nv(i,r))}static{this.\u0275fac=function(r){return new(r||n)(Z(fu))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),sV=/^\)\]\}',?\n/,oV="X-Request-URL";function S0(n){if(n.url)return n.url;let e=oV.toLocaleLowerCase();return n.headers.get(e)}var aV=(()=>{class n{constructor(){this.fetchImpl=V(kv,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=V(we)}handle(t){return new he(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(Fv,s=>r.error(new zi({error:s}))),()=>i.abort()})}doRequest(t,r,i){return T(this,null,function*(){let s=this.createRequestInit(t),o;try{let _=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,$({signal:r},s)));cV(_),i.next({type:Gi.Sent}),o=yield _}catch(_){i.error(new zi({error:_,status:_.status??0,statusText:_.statusText,url:t.urlWithParams,headers:_.headers}));return}let a=new Kr(o.headers),u=o.statusText,l=S0(o)??t.urlWithParams,p=o.status,y=null;if(t.reportProgress&&i.next(new xf({headers:a,status:p,statusText:u,url:l})),o.body){let _=o.headers.get("content-length"),M=[],O=o.body.getReader(),N=0,L,W,B=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>T(this,null,function*(){for(;;){let{done:le,value:J}=yield O.read();if(le)break;if(M.push(J),N+=J.length,t.reportProgress){W=t.responseType==="text"?(W??"")+(L??=new TextDecoder).decode(J,{stream:!0}):void 0;let C=()=>i.next({type:Gi.DownloadProgress,total:_?+_:void 0,loaded:N,partialText:W});B?B.run(C):C()}}}));let H=this.concatChunks(M,N);try{let le=o.headers.get("Content-Type")??"";y=this.parseBody(t,H,le)}catch(le){i.error(new zi({error:le,headers:new Kr(o.headers),status:o.status,statusText:o.statusText,url:S0(o)??t.urlWithParams}));return}}p===0&&(p=y?x0:0),p>=200&&p<300?(i.next(new gu({body:y,headers:a,status:p,statusText:u,url:l})),i.complete()):i.error(new zi({error:y,headers:a,status:p,statusText:u,url:l}))})}parseBody(t,r,i){switch(t.responseType){case"json":let s=new TextDecoder().decode(r).replace(sV,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((s,o)=>r[s]=o.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let s=t.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),s=0;for(let o of t)i.set(o,s),s+=o.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),kv=class{};function Fv(){}function cV(n){n.then(Fv,Fv)}function uV(n,e){return e(n)}function lV(n,e,t){return(r,i)=>In(t,()=>e(r,s=>n(s,i)))}var N0=new z(""),dV=new z(""),hV=new z("",{providedIn:"root",factory:()=>!0});var R0=(()=>{class n extends fu{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=V($i),this.contributeToStability=V(hV)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(N0),...this.injector.get(dV,[])]));this.chain=r.reduceRight((i,s)=>lV(i,s,this.injector),uV)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Os(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(Z(Mf),Z(Ut))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})();var fV=/^\)\]\}',?\n/;function pV(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var M0=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new Y(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ve(r.\u0275loadImpl()):ne(null)).pipe(Kt(()=>new he(s=>{let o=r.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((O,N)=>o.setRequestHeader(O,N.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let O=t.detectContentTypeHeader();O!==null&&o.setRequestHeader("Content-Type",O)}if(t.responseType){let O=t.responseType.toLowerCase();o.responseType=O!=="json"?O:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let O=o.statusText||"OK",N=new Kr(o.getAllResponseHeaders()),L=pV(o)||t.url;return u=new xf({headers:N,status:o.status,statusText:O,url:L}),u},p=()=>{let{headers:O,status:N,statusText:L,url:W}=l(),B=null;N!==rV&&(B=typeof o.response>"u"?o.responseText:o.response),N===0&&(N=B?x0:0);let H=N>=200&&N<300;if(t.responseType==="json"&&typeof B=="string"){let le=B;B=B.replace(fV,"");try{B=B!==""?JSON.parse(B):null}catch(J){B=le,H&&(H=!1,B={error:J,text:B})}}H?(s.next(new gu({body:B,headers:O,status:N,statusText:L,url:W||void 0})),s.complete()):s.error(new zi({error:B,headers:O,status:N,statusText:L,url:W||void 0}))},y=O=>{let{url:N}=l(),L=new zi({error:O,status:o.status||0,statusText:o.statusText||"Unknown Error",url:N||void 0});s.error(L)},w=!1,_=O=>{w||(s.next(l()),w=!0);let N={type:Gi.DownloadProgress,loaded:O.loaded};O.lengthComputable&&(N.total=O.total),t.responseType==="text"&&o.responseText&&(N.partialText=o.responseText),s.next(N)},M=O=>{let N={type:Gi.UploadProgress,loaded:O.loaded};O.lengthComputable&&(N.total=O.total),s.next(N)};return o.addEventListener("load",p),o.addEventListener("error",y),o.addEventListener("timeout",y),o.addEventListener("abort",y),t.reportProgress&&(o.addEventListener("progress",_),a!==null&&o.upload&&o.upload.addEventListener("progress",M)),o.send(a),s.next({type:Gi.Sent}),()=>{o.removeEventListener("error",y),o.removeEventListener("abort",y),o.removeEventListener("load",p),o.removeEventListener("timeout",y),t.reportProgress&&(o.removeEventListener("progress",_),a!==null&&o.upload&&o.upload.removeEventListener("progress",M)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(Z(Fa))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),P0=new z(""),gV="XSRF-TOKEN",mV=new z("",{providedIn:"root",factory:()=>gV}),yV="X-XSRF-TOKEN",vV=new z("",{providedIn:"root",factory:()=>yV}),Nf=class{},wV=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Af(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(Z(xt),Z(bn),Z(mV))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})();function _V(n,e){let t=n.url.toLowerCase();if(!V(P0)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=V(Nf).getToken(),i=V(vV);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function J8(...n){let e=[iV,M0,R0,{provide:fu,useExisting:R0},{provide:Mf,useFactory:()=>V(aV,{optional:!0})??V(M0)},{provide:N0,useValue:_V,multi:!0},{provide:P0,useValue:!0},{provide:Nf,useClass:wV}];for(let t of n)e.push(...t.\u0275providers);return _n(e)}var jv=class extends Df{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Uv=class n extends jv{static makeCurrent(){g0(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=IV();return t==null?null:EV(t)}resetBaseElement(){mu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Af(document.cookie,e)}},mu=null;function IV(){return mu=mu||document.querySelector("base"),mu?mu.getAttribute("href"):null}function EV(n){return new URL(n,document.baseURI).pathname}var Bv=class{addToWindow(e){pn.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new Y(5103,!1);return s},pn.getAllAngularTestabilities=()=>e.getAllTestabilities(),pn.getAllAngularRootElements=()=>e.getAllRootElements();let t=r=>{let i=pn.getAllAngularTestabilities(),s=i.length,o=function(){s--,s==0&&r()};i.forEach(a=>{a.whenStable(o)})};pn.frameworkStabilizers||(pn.frameworkStabilizers=[]),pn.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,r){if(t==null)return null;let i=e.getTestability(t);return i??(r?hr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},bV=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),$v=new z(""),L0=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new Y(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(Z($v),Z(we))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),Pf=class{constructor(e){this._doc=e}},Lv="ng-app-id",V0=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Sf(s),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Lv}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(Lv),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Lv,this.appId),t.appendChild(o),o}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(Z(xt),Z(Jh),Z(Yy,8),Z(bn))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),Vv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},zv=/%COMP%/g,j0="%COMP%",DV=`_nghost-${j0}`,TV=`_ngcontent-${j0}`,CV=!0,AV=new z("",{providedIn:"root",factory:()=>CV});function SV(n){return TV.replace(zv,n)}function RV(n){return DV.replace(zv,n)}function U0(n,e){return e.map(t=>t.replace(zv,n))}var O0=(()=>{class n{constructor(t,r,i,s,o,a,u,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Sf(a),this.defaultRenderer=new yu(t,o,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ir.ShadowDom&&(r=me($({},r),{encapsulation:ir.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Of?i.applyToHost(t):i instanceof vu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(r.encapsulation){case ir.Emulated:s=new Of(u,l,r,this.appId,p,o,a,y);break;case ir.ShadowDom:return new Hv(u,l,t,r,o,a,this.nonce,y);default:s=new vu(u,l,r,p,o,a,y);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(Z(L0),Z(V0),Z(Jh),Z(AV),Z(xt),Z(bn),Z(we),Z(Yy))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),yu=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Vv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(k0(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(k0(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Y(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=Vv[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Vv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(cr.DashCase|cr.Important)?e.style.setProperty(t,r,i&cr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&cr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=hr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function k0(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Hv=class extends yu{constructor(e,t,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=U0(i.id,i.styles);for(let p of l){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=p,this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},vu=class extends yu{constructor(e,t,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?U0(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Of=class extends vu{constructor(e,t,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,t,r,s,o,a,u,l),this.contentAttr=SV(l),this.hostAttr=RV(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},MV=(()=>{class n extends Pf{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(Z(xt))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),F0=["alt","control","meta","shift"],xV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},NV={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},PV=(()=>{class n extends Pf{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hr().onAndCancel(t,s.domEventName,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),F0.forEach(l=>{let p=r.indexOf(l);p>-1&&(r.splice(p,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=xV[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),F0.forEach(o=>{if(o!==i){let a=NV[o];a(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(Z(xt))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})();function _K(n,e){return o0($({rootComponent:n},OV(e)))}function OV(n){return{appProviders:[...B0,...n?.providers??[]],platformProviders:VV}}function kV(){Uv.makeCurrent()}function FV(){return new jr}function LV(){return tC(document),document}var VV=[{provide:bn,useValue:xv},{provide:Qy,useValue:kV,multi:!0},{provide:xt,useFactory:LV,deps:[]}];var jV=new z(""),UV=[{provide:uu,useClass:Bv,deps:[]},{provide:mv,useClass:df,deps:[we,hf,uu]},{provide:df,useClass:df,deps:[we,hf,uu]}],B0=[{provide:jh,useValue:"root"},{provide:jr,useFactory:FV,deps:[]},{provide:$v,useClass:MV,multi:!0,deps:[xt,we,bn]},{provide:$v,useClass:PV,multi:!0,deps:[xt]},O0,V0,L0,{provide:Ra,useExisting:O0},{provide:Fa,useClass:bV,deps:[]},[]],IK=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Jh,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(Z(jV,12))}}static{this.\u0275mod=wn({type:n})}static{this.\u0275inj=vn({providers:[...B0,...UV],imports:[E0,s0]})}}return n})();var $0=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(Z(xt))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var de="primary",Ou=Symbol("RouteTitle"),Qv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ha(n){return new Qv(n)}function $V(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function HV(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!fr(n[t],e[t]))return!1;return!0}function fr(n,e){let t=n?Yv(n):void 0,r=e?Yv(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!X0(n[i],e[i]))return!1;return!0}function Yv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function X0(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function eA(n){return n.length>0?n[n.length-1]:null}function Qi(n){return bm(n)?n:Ws(n)?Ve(Promise.resolve(n)):ne(n)}var zV={exact:nA,subset:rA},tA={exact:qV,subset:GV,ignored:()=>!0};function H0(n,e,t){return zV[t.paths](n.root,e.root,t.matrixParams)&&tA[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function qV(n,e){return fr(n,e)}function nA(n,e,t){if(!Zs(n.segments,e.segments)||!Lf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!nA(n.children[r],e.children[r],t))return!1;return!0}function GV(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>X0(n[t],e[t]))}function rA(n,e,t){return iA(n,e,e.segments,t)}function iA(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Zs(i,t)||e.hasChildren()||!Lf(i,t,r))}else if(n.segments.length===t.length){if(!Zs(n.segments,t)||!Lf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!rA(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Zs(n.segments,i)||!Lf(n.segments,i,r)||!n.children[de]?!1:iA(n.children[de],e,s,r)}}function Lf(n,e,t){return e.every((r,i)=>tA[t](n[i].parameters,r.parameters))}var Yr=class{constructor(e=new Ne([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ha(this.queryParams),this._queryParamMap}toString(){return QV.serialize(this)}},Ne=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vf(this)}},Ys=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ha(this.parameters),this._parameterMap}toString(){return oA(this)}};function WV(n,e){return Zs(n,e)&&n.every((t,r)=>fr(t.parameters,e[r].parameters))}function Zs(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function KV(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===de&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==de&&(t=t.concat(e(i,r)))}),t}var ku=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:()=>new za,providedIn:"root"})}}return n})(),za=class{parse(e){let t=new Jv(e);return new Yr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${wu(e.root,!0)}`,r=JV(e.queryParams),i=typeof e.fragment=="string"?`#${YV(e.fragment)}`:"";return`${t}${r}${i}`}},QV=new za;function Vf(n){return n.segments.map(e=>oA(e)).join("/")}function wu(n,e){if(!n.hasChildren())return Vf(n);if(e){let t=n.children[de]?wu(n.children[de],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==de&&r.push(`${i}:${wu(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=KV(n,(r,i)=>i===de?[wu(n.children[de],!1)]:[`${i}:${wu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[de]!=null?`${Vf(n)}/${t[0]}`:`${Vf(n)}/(${t.join("//")})`}}function sA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kf(n){return sA(n).replace(/%3B/gi,";")}function YV(n){return encodeURI(n)}function Zv(n){return sA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jf(n){return decodeURIComponent(n)}function z0(n){return jf(n.replace(/\+/g,"%20"))}function oA(n){return`${Zv(n.path)}${ZV(n.parameters)}`}function ZV(n){return Object.entries(n).map(([e,t])=>`;${Zv(e)}=${Zv(t)}`).join("")}function JV(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${kf(t)}=${kf(i)}`).join("&"):`${kf(t)}=${kf(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var XV=/^[^\/()?;#]+/;function qv(n){let e=n.match(XV);return e?e[0]:""}var e2=/^[^\/()?;=#]+/;function t2(n){let e=n.match(e2);return e?e[0]:""}var n2=/^[^=?&#]+/;function r2(n){let e=n.match(n2);return e?e[0]:""}var i2=/^[^&#]+/;function s2(n){let e=n.match(i2);return e?e[0]:""}var Jv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ne([],{}):new Ne([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[de]=new Ne(e,t)),r}parseSegment(){let e=qv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Y(4009,!1);return this.capture(e),new Ys(jf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=t2(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=qv(this.remaining);i&&(r=i,this.capture(r))}e[jf(t)]=jf(r)}parseQueryParam(e){let t=r2(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=s2(this.remaining);o&&(r=o,this.capture(r))}let i=z0(t),s=z0(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=qv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Y(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=de);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[de]:new Ne([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Y(4011,!1)}};function aA(n){return n.segments.length>0?new Ne([],{[de]:n}):n}function cA(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=cA(i);if(r===de&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new Ne(n.segments,e);return o2(t)}function o2(n){if(n.numberOfChildren===1&&n.children[de]){let e=n.children[de];return new Ne(n.segments.concat(e.segments),e.children)}return n}function Tu(n){return n instanceof Yr}function a2(n,e,t=null,r=null){let i=uA(n);return lA(i,e,t,r)}function uA(n){let e;function t(s){let o={};for(let u of s.children){let l=t(u);o[u.outlet]=l}let a=new Ne(s.url,o);return s===n&&(e=a),a}let r=t(n.root),i=aA(r);return e??i}function lA(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Gv(i,i,i,t,r);let s=c2(e);if(s.toRoot())return Gv(i,i,new Ne([],{}),t,r);let o=u2(s,i,n),a=o.processChildren?Eu(o.segmentGroup,o.index,s.commands):hA(o.segmentGroup,o.index,s.commands);return Gv(i,o.segmentGroup,a,t,r)}function Uf(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Cu(n){return typeof n=="object"&&n!=null&&n.outlets}function Gv(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(p=>`${p}`):`${l}`});let o;n===e?o=t:o=dA(n,e,t);let a=aA(cA(o));return new Yr(a,s,i)}function dA(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=dA(s,e,t)}),new Ne(n.segments,r)}var Bf=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Uf(r[0]))throw new Y(4003,!1);let i=r.find(Cu);if(i&&i!==eA(r))throw new Y(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function c2(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Bf(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Bf(t,e,r)}var Ua=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function u2(n,e,t){if(n.isAbsolute)return new Ua(e,!0,0);if(!t)return new Ua(e,!1,NaN);if(t.parent===null)return new Ua(t,!0,0);let r=Uf(n.commands[0])?0:1,i=t.segments.length-1+r;return l2(t,i,n.numberOfDoubleDots)}function l2(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Y(4005,!1);i=r.segments.length}return new Ua(r,!1,i-s)}function d2(n){return Cu(n[0])?n[0].outlets:{[de]:n}}function hA(n,e,t){if(n??=new Ne([],{}),n.segments.length===0&&n.hasChildren())return Eu(n,e,t);let r=h2(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new Ne(n.segments.slice(0,r.pathIndex),{});return s.children[de]=new Ne(n.segments.slice(r.pathIndex),n.children),Eu(s,0,i)}else return r.match&&i.length===0?new Ne(n.segments,{}):r.match&&!n.hasChildren()?Xv(n,e,t):r.match?Eu(n,0,i):Xv(n,e,t)}function Eu(n,e,t){if(t.length===0)return new Ne(n.segments,{});{let r=d2(t),i={};if(Object.keys(r).some(s=>s!==de)&&n.children[de]&&n.numberOfChildren===1&&n.children[de].segments.length===0){let s=Eu(n.children[de],e,t);return new Ne(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=hA(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Ne(n.segments,i)}}function h2(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],a=t[r];if(Cu(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!G0(u,l,o))return s;r+=2}else{if(!G0(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Xv(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(Cu(s)){let u=f2(s.outlets);return new Ne(r,u)}if(i===0&&Uf(t[0])){let u=n.segments[e];r.push(new Ys(u.path,q0(t[0]))),i++;continue}let o=Cu(s)?s.outlets[de]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Uf(a)?(r.push(new Ys(o,q0(a))),i+=2):(r.push(new Ys(o,{})),i++)}return new Ne(r,{})}function f2(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Xv(new Ne([],{}),0,r))}),e}function q0(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function G0(n,e,t){return n==t.path&&fr(e,t.parameters)}var bu="imperative",gt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(gt||{}),An=class{constructor(e,t){this.id=e,this.url=t}},qa=class extends An{constructor(e,t,r="imperative",i=null){super(e,t),this.type=gt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Zr=class extends An{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=gt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},an=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(an||{}),$f=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}($f||{}),Qr=class extends An{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=gt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Wi=class extends An{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=gt.NavigationSkipped}},Au=class extends An{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=gt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Hf=class extends An{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=gt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ew=class extends An{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=gt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tw=class extends An{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=gt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},nw=class extends An{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=gt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rw=class extends An{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=gt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},iw=class{constructor(e){this.route=e,this.type=gt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},sw=class{constructor(e){this.route=e,this.type=gt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ow=class{constructor(e){this.snapshot=e,this.type=gt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},aw=class{constructor(e){this.snapshot=e,this.type=gt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cw=class{constructor(e){this.snapshot=e,this.type=gt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uw=class{constructor(e){this.snapshot=e,this.type=gt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zf=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=gt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Su=class{},Ga=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function p2(n,e){return n.providers&&!n._injector&&(n._injector=af(n.providers,e,`Route: ${n.path}`)),n._injector??e}function qn(n){return n.outlet||de}function g2(n,e){let t=n.filter(r=>qn(r)===e);return t.push(...n.filter(r=>qn(r)!==e)),t}function Fu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var lw=class{get injector(){return Fu(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Lu(this.rootInjector),this.attachRef=null}},Lu=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new lw(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(Z(Ut))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),qf=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=dw(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=dw(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=hw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return hw(e,this._root).map(t=>t.value)}};function dw(n,e){if(n===e.value)return e;for(let t of e.children){let r=dw(n,t);if(r)return r}return null}function hw(n,e){if(n===e.value)return[e];for(let t of e.children){let r=hw(n,t);if(r.length)return r.unshift(e),r}return[]}var on=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ja(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Gf=class extends qf{constructor(e,t){super(e),this.snapshot=t,Iw(this,e)}toString(){return this.snapshot.toString()}};function fA(n){let e=m2(n),t=new qe([new Ys("",{})]),r=new qe({}),i=new qe({}),s=new qe({}),o=new qe(""),a=new Js(t,r,s,o,i,de,n,e.root);return a.snapshot=e.root,new Gf(new on(a,[]),e)}function m2(n){let e={},t={},r={},i="",s=new Ba([],e,r,i,t,de,n,null,{});return new Kf("",new on(s,[]))}var Js=class{constructor(e,t,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ie(l=>l[Ou]))??ne(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>Ha(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>Ha(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Wf(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:$($({},e.params),n.params),data:$($({},e.data),n.data),resolve:$($($($({},n.data),e.data),i?.data),n._resolvedData)}:r={params:$({},n.params),data:$({},n.data),resolve:$($({},n.data),n._resolvedData??{})},i&&gA(i)&&(r.resolve[Ou]=i.title),r}var Ba=class{get title(){return this.data?.[Ou]}constructor(e,t,r,i,s,o,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ha(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ha(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Kf=class extends qf{constructor(e,t){super(t),this.url=e,Iw(this,t)}toString(){return pA(this._root)}};function Iw(n,e){e.value._routerState=n,e.children.forEach(t=>Iw(n,t))}function pA(n){let e=n.children.length>0?` { ${n.children.map(pA).join(", ")} } `:"";return`${n.value}${e}`}function Wv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,fr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),fr(e.params,t.params)||n.paramsSubject.next(t.params),HV(e.url,t.url)||n.urlSubject.next(t.url),fr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function fw(n,e){let t=fr(n.params,e.params)&&WV(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||fw(n.parent,e.parent))}function gA(n){return typeof n.title=="string"||n.title===null}var y2=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=de,this.activateEvents=new Ge,this.deactivateEvents=new Ge,this.attachEvents=new Ge,this.detachEvents=new Ge,this.parentContexts=V(Lu),this.location=V(Pa),this.changeDetector=V(Ks),this.inputBinder=V(Jf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Y(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Y(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Y(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Y(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new pw(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Fe({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Hr]})}}return n})(),pw=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Js?this.route:e===Lu?this.childContexts:this.parent.get(e,t)}},Jf=new z(""),W0=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Zc([r.queryParams,r.params,r.data]).pipe(Kt(([s,o,a],u)=>(a=$($($({},s),o),a),u===0?ne(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let o=a0(r.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})();function v2(n,e,t){let r=Ru(n,e._root,t?t._root:void 0);return new Gf(r,e)}function Ru(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=w2(n,e,t);return new on(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ru(n,a)),o}}let r=_2(e.value),i=e.children.map(s=>Ru(n,s));return new on(r,i)}}function w2(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ru(n,r,i);return Ru(n,r)})}function _2(n){return new Js(new qe(n.url),new qe(n.params),new qe(n.queryParams),new qe(n.fragment),new qe(n.data),n.outlet,n.component,n)}var Mu=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},mA="ngNavigationCancelingError";function Qf(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Tu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=yA(!1,an.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function yA(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[mA]=!0,t.cancellationCode=e,t}function I2(n){return vA(n)&&Tu(n.url)}function vA(n){return!!n&&n[mA]}var E2=(n,e,t,r)=>ie(i=>(new gw(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),gw=class{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Wv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ja(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ja(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ja(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ja(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new uw(s.value.snapshot))}),e.children.length&&this.forwardEvent(new aw(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(Wv(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Wv(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Yf=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},$a=class{constructor(e,t){this.component=e,this.route=t}};function b2(n,e,t){let r=n._root,i=e?e._root:null;return _u(r,i,t,[r.value])}function D2(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ka(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!$D(n)?n:e.get(n):r}function _u(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=ja(e);return n.children.forEach(o=>{T2(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Du(a,t.getContext(o),i)),i}function T2(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=C2(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Yf(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?_u(n,e,a?a.children:null,r,i):_u(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new $a(a.outlet.component,o))}else o&&Du(e,a,i),i.canActivateChecks.push(new Yf(r)),s.component?_u(n,null,a?a.children:null,r,i):_u(n,null,t,r,i);return i}function C2(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Zs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Zs(n.url,e.url)||!fr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fw(n,e)||!fr(n.queryParams,e.queryParams);case"paramsChange":default:return!fw(n,e)}}function Du(n,e,t){let r=ja(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Du(o,e.children.getContext(s),t):Du(o,null,t):Du(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new $a(e.outlet.component,i)):t.canDeactivateChecks.push(new $a(null,i)):t.canDeactivateChecks.push(new $a(null,i))}function Vu(n){return typeof n=="function"}function A2(n){return typeof n=="boolean"}function S2(n){return n&&Vu(n.canLoad)}function R2(n){return n&&Vu(n.canActivate)}function M2(n){return n&&Vu(n.canActivateChild)}function x2(n){return n&&Vu(n.canDeactivate)}function N2(n){return n&&Vu(n.canMatch)}function wA(n){return n instanceof Fr||n?.name==="EmptyError"}var Ff=Symbol("INITIAL_VALUE");function Wa(){return Kt(n=>Zc(n.map(e=>e.pipe(Vr(1),Xd(Ff)))).pipe(ie(e=>{for(let t of e)if(t!==!0){if(t===Ff)return Ff;if(t===!1||P2(t))return t}return!0}),Lt(e=>e!==Ff),Vr(1)))}function P2(n){return Tu(n)||n instanceof Mu}function O2(n,e){return tt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?ne(me($({},t),{guardsResult:!0})):k2(o,r,i,n).pipe(tt(a=>a&&A2(a)?F2(r,s,n,e):ne(a)),ie(a=>me($({},t),{guardsResult:a})))})}function k2(n,e,t,r){return Ve(n).pipe(tt(i=>B2(i.component,i.route,t,e,r)),tr(i=>i!==!0,!0))}function F2(n,e,t,r){return Ve(e).pipe(Lr(i=>la(V2(i.route.parent,r),L2(i.route,r),U2(n,i.path,t),j2(n,i.route,t))),tr(i=>i!==!0,!0))}function L2(n,e){return n!==null&&e&&e(new cw(n)),ne(!0)}function V2(n,e){return n!==null&&e&&e(new ow(n)),ne(!0)}function j2(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ne(!0);let i=r.map(s=>Yd(()=>{let o=Fu(e)??t,a=Ka(s,o),u=R2(a)?a.canActivate(e,n):In(o,()=>a(e,n));return Qi(u).pipe(tr())}));return ne(i).pipe(Wa())}function U2(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>D2(o)).filter(o=>o!==null).map(o=>Yd(()=>{let a=o.guards.map(u=>{let l=Fu(o.node)??t,p=Ka(u,l),y=M2(p)?p.canActivateChild(r,n):In(l,()=>p(r,n));return Qi(y).pipe(tr())});return ne(a).pipe(Wa())}));return ne(s).pipe(Wa())}function B2(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return ne(!0);let o=s.map(a=>{let u=Fu(e)??i,l=Ka(a,u),p=x2(l)?l.canDeactivate(n,e,t,r):In(u,()=>l(n,e,t,r));return Qi(p).pipe(tr())});return ne(o).pipe(Wa())}function $2(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ne(!0);let s=i.map(o=>{let a=Ka(o,n),u=S2(a)?a.canLoad(e,t):In(n,()=>a(e,t));return Qi(u)});return ne(s).pipe(Wa(),_A(r))}function _A(n){return xd(nt(e=>{if(typeof e!="boolean")throw Qf(n,e)}),ie(e=>e===!0))}function H2(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ne(!0);let s=i.map(o=>{let a=Ka(o,n),u=N2(a)?a.canMatch(e,t):In(n,()=>a(e,t));return Qi(u)});return ne(s).pipe(Wa(),_A(r))}var xu=class{constructor(e){this.segmentGroup=e||null}},Nu=class extends Error{constructor(e){super(),this.urlTree=e}};function Va(n){return ca(new xu(n))}function z2(n){return ca(new Y(4e3,!1))}function q2(n){return ca(yA(!1,an.GuardRejected))}var mw=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ne(r);if(i.numberOfChildren>1||!i.children[de])return z2(`${e.redirectTo}`);i=i.children[de]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let a=t,{queryParams:u,fragment:l,routeConfig:p,url:y,outlet:w,params:_,data:M,title:O}=i,N=In(s,()=>a({params:_,data:M,queryParams:u,fragment:l,routeConfig:p,url:y,outlet:w,title:O}));if(N instanceof Yr)throw new Nu(N);t=N}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Nu(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new Yr(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Ne(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new Y(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},yw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function G2(n,e,t,r,i){let s=IA(n,e,t);return s.matched?(r=p2(e,r),H2(r,e,t,i).pipe(ie(o=>o===!0?s:$({},yw)))):ne(s)}function IA(n,e,t){if(e.path==="**")return W2(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?$({},yw):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||$V)(t,n,e);if(!i)return $({},yw);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?$($({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function W2(n){return{matched:!0,parameters:n.length>0?eA(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function K0(n,e,t,r){return t.length>0&&Y2(n,t,r)?{segmentGroup:new Ne(e,Q2(r,new Ne(t,n.children))),slicedSegments:[]}:t.length===0&&Z2(n,t,r)?{segmentGroup:new Ne(n.segments,K2(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ne(n.segments,n.children),slicedSegments:t}}function K2(n,e,t,r){let i={};for(let s of t)if(Xf(n,e,s)&&!r[qn(s)]){let o=new Ne([],{});i[qn(s)]=o}return $($({},r),i)}function Q2(n,e){let t={};t[de]=e;for(let r of n)if(r.path===""&&qn(r)!==de){let i=new Ne([],{});t[qn(r)]=i}return t}function Y2(n,e,t){return t.some(r=>Xf(n,e,r)&&qn(r)!==de)}function Z2(n,e,t){return t.some(r=>Xf(n,e,r))}function Xf(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function J2(n,e,t){return e.length===0&&!n.children[t]}var vw=class{};function X2(n,e,t,r,i,s,o="emptyOnly"){return new ww(n,e,t,r,i,o,s).recognize()}var ej=31,ww=class{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new mw(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Y(4002,`'${e.segmentGroup}'`)}recognize(){let e=K0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(({children:t,rootSnapshot:r})=>{let i=new on(r,t),s=new Kf("",i),o=a2(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new Ba([],Object.freeze({}),Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),de,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,de,t).pipe(ie(r=>({children:r,rootSnapshot:t})),Mi(r=>{if(r instanceof Nu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof xu?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(ie(o=>o instanceof on?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ve(s).pipe(Lr(o=>{let a=r.children[o],u=g2(t,o);return this.processSegmentGroup(e,u,a,o,i)}),Jd((o,a)=>(o.push(...a),o)),xi(null),Cm(),tt(o=>{if(o===null)return Va(r);let a=EA(o);return tj(a),ne(a)}))}processSegment(e,t,r,i,s,o,a){return Ve(t).pipe(Lr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,s,o,a).pipe(Mi(l=>{if(l instanceof xu)return ne(null);throw l}))),tr(u=>!!u),Mi(u=>{if(wA(u))return J2(r,i,s)?ne(new vw):Va(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,s,o,a,u){return qn(r)!==o&&(o===de||!Xf(i,s,r))?Va(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,u):Va(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,a){let{matched:u,parameters:l,consumedSegments:p,positionalParamSegments:y,remainingSegments:w}=IA(t,i,s);if(!u)return Va(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ej&&(this.allowRedirects=!1));let _=new Ba(s,l,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,Q0(i),qn(i),i.component??i._loadedComponent??null,i,Y0(i)),M=Wf(_,a,this.paramsInheritanceStrategy);_.params=Object.freeze(M.params),_.data=Object.freeze(M.data);let O=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,y,_,e);return this.applyRedirects.lineralizeSegments(i,O).pipe(tt(N=>this.processSegment(e,r,t,N.concat(w),o,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a=G2(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Kt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Kt(({routes:l})=>{let p=r._loadedInjector??e,{parameters:y,consumedSegments:w,remainingSegments:_}=u,M=new Ba(w,y,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,Q0(r),qn(r),r.component??r._loadedComponent??null,r,Y0(r)),O=Wf(M,o,this.paramsInheritanceStrategy);M.params=Object.freeze(O.params),M.data=Object.freeze(O.data);let{segmentGroup:N,slicedSegments:L}=K0(t,w,_,l);if(L.length===0&&N.hasChildren())return this.processChildren(p,l,N,M).pipe(ie(B=>new on(M,B)));if(l.length===0&&L.length===0)return ne(new on(M,[]));let W=qn(r)===s;return this.processSegment(p,l,N,L,W?de:s,!0,M).pipe(ie(B=>new on(M,B instanceof on?[B]:[])))}))):Va(t)))}getChildConfig(e,t,r){return t.children?ne({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ne({routes:t._loadedRoutes,injector:t._loadedInjector}):$2(e,t,r,this.urlSerializer).pipe(tt(i=>i?this.configLoader.loadChildren(e,t).pipe(nt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):q2(t))):ne({routes:[],injector:e})}};function tj(n){n.sort((e,t)=>e.value.outlet===de?-1:t.value.outlet===de?1:e.value.outlet.localeCompare(t.value.outlet))}function nj(n){let e=n.value.routeConfig;return e&&e.path===""}function EA(n){let e=[],t=new Set;for(let r of n){if(!nj(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=EA(r.children);e.push(new on(r.value,i))}return e.filter(r=>!t.has(r))}function Q0(n){return n.data||{}}function Y0(n){return n.resolve||{}}function rj(n,e,t,r,i,s){return tt(o=>X2(n,e,t,r,o.extractedUrl,i,s).pipe(ie(({state:a,tree:u})=>me($({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function ij(n,e){return tt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ne(t);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of bA(u))o.add(l);let a=0;return Ve(o).pipe(Lr(u=>s.has(u)?sj(u,r,n,e):(u.data=Wf(u,u.parent,n).resolve,ne(void 0))),nt(()=>a++),da(1),tt(u=>a===o.size?ne(t):nn))})}function bA(n){let e=n.children.map(t=>bA(t)).flat();return[n,...e]}function sj(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!gA(i)&&(s[Ou]=i.title),oj(s,n,e,r).pipe(ie(o=>(n._resolvedData=o,n.data=Wf(n,n.parent,t).resolve,null)))}function oj(n,e,t,r){let i=Yv(n);if(i.length===0)return ne({});let s={};return Ve(i).pipe(tt(o=>aj(n[o],e,t,r).pipe(tr(),nt(a=>{if(a instanceof Mu)throw Qf(new za,a);s[o]=a}))),da(1),Tm(s),Mi(o=>wA(o)?nn:ca(o)))}function aj(n,e,t,r){let i=Fu(e)??r,s=Ka(n,i),o=s.resolve?s.resolve(e,t):In(i,()=>s(e,t));return Qi(o)}function Kv(n){return Kt(e=>{let t=n(e);return t?Ve(t).pipe(ie(()=>e)):ne(e)})}var DA=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===de);return r}getResolvedTitleForRoute(t){return t.data[Ou]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:()=>V(cj),providedIn:"root"})}}return n})(),cj=(()=>{class n extends DA{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(Z($0))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ju=new z("",{providedIn:"root",factory:()=>({})}),uj=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=eT({type:n,selectors:[["ng-component"]],standalone:!0,features:[YC],decls:1,vars:0,template:function(r,i){r&1&&gv(0,"router-outlet")},dependencies:[y2],encapsulation:2})}}return n})();function Ew(n){let e=n.children&&n.children.map(Ew),t=e?me($({},n),{children:e}):$({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==de&&(t.component=uj),t}var Pu=new z(""),bw=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=V(pf)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ne(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Qi(t.loadComponent()).pipe(ie(TA),nt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Os(()=>{this.componentLoaders.delete(t)})),i=new ia(r,()=>new Et).pipe(ra());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ne({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=lj(r,this.compiler,t,this.onLoadEndListener).pipe(Os(()=>{this.childrenLoaders.delete(r)})),o=new ia(s,()=>new Et).pipe(ra());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function lj(n,e,t,r){return Qi(n.loadChildren()).pipe(ie(TA),tt(i=>i instanceof iu||Array.isArray(i)?ne(i):Ve(e.compileModuleAsync(i))),ie(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(t).injector,o=s.get(Pu,[],{optional:!0,self:!0}).flat()),{routes:o.map(Ew),injector:s}}))}function dj(n){return n&&typeof n=="object"&&"default"in n}function TA(n){return dj(n)?n.default:n}var Dw=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:()=>V(hj),providedIn:"root"})}}return n})(),hj=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),CA=new z(""),AA=new z("");function fj(n,e,t){let r=n.get(AA),i=n.get(xt);return n.get(we).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),pj(n))),{onViewTransitionCreated:u}=r;return u&&In(n,()=>u({transition:a,from:e,to:t})),o})}function pj(n){return new Promise(e=>{pv({read:()=>setTimeout(e)},{injector:n})})}var gj=new z(""),Tw=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Et,this.transitionAbortSubject=new Et,this.configLoader=V(bw),this.environmentInjector=V(Ut),this.urlSerializer=V(ku),this.rootContexts=V(Lu),this.location=V(La),this.inputBindingEnabled=V(Jf,{optional:!0})!==null,this.titleStrategy=V(DA),this.options=V(ju,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=V(Dw),this.createViewTransition=V(CA,{optional:!0}),this.navigationErrorHandler=V(gj,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ne(void 0),this.rootComponentType=null;let t=i=>this.events.next(new iw(i)),r=i=>this.events.next(new sw(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(me($($({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new qe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:bu,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Lt(s=>s.id!==0),ie(s=>me($({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Kt(s=>{let o=!1,a=!1;return ne(s).pipe(Kt(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",an.SupersededByNewNavigation),nn;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?me($({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&p!=="reload"){let y="";return this.events.next(new Wi(u.id,this.urlSerializer.serialize(u.rawUrl),y,$f.IgnoredSameUrlNavigation)),u.resolve(!1),nn}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ne(u).pipe(Kt(y=>{let w=this.transitions?.getValue();return this.events.next(new qa(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),w!==this.transitions?.getValue()?nn:Promise.resolve(y)}),rj(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),nt(y=>{s.targetSnapshot=y.targetSnapshot,s.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=me($({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let w=new Hf(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(w)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:y,extractedUrl:w,source:_,restoredState:M,extras:O}=u,N=new qa(y,this.urlSerializer.serialize(w),_,M);this.events.next(N);let L=fA(this.rootComponentType).snapshot;return this.currentTransition=s=me($({},u),{targetSnapshot:L,urlAfterRedirects:w,extras:me($({},O),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=w,ne(s)}else{let y="";return this.events.next(new Wi(u.id,this.urlSerializer.serialize(u.extractedUrl),y,$f.IgnoredByUrlHandlingStrategy)),u.resolve(!1),nn}}),nt(u=>{let l=new ew(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),ie(u=>(this.currentTransition=s=me($({},u),{guards:b2(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),O2(this.environmentInjector,u=>this.events.next(u)),nt(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Qf(this.urlSerializer,u.guardsResult);let l=new tw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Lt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",an.GuardRejected),!1)),Kv(u=>{if(u.guards.canActivateChecks.length)return ne(u).pipe(nt(l=>{let p=new nw(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(p)}),Kt(l=>{let p=!1;return ne(l).pipe(ij(this.paramsInheritanceStrategy,this.environmentInjector),nt({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(l,"",an.NoDataFromResolver)}}))}),nt(l=>{let p=new rw(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(p)}))}),Kv(u=>{let l=p=>{let y=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(p.routeConfig).pipe(nt(w=>{p.component=w}),ie(()=>{})));for(let w of p.children)y.push(...l(w));return y};return Zc(l(u.targetSnapshot.root)).pipe(xi(null),Vr(1))}),Kv(()=>this.afterPreactivation()),Kt(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,p=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return p?Ve(p).pipe(ie(()=>s)):ne(s)}),ie(u=>{let l=v2(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=me($({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),nt(()=>{this.events.next(new Su)}),E2(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Vr(1),nt({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Zr(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),Am(this.transitionAbortSubject.pipe(nt(u=>{throw u}))),Os(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",an.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Mi(u=>{if(a=!0,vA(u))this.events.next(new Qr(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),I2(u)?this.events.next(new Ga(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let l=new Au(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let p=In(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(p instanceof Mu){let{message:y,cancellationCode:w}=Qf(this.urlSerializer,p);this.events.next(new Qr(s.id,this.urlSerializer.serialize(s.extractedUrl),y,w)),this.events.next(new Ga(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(l);let y=t.errorHandler(u);s.resolve(!!y)}}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return nn}))}))}cancelNavigationTransition(t,r,i){let s=new Qr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function mj(n){return n!==bu}var yj=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:()=>V(vj),providedIn:"root"})}}return n})(),_w=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},vj=(()=>{class n extends _w{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Un(n)))(i||n)}})()}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),SA=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:()=>V(wj),providedIn:"root"})}}return n})(),wj=(()=>{class n extends SA{constructor(){super(...arguments),this.location=V(La),this.urlSerializer=V(ku),this.options=V(ju,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=V(Dw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Yr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=fA(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof qa)this.stateMemento=this.createStateMemento();else if(t instanceof Wi)this.rawUrlTree=r.initialUrl;else if(t instanceof Hf){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Su?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Qr&&(t.code===an.GuardRejected||t.code===an.NoDataFromResolver)?this.restoreHistory(r):t instanceof Au?this.restoreHistory(r,!0):t instanceof Zr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Yr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=$($({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=$($({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Un(n)))(i||n)}})()}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Iu=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Iu||{});function RA(n,e){n.events.pipe(Lt(t=>t instanceof Zr||t instanceof Qr||t instanceof Au||t instanceof Wi),ie(t=>t instanceof Zr||t instanceof Wi?Iu.COMPLETE:(t instanceof Qr?t.code===an.Redirect||t.code===an.SupersededByNewNavigation:!1)?Iu.REDIRECTING:Iu.FAILED),Lt(t=>t!==Iu.REDIRECTING),Vr(1)).subscribe(()=>{e()})}function _j(n){throw n}var Ij={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ej={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ki=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=V(lf),this.stateManager=V(SA),this.options=V(ju,{optional:!0})||{},this.pendingTasks=V($i),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=V(Tw),this.urlSerializer=V(ku),this.location=V(La),this.urlHandlingStrategy=V(Dw),this._events=new Et,this.errorHandler=this.options.errorHandler||_j,this.navigated=!1,this.routeReuseStrategy=V(yj),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=V(Pu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!V(Jf,{optional:!0}),this.eventsSubscription=new ze,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Qr&&r.code!==an.Redirect&&r.code!==an.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Zr)this.navigated=!0;else if(r instanceof Ga){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=$({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||mj(i.source)},o);this.scheduleNavigation(a,bu,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Dj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),bu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=$({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Ew),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o,p=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":p=$($({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let y;try{let w=i?i.snapshot:this.routerState.snapshot.root;y=uA(w)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),y=this.currentUrlTree.root}return lA(y,t,p,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Tu(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,bu,null,r)}navigate(t,r={skipLocationChange:!1}){return bj(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=$({},Ij):r===!1?i=$({},Ej):i=r,Tu(t))return H0(this.currentUrlTree,t,i);let s=this.parseUrl(t);return H0(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((y,w)=>{a=y,u=w});let p=this.pendingTasks.add();return RA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(y=>Promise.reject(y))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function bj(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Y(4008,!1)}function Dj(n){return!(n instanceof Su)&&!(n instanceof Ga)}var Zf=class{};var Tj=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Lt(t=>t instanceof Zr),Lr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=af(s.providers,t,`Route: ${s.path}`));let o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Ve(i).pipe(ua())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=ne(null);let s=i.pipe(tt(o=>o===null?ne(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Ve([s,o]).pipe(ua())}else return s})}static{this.\u0275fac=function(r){return new(r||n)(Z(Ki),Z(pf),Z(Ut),Z(Zf),Z(bw))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),MA=new z(""),Cj=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof qa?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Zr?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Wi&&t.code===$f.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof zf&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new zf(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){mC()}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})();function HK(n,...e){return _n([{provide:Pu,multi:!0,useValue:n},[],{provide:Js,useFactory:xA,deps:[Ki]},{provide:lu,multi:!0,useFactory:NA},e.map(t=>t.\u0275providers)])}function xA(n){return n.routerState.root}function Uu(n,e){return{\u0275kind:n,\u0275providers:e}}function NA(){let n=V(bt);return e=>{let t=n.get(zr);if(e!==t.components[0])return;let r=n.get(Ki),i=n.get(PA);n.get(Cw)===1&&r.initialNavigation(),n.get(OA,null,fe.Optional)?.setUpPreloading(),n.get(MA,null,fe.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var PA=new z("",{factory:()=>new Et}),Cw=new z("",{providedIn:"root",factory:()=>1});function Aj(){return Uu(2,[{provide:Cw,useValue:0},{provide:ff,multi:!0,deps:[bt],useFactory:e=>{let t=e.get(m0,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(Ki),s=e.get(PA);RA(i,()=>{r(!0)}),e.get(Tw).afterPreactivation=()=>(r(!0),s.closed?ne(void 0):s),i.initialNavigation()}))}}])}function Sj(){return Uu(3,[{provide:ff,multi:!0,useFactory:()=>{let e=V(Ki);return()=>{e.setUpLocationChangeListener()}}},{provide:Cw,useValue:2}])}var OA=new z("");function Rj(n){return Uu(0,[{provide:OA,useExisting:Tj},{provide:Zf,useExisting:n}])}function Mj(){return Uu(8,[W0,{provide:Jf,useExisting:W0}])}function xj(n){let e=[{provide:CA,useValue:fj},{provide:AA,useValue:$({skipNextTransition:!!n?.skipInitialTransition},n)}];return Uu(9,e)}var Z0=new z("ROUTER_FORROOT_GUARD"),Nj=[La,{provide:ku,useClass:za},Ki,Lu,{provide:Js,useFactory:xA,deps:[Ki]},bw,[]],zK=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Nj,[],{provide:Pu,multi:!0,useValue:t},{provide:Z0,useFactory:Fj,deps:[[Ki,new Dt,new Lh]]},{provide:ju,useValue:r||{}},r?.useHash?Oj():kj(),Pj(),r?.preloadingStrategy?Rj(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Lj(r):[],r?.bindToComponentInputs?Mj().\u0275providers:[],r?.enableViewTransitions?xj().\u0275providers:[],Vj()]}}static forChild(t){return{ngModule:n,providers:[{provide:Pu,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(Z(Z0,8))}}static{this.\u0275mod=wn({type:n})}static{this.\u0275inj=vn({})}}return n})();function Pj(){return{provide:MA,useFactory:()=>{let n=V(b0),e=V(we),t=V(ju),r=V(Tw),i=V(ku);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Cj(i,r,n,e,t)}}}function Oj(){return{provide:Qs,useClass:v0}}function kj(){return{provide:Qs,useClass:Mv}}function Fj(n){return"guarded"}function Lj(n){return[n.initialNavigation==="disabled"?Sj().\u0275providers:[],n.initialNavigation==="enabledBlocking"?Aj().\u0275providers:[]]}var J0=new z("");function Vj(){return[{provide:J0,useFactory:NA},{provide:lu,multi:!0,useExisting:J0}]}var FA=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},jj=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},LA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,p=s>>2,y=(s&3)<<4|a>>4,w=(a&15)<<2|l>>6,_=l&63;u||(_=64,o||(w=64)),r.push(t[p],t[y],t[w],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(FA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):jj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let y=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||l==null||y==null)throw new Sw;let w=s<<2|a>>4;if(r.push(w),l!==64){let _=a<<4&240|l>>2;if(r.push(_),y!==64){let M=l<<6&192|y;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Sw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Uj=function(n){let e=FA(n);return LA.encodeByteArray(e,!0)},Bu=function(n){return Uj(n).replace(/\./g,"")},Mw=function(n){try{return LA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Bj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var $j=()=>Bj().__FIREBASE_DEFAULTS__,Hj=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},zj=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Mw(n[1]);return e&&JSON.parse(e)},tp=()=>{try{return $j()||Hj()||zj()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},xw=n=>{var e,t;return(t=(e=tp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},VA=n=>{let e=xw(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Nw=()=>{var n;return(n=tp())===null||n===void 0?void 0:n.config},Pw=n=>{var e;return(e=tp())===null||e===void 0?void 0:e[`_${n}`]};var ep=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function jA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Bu(JSON.stringify(t)),Bu(JSON.stringify(o)),""].join(".")}function mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mt())}function qj(){var n;let e=(n=tp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $A(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function HA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zA(){let n=mt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function qA(){return!qj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ow(){try{return typeof indexedDB=="object"}catch{return!1}}function GA(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var Gj="FirebaseError",cn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Gj,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jr.prototype.create)}},Jr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Wj(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new cn(i,a,r)}};function Wj(n,e){return n.replace(Kj,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Kj=/\{\$([^}]+)}/g;function WA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Xs(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(kA(s)&&kA(o)){if(!Xs(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function kA(n){return n!==null&&typeof n=="object"}function $u(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qa(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ya(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function KA(n,e){let t=new Rw(n,e);return t.subscribe.bind(t)}var Rw=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Qj(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Aw),i.error===void 0&&(i.error=Aw),i.complete===void 0&&(i.complete=Aw);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Qj(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Aw(){}var WK=4*60*60*1e3;function We(n){return n&&n._delegate?n._delegate:n}var Sn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var eo="[DEFAULT]";var kw=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ep;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Zj(e))try{this.getOrInitializeService({instanceIdentifier:eo})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=eo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return T(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=eo){return this.instances.has(e)}getOptions(e=eo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Yj(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=eo){return this.component?this.component.multipleInstances?e:eo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Yj(n){return n===eo?void 0:n}function Zj(n){return n.instantiationMode==="EAGER"}var np=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new kw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Jj=[],_e=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(_e||{}),Xj={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},eU=_e.INFO,tU={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},nU=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=tU[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Yi=class{constructor(e){this.name=e,this._logLevel=eU,this._logHandler=nU,this._userLogHandler=null,Jj.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Xj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}};var rU=(n,e)=>e.some(t=>n instanceof t),QA,YA;function iU(){return QA||(QA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sU(){return YA||(YA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var ZA=new WeakMap,Lw=new WeakMap,JA=new WeakMap,Fw=new WeakMap,jw=new WeakMap;function oU(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(pr(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&ZA.set(t,n)}).catch(()=>{}),jw.set(e,n),e}function aU(n){if(Lw.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Lw.set(n,e)}var Vw={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Lw.get(n);if(e==="objectStoreNames")return n.objectStoreNames||JA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return pr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function XA(n){Vw=n(Vw)}function cU(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(rp(this),e,...t);return JA.set(r,e.sort?e.sort():[e]),pr(r)}:sU().includes(n)?function(...e){return n.apply(rp(this),e),pr(ZA.get(this))}:function(...e){return pr(n.apply(rp(this),e))}}function uU(n){return typeof n=="function"?cU(n):(n instanceof IDBTransaction&&aU(n),rU(n,iU())?new Proxy(n,Vw):n)}function pr(n){if(n instanceof IDBRequest)return oU(n);if(Fw.has(n))return Fw.get(n);let e=uU(n);return e!==n&&(Fw.set(n,e),jw.set(e,n)),e}var rp=n=>jw.get(n);function tS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),a=pr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(pr(o.result),u.oldVersion,u.newVersion,pr(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var lU=["get","getKey","getAll","getAllKeys","count"],dU=["put","add","delete","clear"],Uw=new Map;function eS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Uw.get(e))return Uw.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=dU.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||lU.includes(t)))return;let s=function(o,...a){return T(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return Uw.set(e,s),s}XA(n=>me($({},n),{get:(e,t,r)=>eS(e,t)||n.get(e,t,r),has:(e,t)=>!!eS(e,t)||n.has(e,t)}));var $w=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(hU(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function hU(n){let e=n.getComponent();return e?.type==="VERSION"}var Hw="@firebase/app",nS="0.10.13";var Xr=new Yi("@firebase/app"),fU="@firebase/app-compat",pU="@firebase/analytics-compat",gU="@firebase/analytics",mU="@firebase/app-check-compat",yU="@firebase/app-check",vU="@firebase/auth",wU="@firebase/auth-compat",_U="@firebase/database",IU="@firebase/data-connect",EU="@firebase/database-compat",bU="@firebase/functions",DU="@firebase/functions-compat",TU="@firebase/installations",CU="@firebase/installations-compat",AU="@firebase/messaging",SU="@firebase/messaging-compat",RU="@firebase/performance",MU="@firebase/performance-compat",xU="@firebase/remote-config",NU="@firebase/remote-config-compat",PU="@firebase/storage",OU="@firebase/storage-compat",kU="@firebase/firestore",FU="@firebase/vertexai-preview",LU="@firebase/firestore-compat",VU="firebase",jU="10.14.1";var zw="[DEFAULT]",UU={[Hw]:"fire-core",[fU]:"fire-core-compat",[gU]:"fire-analytics",[pU]:"fire-analytics-compat",[yU]:"fire-app-check",[mU]:"fire-app-check-compat",[vU]:"fire-auth",[wU]:"fire-auth-compat",[_U]:"fire-rtdb",[IU]:"fire-data-connect",[EU]:"fire-rtdb-compat",[bU]:"fire-fn",[DU]:"fire-fn-compat",[TU]:"fire-iid",[CU]:"fire-iid-compat",[AU]:"fire-fcm",[SU]:"fire-fcm-compat",[RU]:"fire-perf",[MU]:"fire-perf-compat",[xU]:"fire-rc",[NU]:"fire-rc-compat",[PU]:"fire-gcs",[OU]:"fire-gcs-compat",[kU]:"fire-fst",[LU]:"fire-fst-compat",[FU]:"fire-vertex","fire-js":"fire-js",[VU]:"fire-js-all"};var Hu=new Map,BU=new Map,qw=new Map;function rS(n,e){try{n.container.addComponent(e)}catch(t){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ji(n){let e=n.name;if(qw.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;qw.set(e,n);for(let t of Hu.values())rS(t,n);for(let t of BU.values())rS(t,n);return!0}function qu(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Gn(n){return n.settings!==void 0}var $U={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zi=new Jr("app","Firebase",$U);var Gw=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zi.create("app-deleted",{appName:this._name})}};var Xi=jU;function Qw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:zw,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Zi.create("bad-app-name",{appName:String(i)});if(t||(t=Nw()),!t)throw Zi.create("no-options");let s=Hu.get(i);if(s){if(Xs(t,s.options)&&Xs(r,s.config))return s;throw Zi.create("duplicate-app",{appName:i})}let o=new np(i);for(let u of qw.values())o.addComponent(u);let a=new Gw(t,r,o);return Hu.set(i,a),a}function Za(n=zw){let e=Hu.get(n);if(!e&&n===zw&&Nw())return Qw();if(!e)throw Zi.create("no-app",{appName:n});return e}function ip(){return Array.from(Hu.values())}function dt(n,e,t){var r;let i=(r=UU[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(a.join(" "));return}Ji(new Sn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var HU="firebase-heartbeat-database",zU=1,zu="firebase-heartbeat-store",Bw=null;function aS(){return Bw||(Bw=tS(HU,zU,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(zu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Zi.create("idb-open",{originalErrorMessage:n.message})})),Bw}function qU(n){return T(this,null,function*(){try{let t=(yield aS()).transaction(zu),r=yield t.objectStore(zu).get(cS(n));return yield t.done,r}catch(e){if(e instanceof cn)Xr.warn(e.message);else{let t=Zi.create("idb-get",{originalErrorMessage:e?.message});Xr.warn(t.message)}}})}function iS(n,e){return T(this,null,function*(){try{let r=(yield aS()).transaction(zu,"readwrite");yield r.objectStore(zu).put(e,cS(n)),yield r.done}catch(t){if(t instanceof cn)Xr.warn(t.message);else{let r=Zi.create("idb-set",{originalErrorMessage:t?.message});Xr.warn(r.message)}}})}function cS(n){return`${n.name}!${n.options.appId}`}var GU=1024,WU=30*24*60*60*1e3,Ww=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Kw(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return T(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=sS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=WU}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Xr.warn(r)}})}getHeartbeatsHeader(){return T(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=sS(),{heartbeatsToSend:r,unsentEntries:i}=KU(this._heartbeatsCache.heartbeats),s=Bu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Xr.warn(t),""}})}};function sS(){return new Date().toISOString().substring(0,10)}function KU(n,e=GU){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),oS(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),oS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Kw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return T(this,null,function*(){return Ow()?GA().then(()=>!0).catch(()=>!1):!1})}read(){return T(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield qU(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return T(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return iS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return T(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return iS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function oS(n){return Bu(JSON.stringify({version:2,heartbeats:n})).length}function QU(n){Ji(new Sn("platform-logger",e=>new $w(e),"PRIVATE")),Ji(new Sn("heartbeat",e=>new Ww(e),"PRIVATE")),dt(Hw,nS,n),dt(Hw,nS,"esm2017"),dt("fire-js","")}QU("");var YU="firebase",ZU="10.14.1";dt(YU,ZU,"app");var no=new Ur("ANGULARFIRE2_VERSION");function op(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Gu=(n,e)=>{let t=e?[e]:ip(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Xa=class{constructor(){return Gu(JU)}},JU="app-check";function Ja(){}var sp=class{zone;delegate;constructor(e,t=Im){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,r)}},Yw=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ja,{},Ja,Ja)),t.pipe(nt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ec=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new sp(Zone.current)),this.insideAngular=t.run(()=>new sp(Zone.current,_m)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(Z(we))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ap(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function XU(n){return ap().ngZone.runOutsideAngular(()=>n())}function to(n){return ap().ngZone.run(()=>n())}function eB(n){return tB(ap())(n)}function tB(n){return function(t){return t=t.lift(new Yw(n.ngZone)),t.pipe(Ri(n.outsideAngular),Si(n.insideAngular))}}var nB=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),to(()=>n.apply(void 0,r))},Zt=(n,e)=>function(){let t,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(t||=to(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ja,{},Ja,Ja))),r[s]=nB(r[s],t));let i=XU(()=>n.apply(this,r));if(!e)if(i instanceof he){let s=ap();return i.pipe(Ri(s.outsideAngular),Si(s.insideAngular))}else return to(()=>i);return i instanceof he?i.pipe(eB):i instanceof Promise?to(()=>new Promise((s,o)=>i.then(a=>to(()=>s(a)),a=>to(()=>o(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:to(()=>i)};var ei=class{constructor(e){return e}},ro=class{constructor(){return ip()}};function rB(n){return n&&n.length===1?n[0]:new ei(Za())}var Zw=new z("angularfire2._apps"),iB={provide:ei,useFactory:rB,deps:[[new Dt,Zw]]},sB={provide:ro,deps:[[new Dt,Zw]]};function oB(n){return(e,t)=>{let r=t.get(bn);dt("angularfire",no.full,"core"),dt("angularfire",no.full,"app"),dt("angular",e0.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new ei(i)}}function P7(n,...e){return _n([iB,sB,{provide:Zw,useFactory:oB(n),multi:!0,deps:[we,bt,ec,...e]}])}var O7=Zt(Qw,!0);function TS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var CS=TS,AS=new Jr("auth","Firebase",TS());var fp=new Yi("@firebase/auth");function aB(n,...e){fp.logLevel<=_e.WARN&&fp.warn(`Auth (${Xi}): ${n}`,...e)}function up(n,...e){fp.logLevel<=_e.ERROR&&fp.error(`Auth (${Xi}): ${n}`,...e)}function mr(n,...e){throw __(n,...e)}function io(n,...e){return __(n,...e)}function SS(n,e,t){let r=Object.assign(Object.assign({},CS()),{[e]:t});return new Jr("auth","Firebase",r).create(e,{appName:n.name})}function ri(n){return SS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function __(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return AS.create(n,...e)}function ee(n,e,...t){if(!n)throw __(e,...t)}function ti(n){let e="INTERNAL ASSERTION FAILED: "+n;throw up(e),new Error(e)}function ts(n,e){n||ti(e)}function t_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function cB(){return uS()==="http:"||uS()==="https:"}function uS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function uB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cB()||$A()||"connection"in navigator)?navigator.onLine:!0}function lB(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var so=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,ts(t>e,"Short delay should be less than long delay!"),this.isMobile=UA()||HA()}get(){return uB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function I_(n,e){ts(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var pp=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var dB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var hB=new so(3e4,6e4);function ii(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function si(s,o,a,u){return T(this,arguments,function*(n,e,t,r,i={}){return RS(n,i,()=>T(this,null,function*(){let l={},p={};r&&(e==="GET"?p=r:l={body:JSON.stringify(r)});let y=$u(Object.assign({key:n.config.apiKey},p)).slice(1),w=yield n._getAdditionalHeaders();w["Content-Type"]="application/json",n.languageCode&&(w["X-Firebase-Locale"]=n.languageCode);let _=Object.assign({method:e,headers:w},l);return BA()||(_.referrerPolicy="no-referrer"),pp.fetch()(MS(n,n.config.apiHost,t,y),_)}))})}function RS(n,e,t){return T(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},dB),e);try{let i=new n_(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw cp(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw cp(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw cp(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw cp(n,"user-disabled",o);let p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw SS(n,p,l);mr(n,p)}}catch(i){if(i instanceof cn)throw i;mr(n,"network-request-failed",{message:String(i)})}})}function el(s,o,a,u){return T(this,arguments,function*(n,e,t,r,i={}){let l=yield si(n,e,t,r,i);return"mfaPendingCredential"in l&&mr(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function MS(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?I_(n.config,i):`${n.config.apiScheme}://${i}`}function fB(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var n_=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(io(this.auth,"network-request-failed")),hB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function cp(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=io(n,e,r);return i.customData._tokenResponse=t,i}function lS(n){return n!==void 0&&n.enterprise!==void 0}var r_=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return fB(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function pB(n,e){return T(this,null,function*(){return si(n,"GET","/v2/recaptchaConfig",ii(n,e))})}function gB(n,e){return T(this,null,function*(){return si(n,"POST","/v1/accounts:delete",e)})}function xS(n,e){return T(this,null,function*(){return si(n,"POST","/v1/accounts:lookup",e)})}function Wu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function E_(n,e=!1){return T(this,null,function*(){let t=We(n),r=yield t.getIdToken(e),i=b_(r);ee(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Wu(Jw(i.auth_time)),issuedAtTime:Wu(Jw(i.iat)),expirationTime:Wu(Jw(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Jw(n){return Number(n)*1e3}function b_(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return up("JWT malformed, contained fewer than 3 sections"),null;try{let i=Mw(t);return i?JSON.parse(i):(up("Failed to decode base64 JWT payload"),null)}catch(i){return up("Caught error parsing JWT payload as JSON",i?.toString()),null}}function dS(n){let e=b_(n);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Qu(n,e,t=!1){return T(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof cn&&mB(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function mB({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var i_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>T(this,null,function*(){yield this.iteration()}),t)}iteration(){return T(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Yu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wu(this.lastLoginAt),this.creationTime=Wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function gp(n){return T(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Qu(n,xS(t,{idToken:r}));ee(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?NS(s.providerUserInfo):[],a=yB(n.providerData,o),u=n.isAnonymous,l=!(n.email&&s.passwordHash)&&!a?.length,p=u?l:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Yu(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,y)})}function D_(n){return T(this,null,function*(){let e=We(n);yield gp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function yB(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function NS(n){return n.map(e=>{var{providerId:t}=e,r=Em(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function vB(n,e){return T(this,null,function*(){let t=yield RS(n,{},()=>T(this,null,function*(){let r=$u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=MS(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",pp.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function wB(n,e){return T(this,null,function*(){return si(n,"POST","/v2/accounts:revokeToken",ii(n,e))})}var Ku=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ee(e.length!==0,"internal-error");let t=dS(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return T(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return T(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield vB(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ti("not implemented")}};function es(n,e){ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var tc=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Em(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new i_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Yu(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return T(this,null,function*(){let t=yield Qu(this,this.stsTokenManager.getToken(this.auth,e));return ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return E_(this,e)}reload(){return D_(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return T(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield gp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return T(this,null,function*(){if(Gn(this.auth.app))return Promise.reject(ri(this.auth));let e=yield this.getIdToken();return yield Qu(this,gB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,l,p;let y=(r=t.displayName)!==null&&r!==void 0?r:void 0,w=(i=t.email)!==null&&i!==void 0?i:void 0,_=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,M=(o=t.photoURL)!==null&&o!==void 0?o:void 0,O=(a=t.tenantId)!==null&&a!==void 0?a:void 0,N=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,L=(l=t.createdAt)!==null&&l!==void 0?l:void 0,W=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:B,emailVerified:H,isAnonymous:le,providerData:J,stsTokenManager:C}=t;ee(B&&C,e,"internal-error");let E=Ku.fromJSON(this.name,C);ee(typeof B=="string",e,"internal-error"),es(y,e.name),es(w,e.name),ee(typeof H=="boolean",e,"internal-error"),ee(typeof le=="boolean",e,"internal-error"),es(_,e.name),es(M,e.name),es(O,e.name),es(N,e.name),es(L,e.name),es(W,e.name);let b=new n({uid:B,auth:e,email:w,emailVerified:H,displayName:y,isAnonymous:le,photoURL:M,phoneNumber:_,tenantId:O,stsTokenManager:E,createdAt:L,lastLoginAt:W});return J&&Array.isArray(J)&&(b.providerData=J.map(A=>Object.assign({},A))),N&&(b._redirectEventId=N),b}static _fromIdTokenResponse(e,t,r=!1){return T(this,null,function*(){let i=new Ku;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield gp(s),s})}static _fromGetAccountInfoResponse(e,t,r){return T(this,null,function*(){let i=t.users[0];ee(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?NS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Ku;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Yu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var hS=new Map;function ni(n){ts(n instanceof Function,"Expected a class definition");let e=hS.get(n);return e?(ts(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,hS.set(n,e),e)}var _B=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return T(this,null,function*(){return!0})}_set(t,r){return T(this,null,function*(){this.storage[t]=r})}_get(t){return T(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return T(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),s_=_B;function lp(n,e,t){return`firebase:${n}:${e}:${t}`}var mp=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=lp(this.userKey,i.apiKey,s),this.fullPersistenceKey=lp("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return T(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?tc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return T(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return T(this,null,function*(){if(!t.length)return new n(ni(s_),e,r);let i=(yield Promise.all(t.map(l=>T(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||ni(s_),o=lp(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let p=yield l._get(o);if(p){let y=tc._fromJSON(e,p);l!==s&&(a=y),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new n(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(l=>T(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new n(s,e,r))})}};function fS(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VS(e))return"Blackberry";if(jS(e))return"Webos";if(OS(e))return"Safari";if((e.includes("chrome/")||kS(e))&&!e.includes("edge/"))return"Chrome";if(LS(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function PS(n=mt()){return/firefox\//i.test(n)}function OS(n=mt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kS(n=mt()){return/crios\//i.test(n)}function FS(n=mt()){return/iemobile/i.test(n)}function LS(n=mt()){return/android/i.test(n)}function VS(n=mt()){return/blackberry/i.test(n)}function jS(n=mt()){return/webos/i.test(n)}function T_(n=mt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function IB(n=mt()){var e;return T_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function EB(){return zA()&&document.documentMode===10}function US(n=mt()){return T_(n)||LS(n)||jS(n)||VS(n)||/windows phone/i.test(n)||FS(n)}function BS(n,e=[]){let t;switch(n){case"Browser":t=fS(mt());break;case"Worker":t=`${fS(mt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Xi}/${r}`}var o_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return T(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function bB(t){return T(this,arguments,function*(n,e={}){return si(n,"GET","/v2/passwordPolicy",ii(n,e))})}var DB=6,a_=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:DB,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var c_=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yp(this),this.idTokenSubscription=new yp(this),this.beforeStateQueue=new o_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ni(t)),this._initializationPromise=this.queue(()=>T(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield mp.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return T(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return T(this,null,function*(){try{let t=yield xS(this,{idToken:e}),r=yield tc._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return T(this,null,function*(){var t;if(Gn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return T(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return T(this,null,function*(){try{yield gp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=lB()}_delete(){return T(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return T(this,null,function*(){if(Gn(this.app))return Promise.reject(ri(this));let t=e?We(e):null;return t&&ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return T(this,null,function*(){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>T(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return T(this,null,function*(){return Gn(this.app)?Promise.reject(ri(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Gn(this.app)?Promise.reject(ri(this)):this.queue(()=>T(this,null,function*(){yield this.assertedPersistence.setPersistence(ni(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return T(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return T(this,null,function*(){let e=yield bB(this),t=new a_(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Jr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return T(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield wB(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return T(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return T(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&ni(e)||this._popupRedirectResolver;ee(t,this,"argument-error"),this.redirectPersistenceManager=yield mp.create(this,[ni(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return T(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>T(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return T(this,null,function*(){if(e===this.currentUser)return this.queue(()=>T(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(t);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return T(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return T(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return T(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&aB(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function ao(n){return We(n)}var yp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=KA(t=>this.observer=t)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Dp={loadJS(){return T(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TB(n){Dp=n}function $S(n){return Dp.loadJS(n)}function CB(){return Dp.recaptchaEnterpriseScript}function AB(){return Dp.gapiScript}function HS(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var SB="recaptcha-enterprise",RB="NO_RECAPTCHA",u_=class{constructor(e){this.type=SB,this.auth=ao(e)}verify(e="verify",t=!1){return T(this,null,function*(){function r(s){return T(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>T(this,null,function*(){pB(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new r_(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;lS(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(RB)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&lS(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=CB();u.length!==0&&(u+=a),$S(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function pS(n,e,t,r=!1){return T(this,null,function*(){let i=new u_(n),s;try{s=yield i.verify(t)}catch{s=yield i.verify(t,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function l_(n,e,t,r){return T(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield pS(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(s=>T(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield pS(n,e,t,t==="getOobCode");return r(n,o)}else return Promise.reject(s)}))})}function C_(n,e){let t=qu(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(Xs(s,e??{}))return i;mr(i,"already-initialized")}return t.initialize({options:e})}function MB(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ni);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function A_(n,e,t){let r=ao(n);ee(r._canInitEmulator,r,"emulator-config-failed"),ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=zS(e),{host:o,port:a}=xB(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||NB()}function zS(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function xB(n){let e=zS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:gS(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:gS(o)}}}function gS(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function NB(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Zu=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,t){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}};function PB(n,e){return T(this,null,function*(){return si(n,"POST","/v1/accounts:signUp",e)})}function OB(n,e){return T(this,null,function*(){return el(n,"POST","/v1/accounts:signInWithPassword",ii(n,e))})}function kB(n,e){return T(this,null,function*(){return si(n,"POST","/v1/accounts:sendOobCode",ii(n,e))})}function FB(n,e){return T(this,null,function*(){return kB(n,e)})}function LB(n,e){return T(this,null,function*(){return el(n,"POST","/v1/accounts:signInWithEmailLink",ii(n,e))})}function VB(n,e){return T(this,null,function*(){return el(n,"POST","/v1/accounts:signInWithEmailLink",ii(n,e))})}var Ju=class n extends Zu{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return T(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return l_(e,t,"signInWithPassword",OB);case"emailLink":return LB(e,{email:this._email,oobCode:this._password});default:mr(e,"internal-error")}})}_linkToIdToken(e,t){return T(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return l_(e,r,"signUpPassword",PB);case"emailLink":return VB(e,{idToken:t,email:this._email,oobCode:this._password});default:mr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Xw(n,e){return T(this,null,function*(){return el(n,"POST","/v1/accounts:signInWithIdp",ii(n,e))})}function jB(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UB(n){let e=Qa(Ya(n)).link,t=e?Qa(Ya(e)).deep_link_id:null,r=Qa(Ya(n)).deep_link_id;return(r?Qa(Ya(r)).link:null)||r||t||e||n}var vp=class n{constructor(e){var t,r,i,s,o,a;let u=Qa(Ya(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,p=(r=u.oobCode)!==null&&r!==void 0?r:null,y=jB((i=u.mode)!==null&&i!==void 0?i:null);ee(l&&p&&y,"argument-error"),this.apiKey=l,this.operation=y,this.code=p,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=UB(e);try{return new n(t)}catch{return null}}};var qS=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Ju._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=vp.parseLink(r);return ee(i,"argument-error"),Ju._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),wp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var d_=class extends wp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function BB(n,e){return T(this,null,function*(){return el(n,"POST","/v1/accounts:signUp",ii(n,e))})}var nc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return T(this,null,function*(){let s=yield tc._fromIdTokenResponse(e,r,i),o=mS(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return T(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=mS(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function mS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var h_=class n extends cn{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function GS(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?h_._fromErrorAndOperation(n,s,e,r):s})}function $B(n,e,t=!1){return T(this,null,function*(){let r=yield Qu(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return nc._forOperation(n,"link",r)})}function HB(n,e,t=!1){return T(this,null,function*(){let{auth:r}=n;if(Gn(r.app))return Promise.reject(ri(r));let i="reauthenticate";try{let s=yield Qu(n,GS(r,i,e,n),t);ee(s.idToken,r,"internal-error");let o=b_(s.idToken);ee(o,r,"internal-error");let{sub:a}=o;return ee(n.uid===a,r,"user-mismatch"),nc._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&mr(r,"user-mismatch"),s}})}function WS(n,e,t=!1){return T(this,null,function*(){if(Gn(n.app))return Promise.reject(ri(n));let r="signIn",i=yield GS(n,r,e),s=yield nc._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function S_(n,e){return T(this,null,function*(){return WS(ao(n),e)})}function zB(n,e,t){var r;ee(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),ee(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ee(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ee(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function KS(n){return T(this,null,function*(){let e=ao(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function R_(n,e,t){return T(this,null,function*(){if(Gn(n.app))return Promise.reject(ri(n));let r=ao(n),o=yield l_(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",BB).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&KS(n),u}),a=yield nc._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function M_(n,e,t){return Gn(n.app)?Promise.reject(ri(n)):S_(We(n),qS.credential(e,t)).catch(r=>T(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&KS(n),r}))}function QS(n,e){return T(this,null,function*(){let t=We(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&zB(t.auth,i,e);let{email:s}=yield FB(t.auth,i);s!==n.email&&(yield n.reload())})}function YS(n,e){return We(n).setPersistence(e)}function x_(n,e,t,r){return We(n).onIdTokenChanged(e,t,r)}function N_(n,e,t){return We(n).beforeAuthStateChanged(e,t)}function P_(n,e,t,r){return We(n).onAuthStateChanged(e,t,r)}var _p="__sak";var Ip=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(_p,"1"),this.storage.removeItem(_p),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var qB=1e3,GB=10,WB=(()=>{class n extends Ip{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=US(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);EB()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,GB):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},qB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return T(this,null,function*(){yield Ci(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return T(this,null,function*(){let r=yield Ci(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return T(this,null,function*(){yield Ci(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),ZS=WB;var KB=(()=>{class n extends Ip{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),O_=KB;function QB(n){return Promise.all(n.map(e=>T(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var YB=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return T(this,null,function*(){let r=t,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(p=>T(this,null,function*(){return p(r.origin,o)})),l=yield QB(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function JS(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var f_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return T(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=JS("",20);i.port1.start();let p=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(y){let w=y;if(w.data.eventId===l)switch(w.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(w.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function gr(){return window}function ZB(n){gr().location.href=n}function XS(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}function JB(){return T(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function XB(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function e$(){return XS()?self:null}var eR="firebaseLocalStorageDb",t$=1,Ep="firebaseLocalStorage",tR="fbase_key",oo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Tp(n,e){return n.transaction([Ep],e?"readwrite":"readonly").objectStore(Ep)}function n$(){let n=indexedDB.deleteDatabase(eR);return new oo(n).toPromise()}function p_(){let n=indexedDB.open(eR,t$);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Ep,{keyPath:tR})}catch(i){t(i)}}),n.addEventListener("success",()=>T(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Ep)?e(r):(r.close(),yield n$(),e(yield p_()))}))})}function yS(n,e,t){return T(this,null,function*(){let r=Tp(n,!0).put({[tR]:e,value:t});return new oo(r).toPromise()})}function r$(n,e){return T(this,null,function*(){let t=Tp(n,!1).get(e),r=yield new oo(t).toPromise();return r===void 0?null:r.value})}function vS(n,e){let t=Tp(n,!0).delete(e);return new oo(t).toPromise()}var i$=800,s$=3,o$=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return T(this,null,function*(){return this.db?this.db:(this.db=yield p_(),this.db)})}_withRetries(t){return T(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>s$)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return T(this,null,function*(){return XS()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return T(this,null,function*(){this.receiver=YB._getInstance(e$()),this.receiver._subscribe("keyChanged",(t,r)=>T(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>T(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return T(this,null,function*(){var t,r;if(this.activeServiceWorker=yield JB(),!this.activeServiceWorker)return;this.sender=new f_(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return T(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||XB()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return T(this,null,function*(){try{if(!indexedDB)return!1;let t=yield p_();return yield yS(t,_p,"1"),yield vS(t,_p),!0}catch{}return!1})}_withPendingWrite(t){return T(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return T(this,null,function*(){return this._withPendingWrite(()=>T(this,null,function*(){return yield this._withRetries(i=>yS(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return T(this,null,function*(){let r=yield this._withRetries(i=>r$(i,t));return this.localCache[t]=r,r})}_remove(t){return T(this,null,function*(){return this._withPendingWrite(()=>T(this,null,function*(){return yield this._withRetries(r=>vS(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return T(this,null,function*(){let t=yield this._withRetries(s=>{let o=Tp(s,!1).getAll();return new oo(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>T(this,null,function*(){return this._poll()}),i$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),nR=o$;var $7=HS("rcb"),H7=new so(3e4,6e4);function a$(n,e){return e?ni(e):(ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Xu=class extends Zu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xw(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Xw(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Xw(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function c$(n){return WS(n.auth,new Xu(n),n.bypassAuthState)}function u$(n){let{auth:e,user:t}=n;return ee(t,e,"internal-error"),HB(t,new Xu(n),n.bypassAuthState)}function l$(n){return T(this,null,function*(){let{auth:e,user:t}=n;return ee(t,e,"internal-error"),$B(t,new Xu(n),n.bypassAuthState)})}var g_=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>T(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return T(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return c$;case"linkViaPopup":case"linkViaRedirect":return l$;case"reauthViaPopup":case"reauthViaRedirect":return u$;default:mr(this.auth,"internal-error")}}resolve(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var z7=new so(2e3,1e4);var d$="pendingRedirect",dp=new Map,m_=class n extends g_{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return T(this,null,function*(){let e=dp.get(this.auth._key());if(!e){try{let r=(yield h$(this.resolver,this.auth))?yield Ci(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}dp.set(this.auth._key(),e)}return this.bypassAuthState||dp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return T(this,null,function*(){if(e.type==="signInViaRedirect")return Ci(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Ci(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return T(this,null,function*(){})}cleanUp(){}};function h$(n,e){return T(this,null,function*(){let t=g$(e),r=p$(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function f$(n,e){dp.set(n._key(),e)}function p$(n){return ni(n._redirectPersistence)}function g$(n){return lp(d$,n.config.apiKey,n.name)}function m$(n,e,t=!1){return T(this,null,function*(){if(Gn(n.app))return Promise.reject(ri(n));let r=ao(n),i=a$(r,e),o=yield new m_(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var y$=10*60*1e3,y_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!v$(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!rR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(io(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=y$&&this.cachedEventUids.clear(),this.cachedEventUids.has(wS(e))}saveEventToCache(e){this.cachedEventUids.add(wS(e)),this.lastProcessedEventTime=Date.now()}};function wS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function rR({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function v$(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rR(n);default:return!1}}function w$(t){return T(this,arguments,function*(n,e={}){return si(n,"GET","/v1/projects",e)})}var _$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,I$=/^https?/;function E$(n){return T(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield w$(n);for(let t of e)try{if(b$(t))return}catch{}mr(n,"unauthorized-domain")})}function b$(n){let e=t_(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!I$.test(t))return!1;if(_$.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var D$=new so(3e4,6e4);function _S(){let n=gr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function T$(n){return new Promise((e,t)=>{var r,i,s;function o(){_S(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_S(),t(io(n,"network-request-failed"))},timeout:D$.get()})}if(!((i=(r=gr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=gr().gapi)===null||s===void 0)&&s.load)o();else{let a=HS("iframefcb");return gr()[a]=()=>{gapi.load?o():t(io(n,"network-request-failed"))},$S(`${AB()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw hp=null,e})}var hp=null;function C$(n){return hp=hp||T$(n),hp}var A$=new so(5e3,15e3),S$="__/auth/iframe",R$="emulator/auth/iframe",M$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},x$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N$(n){let e=n.config;ee(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?I_(e,R$):`https://${n.config.authDomain}/${S$}`,r={apiKey:e.apiKey,appName:n.name,v:Xi},i=x$.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${$u(r).slice(1)}`}function P$(n){return T(this,null,function*(){let e=yield C$(n),t=gr().gapi;return ee(t,n,"internal-error"),e.open({where:document.body,url:N$(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:M$,dontclear:!0},r=>new Promise((i,s)=>T(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=io(n,"network-request-failed"),a=gr().setTimeout(()=>{s(o)},A$.get());function u(){gr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var O$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},k$=500,F$=600,L$="_blank",V$="http://localhost",bp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function j$(n,e,t,r=k$,i=F$){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},O$),{width:r.toString(),height:i.toString(),top:s,left:o}),l=mt().toLowerCase();t&&(a=kS(l)?L$:t),PS(l)&&(e=e||V$,u.scrollbars="yes");let p=Object.entries(u).reduce((w,[_,M])=>`${w}${_}=${M},`,"");if(IB(l)&&a!=="_self")return U$(e||"",a),new bp(null);let y=window.open(e||"",a,p);ee(y,n,"popup-blocked");try{y.focus()}catch{}return new bp(y)}function U$(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var B$="__/auth/handler",$$="emulator/auth/handler",H$=encodeURIComponent("fac");function IS(n,e,t,r,i,s){return T(this,null,function*(){ee(n.config.authDomain,n,"auth-domain-config-required"),ee(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Xi,eventId:i};if(e instanceof wp){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",WA(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[p,y]of Object.entries(s||{}))o[p]=y}if(e instanceof d_){let p=e.getScopes().filter(y=>y!=="");p.length>0&&(o.scopes=p.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let p of Object.keys(a))a[p]===void 0&&delete a[p];let u=yield n._getAppCheckToken(),l=u?`#${H$}=${encodeURIComponent(u)}`:"";return`${z$(n)}?${$u(a).slice(1)}${l}`})}function z$({config:n}){return n.emulator?I_(n,$$):`https://${n.authDomain}/${B$}`}var e_="webStorageSupport",v_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=O_,this._completeRedirectFn=m$,this._overrideRedirectResult=f$}_openPopup(e,t,r,i){return T(this,null,function*(){var s;ts((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield IS(e,t,r,t_(),i);return j$(e,o,JS())})}_openRedirect(e,t,r,i){return T(this,null,function*(){yield this._originValidation(e);let s=yield IS(e,t,r,t_(),i);return ZB(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(ts(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return T(this,null,function*(){let t=yield P$(e),r=new y_(e);return t.register("authEvent",i=>(ee(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(e_,{type:e_},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[e_];o!==void 0&&t(!!o),mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=E$(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return US()||OS()||T_()}},iR=v_;var ES="@firebase/auth",bS="1.7.9";var w_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return T(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function q$(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function G$(n){Ji(new Sn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BS(n)},l=new c_(r,i,s,u);return MB(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ji(new Sn("auth-internal",e=>{let t=ao(e.getProvider("auth").getImmediate());return(r=>new w_(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),dt(ES,bS,q$(n)),dt(ES,bS,"esm2017")}var W$=5*60,K$=Pw("authIdTokenMaxAge")||W$,DS=null,Q$=n=>e=>T(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>K$)return;let i=t?.token;DS!==i&&(DS=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function k_(n=Za()){let e=qu(n,"auth");if(e.isInitialized())return e.getImmediate();let t=C_(n,{popupRedirectResolver:iR,persistence:[nR,ZS,O_]}),r=Pw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=Q$(s.toString());N_(t,o,()=>o(t.currentUser)),x_(t,a=>o(a))}}let i=xw("auth");return i&&A_(t,`http://${i}`),t}function Y$(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}TB({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=io("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",Y$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});G$("Browser");var sR="auth",co=class{constructor(e){return e}},tl=class{constructor(){return Gu(sR)}};var F_=new z("angularfire2.auth-instances");function VH(n,e){let t=op(sR,n,e);return t&&new co(t)}function jH(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new co(r)}}var UH={provide:tl,deps:[[new Dt,F_]]},BH={provide:co,useFactory:VH,deps:[[new Dt,F_],ei]};function AQ(n,...e){return dt("angularfire",no.full,"auth"),_n([BH,UH,{provide:F_,useFactory:jH(n),multi:!0,deps:[we,bt,ec,ro,[new Dt,Xa],...e]}])}var SQ=Zt(R_,!0);var RQ=Zt(k_,!0);var MQ=Zt(P_,!0);var xQ=Zt(M_,!0);var oR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},aR={};var ns,L_;(function(){var n;function e(C,E){function b(){}b.prototype=E.prototype,C.D=E.prototype,C.prototype=new b,C.prototype.constructor=C,C.C=function(A,S,x){for(var D=Array(arguments.length-2),Mn=2;Mn<arguments.length;Mn++)D[Mn-2]=arguments[Mn];return E.prototype[S].apply(A,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,E,b){b||(b=0);var A=Array(16);if(typeof E=="string")for(var S=0;16>S;++S)A[S]=E.charCodeAt(b++)|E.charCodeAt(b++)<<8|E.charCodeAt(b++)<<16|E.charCodeAt(b++)<<24;else for(S=0;16>S;++S)A[S]=E[b++]|E[b++]<<8|E[b++]<<16|E[b++]<<24;E=C.g[0],b=C.g[1],S=C.g[2];var x=C.g[3],D=E+(x^b&(S^x))+A[0]+3614090360&4294967295;E=b+(D<<7&4294967295|D>>>25),D=x+(S^E&(b^S))+A[1]+3905402710&4294967295,x=E+(D<<12&4294967295|D>>>20),D=S+(b^x&(E^b))+A[2]+606105819&4294967295,S=x+(D<<17&4294967295|D>>>15),D=b+(E^S&(x^E))+A[3]+3250441966&4294967295,b=S+(D<<22&4294967295|D>>>10),D=E+(x^b&(S^x))+A[4]+4118548399&4294967295,E=b+(D<<7&4294967295|D>>>25),D=x+(S^E&(b^S))+A[5]+1200080426&4294967295,x=E+(D<<12&4294967295|D>>>20),D=S+(b^x&(E^b))+A[6]+2821735955&4294967295,S=x+(D<<17&4294967295|D>>>15),D=b+(E^S&(x^E))+A[7]+4249261313&4294967295,b=S+(D<<22&4294967295|D>>>10),D=E+(x^b&(S^x))+A[8]+1770035416&4294967295,E=b+(D<<7&4294967295|D>>>25),D=x+(S^E&(b^S))+A[9]+2336552879&4294967295,x=E+(D<<12&4294967295|D>>>20),D=S+(b^x&(E^b))+A[10]+4294925233&4294967295,S=x+(D<<17&4294967295|D>>>15),D=b+(E^S&(x^E))+A[11]+2304563134&4294967295,b=S+(D<<22&4294967295|D>>>10),D=E+(x^b&(S^x))+A[12]+1804603682&4294967295,E=b+(D<<7&4294967295|D>>>25),D=x+(S^E&(b^S))+A[13]+4254626195&4294967295,x=E+(D<<12&4294967295|D>>>20),D=S+(b^x&(E^b))+A[14]+2792965006&4294967295,S=x+(D<<17&4294967295|D>>>15),D=b+(E^S&(x^E))+A[15]+1236535329&4294967295,b=S+(D<<22&4294967295|D>>>10),D=E+(S^x&(b^S))+A[1]+4129170786&4294967295,E=b+(D<<5&4294967295|D>>>27),D=x+(b^S&(E^b))+A[6]+3225465664&4294967295,x=E+(D<<9&4294967295|D>>>23),D=S+(E^b&(x^E))+A[11]+643717713&4294967295,S=x+(D<<14&4294967295|D>>>18),D=b+(x^E&(S^x))+A[0]+3921069994&4294967295,b=S+(D<<20&4294967295|D>>>12),D=E+(S^x&(b^S))+A[5]+3593408605&4294967295,E=b+(D<<5&4294967295|D>>>27),D=x+(b^S&(E^b))+A[10]+38016083&4294967295,x=E+(D<<9&4294967295|D>>>23),D=S+(E^b&(x^E))+A[15]+3634488961&4294967295,S=x+(D<<14&4294967295|D>>>18),D=b+(x^E&(S^x))+A[4]+3889429448&4294967295,b=S+(D<<20&4294967295|D>>>12),D=E+(S^x&(b^S))+A[9]+568446438&4294967295,E=b+(D<<5&4294967295|D>>>27),D=x+(b^S&(E^b))+A[14]+3275163606&4294967295,x=E+(D<<9&4294967295|D>>>23),D=S+(E^b&(x^E))+A[3]+4107603335&4294967295,S=x+(D<<14&4294967295|D>>>18),D=b+(x^E&(S^x))+A[8]+1163531501&4294967295,b=S+(D<<20&4294967295|D>>>12),D=E+(S^x&(b^S))+A[13]+2850285829&4294967295,E=b+(D<<5&4294967295|D>>>27),D=x+(b^S&(E^b))+A[2]+4243563512&4294967295,x=E+(D<<9&4294967295|D>>>23),D=S+(E^b&(x^E))+A[7]+1735328473&4294967295,S=x+(D<<14&4294967295|D>>>18),D=b+(x^E&(S^x))+A[12]+2368359562&4294967295,b=S+(D<<20&4294967295|D>>>12),D=E+(b^S^x)+A[5]+4294588738&4294967295,E=b+(D<<4&4294967295|D>>>28),D=x+(E^b^S)+A[8]+2272392833&4294967295,x=E+(D<<11&4294967295|D>>>21),D=S+(x^E^b)+A[11]+1839030562&4294967295,S=x+(D<<16&4294967295|D>>>16),D=b+(S^x^E)+A[14]+4259657740&4294967295,b=S+(D<<23&4294967295|D>>>9),D=E+(b^S^x)+A[1]+2763975236&4294967295,E=b+(D<<4&4294967295|D>>>28),D=x+(E^b^S)+A[4]+1272893353&4294967295,x=E+(D<<11&4294967295|D>>>21),D=S+(x^E^b)+A[7]+4139469664&4294967295,S=x+(D<<16&4294967295|D>>>16),D=b+(S^x^E)+A[10]+3200236656&4294967295,b=S+(D<<23&4294967295|D>>>9),D=E+(b^S^x)+A[13]+681279174&4294967295,E=b+(D<<4&4294967295|D>>>28),D=x+(E^b^S)+A[0]+3936430074&4294967295,x=E+(D<<11&4294967295|D>>>21),D=S+(x^E^b)+A[3]+3572445317&4294967295,S=x+(D<<16&4294967295|D>>>16),D=b+(S^x^E)+A[6]+76029189&4294967295,b=S+(D<<23&4294967295|D>>>9),D=E+(b^S^x)+A[9]+3654602809&4294967295,E=b+(D<<4&4294967295|D>>>28),D=x+(E^b^S)+A[12]+3873151461&4294967295,x=E+(D<<11&4294967295|D>>>21),D=S+(x^E^b)+A[15]+530742520&4294967295,S=x+(D<<16&4294967295|D>>>16),D=b+(S^x^E)+A[2]+3299628645&4294967295,b=S+(D<<23&4294967295|D>>>9),D=E+(S^(b|~x))+A[0]+4096336452&4294967295,E=b+(D<<6&4294967295|D>>>26),D=x+(b^(E|~S))+A[7]+1126891415&4294967295,x=E+(D<<10&4294967295|D>>>22),D=S+(E^(x|~b))+A[14]+2878612391&4294967295,S=x+(D<<15&4294967295|D>>>17),D=b+(x^(S|~E))+A[5]+4237533241&4294967295,b=S+(D<<21&4294967295|D>>>11),D=E+(S^(b|~x))+A[12]+1700485571&4294967295,E=b+(D<<6&4294967295|D>>>26),D=x+(b^(E|~S))+A[3]+2399980690&4294967295,x=E+(D<<10&4294967295|D>>>22),D=S+(E^(x|~b))+A[10]+4293915773&4294967295,S=x+(D<<15&4294967295|D>>>17),D=b+(x^(S|~E))+A[1]+2240044497&4294967295,b=S+(D<<21&4294967295|D>>>11),D=E+(S^(b|~x))+A[8]+1873313359&4294967295,E=b+(D<<6&4294967295|D>>>26),D=x+(b^(E|~S))+A[15]+4264355552&4294967295,x=E+(D<<10&4294967295|D>>>22),D=S+(E^(x|~b))+A[6]+2734768916&4294967295,S=x+(D<<15&4294967295|D>>>17),D=b+(x^(S|~E))+A[13]+1309151649&4294967295,b=S+(D<<21&4294967295|D>>>11),D=E+(S^(b|~x))+A[4]+4149444226&4294967295,E=b+(D<<6&4294967295|D>>>26),D=x+(b^(E|~S))+A[11]+3174756917&4294967295,x=E+(D<<10&4294967295|D>>>22),D=S+(E^(x|~b))+A[2]+718787259&4294967295,S=x+(D<<15&4294967295|D>>>17),D=b+(x^(S|~E))+A[9]+3951481745&4294967295,C.g[0]=C.g[0]+E&4294967295,C.g[1]=C.g[1]+(S+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+S&4294967295,C.g[3]=C.g[3]+x&4294967295}r.prototype.u=function(C,E){E===void 0&&(E=C.length);for(var b=E-this.blockSize,A=this.B,S=this.h,x=0;x<E;){if(S==0)for(;x<=b;)i(this,C,x),x+=this.blockSize;if(typeof C=="string"){for(;x<E;)if(A[S++]=C.charCodeAt(x++),S==this.blockSize){i(this,A),S=0;break}}else for(;x<E;)if(A[S++]=C[x++],S==this.blockSize){i(this,A),S=0;break}}this.h=S,this.o+=E},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var E=1;E<C.length-8;++E)C[E]=0;var b=8*this.o;for(E=C.length-8;E<C.length;++E)C[E]=b&255,b/=256;for(this.u(C),C=Array(16),E=b=0;4>E;++E)for(var A=0;32>A;A+=8)C[b++]=this.g[E]>>>A&255;return C};function s(C,E){var b=a;return Object.prototype.hasOwnProperty.call(b,C)?b[C]:b[C]=E(C)}function o(C,E){this.h=E;for(var b=[],A=!0,S=C.length-1;0<=S;S--){var x=C[S]|0;A&&x==E||(b[S]=x,A=!1)}this.g=b}var a={};function u(C){return-128<=C&&128>C?s(C,function(E){return new o([E|0],0>E?-1:0)}):new o([C|0],0>C?-1:0)}function l(C){if(isNaN(C)||!isFinite(C))return y;if(0>C)return N(l(-C));for(var E=[],b=1,A=0;C>=b;A++)E[A]=C/b|0,b*=4294967296;return new o(E,0)}function p(C,E){if(C.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C.charAt(0)=="-")return N(p(C.substring(1),E));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=l(Math.pow(E,8)),A=y,S=0;S<C.length;S+=8){var x=Math.min(8,C.length-S),D=parseInt(C.substring(S,S+x),E);8>x?(x=l(Math.pow(E,x)),A=A.j(x).add(l(D))):(A=A.j(b),A=A.add(l(D)))}return A}var y=u(0),w=u(1),_=u(16777216);n=o.prototype,n.m=function(){if(O(this))return-N(this).m();for(var C=0,E=1,b=0;b<this.g.length;b++){var A=this.i(b);C+=(0<=A?A:4294967296+A)*E,E*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M(this))return"0";if(O(this))return"-"+N(this).toString(C);for(var E=l(Math.pow(C,6)),b=this,A="";;){var S=H(b,E).g;b=L(b,S.j(E));var x=((0<b.g.length?b.g[0]:b.h)>>>0).toString(C);if(b=S,M(b))return x+A;for(;6>x.length;)x="0"+x;A=x+A}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function M(C){if(C.h!=0)return!1;for(var E=0;E<C.g.length;E++)if(C.g[E]!=0)return!1;return!0}function O(C){return C.h==-1}n.l=function(C){return C=L(this,C),O(C)?-1:M(C)?0:1};function N(C){for(var E=C.g.length,b=[],A=0;A<E;A++)b[A]=~C.g[A];return new o(b,~C.h).add(w)}n.abs=function(){return O(this)?N(this):this},n.add=function(C){for(var E=Math.max(this.g.length,C.g.length),b=[],A=0,S=0;S<=E;S++){var x=A+(this.i(S)&65535)+(C.i(S)&65535),D=(x>>>16)+(this.i(S)>>>16)+(C.i(S)>>>16);A=D>>>16,x&=65535,D&=65535,b[S]=D<<16|x}return new o(b,b[b.length-1]&-2147483648?-1:0)};function L(C,E){return C.add(N(E))}n.j=function(C){if(M(this)||M(C))return y;if(O(this))return O(C)?N(this).j(N(C)):N(N(this).j(C));if(O(C))return N(this.j(N(C)));if(0>this.l(_)&&0>C.l(_))return l(this.m()*C.m());for(var E=this.g.length+C.g.length,b=[],A=0;A<2*E;A++)b[A]=0;for(A=0;A<this.g.length;A++)for(var S=0;S<C.g.length;S++){var x=this.i(A)>>>16,D=this.i(A)&65535,Mn=C.i(S)>>>16,dn=C.i(S)&65535;b[2*A+2*S]+=D*dn,W(b,2*A+2*S),b[2*A+2*S+1]+=x*dn,W(b,2*A+2*S+1),b[2*A+2*S+1]+=D*Mn,W(b,2*A+2*S+1),b[2*A+2*S+2]+=x*Mn,W(b,2*A+2*S+2)}for(A=0;A<E;A++)b[A]=b[2*A+1]<<16|b[2*A];for(A=E;A<2*E;A++)b[A]=0;return new o(b,0)};function W(C,E){for(;(C[E]&65535)!=C[E];)C[E+1]+=C[E]>>>16,C[E]&=65535,E++}function B(C,E){this.g=C,this.h=E}function H(C,E){if(M(E))throw Error("division by zero");if(M(C))return new B(y,y);if(O(C))return E=H(N(C),E),new B(N(E.g),N(E.h));if(O(E))return E=H(C,N(E)),new B(N(E.g),E.h);if(30<C.g.length){if(O(C)||O(E))throw Error("slowDivide_ only works with positive integers.");for(var b=w,A=E;0>=A.l(C);)b=le(b),A=le(A);var S=J(b,1),x=J(A,1);for(A=J(A,2),b=J(b,2);!M(A);){var D=x.add(A);0>=D.l(C)&&(S=S.add(b),x=D),A=J(A,1),b=J(b,1)}return E=L(C,S.j(E)),new B(S,E)}for(S=y;0<=C.l(E);){for(b=Math.max(1,Math.floor(C.m()/E.m())),A=Math.ceil(Math.log(b)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),x=l(b),D=x.j(E);O(D)||0<D.l(C);)b-=A,x=l(b),D=x.j(E);M(x)&&(x=w),S=S.add(x),C=L(C,D)}return new B(S,C)}n.A=function(C){return H(this,C).h},n.and=function(C){for(var E=Math.max(this.g.length,C.g.length),b=[],A=0;A<E;A++)b[A]=this.i(A)&C.i(A);return new o(b,this.h&C.h)},n.or=function(C){for(var E=Math.max(this.g.length,C.g.length),b=[],A=0;A<E;A++)b[A]=this.i(A)|C.i(A);return new o(b,this.h|C.h)},n.xor=function(C){for(var E=Math.max(this.g.length,C.g.length),b=[],A=0;A<E;A++)b[A]=this.i(A)^C.i(A);return new o(b,this.h^C.h)};function le(C){for(var E=C.g.length+1,b=[],A=0;A<E;A++)b[A]=C.i(A)<<1|C.i(A-1)>>>31;return new o(b,C.h)}function J(C,E){var b=E>>5;E%=32;for(var A=C.g.length-b,S=[],x=0;x<A;x++)S[x]=0<E?C.i(x+b)>>>E|C.i(x+b+1)<<32-E:C.i(x+b);return new o(S,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,L_=aR.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=p,ns=aR.Integer=o}).apply(typeof oR<"u"?oR:typeof self<"u"?self:typeof window<"u"?window:{});var Cp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oi={};var V_,HH,rc,j_,nl,Ap,U_,B_,$_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,g){return c==Array.prototype||c==Object.prototype||(c[f]=g.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cp=="object"&&Cp];for(var f=0;f<c.length;++f){var g=c[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=t(this);function i(c,f){if(f)e:{var g=r;c=c.split(".");for(var v=0;v<c.length-1;v++){var R=c[v];if(!(R in g))break e;g=g[R]}c=c[c.length-1],v=g[c],f=f(v),f!=v&&f!=null&&e(g,c,{configurable:!0,writable:!0,value:f})}}function s(c,f){c instanceof String&&(c+="");var g=0,v=!1,R={next:function(){if(!v&&g<c.length){var P=g++;return{value:f(P,c[P]),done:!1}}return v=!0,{done:!0,value:void 0}}};return R[Symbol.iterator]=function(){return R},R}i("Array.prototype.values",function(c){return c||function(){return s(this,function(f,g){return g})}});var o=o||{},a=this||self;function u(c){var f=typeof c;return f=f!="object"?f:c?Array.isArray(c)?"array":f:"null",f=="array"||f=="object"&&typeof c.length=="number"}function l(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function p(c,f,g){return c.call.apply(c.bind,arguments)}function y(c,f,g){if(!c)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var R=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(R,v),c.apply(f,R)}}return function(){return c.apply(f,arguments)}}function w(c,f,g){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,w.apply(null,arguments)}function _(c,f){var g=Array.prototype.slice.call(arguments,1);return function(){var v=g.slice();return v.push.apply(v,arguments),c.apply(this,v)}}function M(c,f){function g(){}g.prototype=f.prototype,c.aa=f.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(v,R,P){for(var U=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)U[xe-2]=arguments[xe];return f.prototype[R].apply(v,U)}}function O(c){let f=c.length;if(0<f){let g=Array(f);for(let v=0;v<f;v++)g[v]=c[v];return g}return[]}function N(c,f){for(let g=1;g<arguments.length;g++){let v=arguments[g];if(u(v)){let R=c.length||0,P=v.length||0;c.length=R+P;for(let U=0;U<P;U++)c[R+U]=v[U]}else c.push(v)}}class L{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function W(c){return/^[\s\xa0]*$/.test(c)}function B(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function H(c){return H[" "](c),c}H[" "]=function(){};var le=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function J(c,f,g){for(let v in c)f.call(g,c[v],v,c)}function C(c,f){for(let g in c)f.call(void 0,c[g],g,c)}function E(c){let f={};for(let g in c)f[g]=c[g];return f}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(c,f){let g,v;for(let R=1;R<arguments.length;R++){v=arguments[R];for(g in v)c[g]=v[g];for(let P=0;P<b.length;P++)g=b[P],Object.prototype.hasOwnProperty.call(v,g)&&(c[g]=v[g])}}function S(c){var f=1;c=c.split(":");let g=[];for(;0<f&&c.length;)g.push(c.shift()),f--;return c.length&&g.push(c.join(":")),g}function x(c){a.setTimeout(()=>{throw c},0)}function D(){var c=mi;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class Mn{constructor(){this.h=this.g=null}add(f,g){let v=dn.get();v.set(f,g),this.h?this.h.next=v:this.g=v,this.h=v}}var dn=new L(()=>new Tr,c=>c.reset());class Tr{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let xn,gi=!1,mi=new Mn,To=()=>{let c=a.Promise.resolve(void 0);xn=()=>{c.then(Pg)}};var Pg=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(g){x(g)}var f=dn;f.j(c),100>f.h&&(f.h++,c.next=f.g,f.g=c)}gi=!1};function hn(){this.s=this.s,this.C=this.C}hn.prototype.s=!1,hn.prototype.ma=function(){this.s||(this.s=!0,this.N())},hn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Xe(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}Xe.prototype.h=function(){this.defaultPrevented=!0};var Co=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return c}();function hs(c,f){if(Xe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,v=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget){if(le){e:{try{H(f.nodeName);var R=!0;break e}catch{}R=!1}R||(f=null)}}else g=="mouseover"?f=c.fromElement:g=="mouseout"&&(f=c.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:yi[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&hs.aa.h.call(this)}}M(hs,Xe);var yi={2:"touch",3:"pen",4:"mouse"};hs.prototype.h=function(){hs.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var at="closure_listenable_"+(1e6*Math.random()|0),Nn=0;function Og(c,f,g,v,R){this.listener=c,this.proxy=null,this.src=f,this.type=g,this.capture=!!v,this.ha=R,this.key=++Nn,this.da=this.fa=!1}function vt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function vi(c){this.src=c,this.g={},this.h=0}vi.prototype.add=function(c,f,g,v,R){var P=c.toString();c=this.g[P],c||(c=this.g[P]=[],this.h++);var U=So(c,f,v,R);return-1<U?(f=c[U],g||(f.fa=!1)):(f=new Og(f,this.src,P,!!v,R),f.fa=g,c.push(f)),f};function Ao(c,f){var g=f.type;if(g in c.g){var v=c.g[g],R=Array.prototype.indexOf.call(v,f,void 0),P;(P=0<=R)&&Array.prototype.splice.call(v,R,1),P&&(vt(f),c.g[g].length==0&&(delete c.g[g],c.h--))}}function So(c,f,g,v){for(var R=0;R<c.length;++R){var P=c[R];if(!P.da&&P.listener==f&&P.capture==!!g&&P.ha==v)return R}return-1}var ge="closure_lm_"+(1e6*Math.random()|0),qt={};function Pn(c,f,g,v,R){if(v&&v.once)return ut(c,f,g,v,R);if(Array.isArray(f)){for(var P=0;P<f.length;P++)Pn(c,f[P],g,v,R);return null}return g=fs(g),c&&c[at]?c.K(f,g,l(v)?!!v.capture:!!v,R):Cr(c,f,g,!1,v,R)}function Cr(c,f,g,v,R,P){if(!f)throw Error("Invalid event type");var U=l(R)?!!R.capture:!!R,xe=Ro(c);if(xe||(c[ge]=xe=new vi(c)),g=xe.add(f,g,v,U,P),g.proxy)return g;if(v=ct(),g.proxy=v,v.src=c,v.listener=g,c.addEventListener)Co||(R=U),R===void 0&&(R=!1),c.addEventListener(f.toString(),v,R);else if(c.attachEvent)c.attachEvent(St(f.toString()),v);else if(c.addListener&&c.removeListener)c.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ct(){function c(g){return f.call(c.src,c.listener,g)}let f=kg;return c}function ut(c,f,g,v,R){if(Array.isArray(f)){for(var P=0;P<f.length;P++)ut(c,f[P],g,v,R);return null}return g=fs(g),c&&c[at]?c.L(f,g,l(v)?!!v.capture:!!v,R):Cr(c,f,g,!0,v,R)}function Mc(c,f,g,v,R){if(Array.isArray(f))for(var P=0;P<f.length;P++)Mc(c,f[P],g,v,R);else v=l(v)?!!v.capture:!!v,g=fs(g),c&&c[at]?(c=c.i,f=String(f).toString(),f in c.g&&(P=c.g[f],g=So(P,g,v,R),-1<g&&(vt(P[g]),Array.prototype.splice.call(P,g,1),P.length==0&&(delete c.g[f],c.h--)))):c&&(c=Ro(c))&&(f=c.g[f.toString()],c=-1,f&&(c=So(f,g,v,R)),(g=-1<c?f[c]:null)&&wi(g))}function wi(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[at])Ao(f.i,c);else{var g=c.type,v=c.proxy;f.removeEventListener?f.removeEventListener(g,v,c.capture):f.detachEvent?f.detachEvent(St(g),v):f.addListener&&f.removeListener&&f.removeListener(v),(g=Ro(f))?(Ao(g,c),g.h==0&&(g.src=null,f[ge]=null)):vt(c)}}}function St(c){return c in qt?qt[c]:qt[c]="on"+c}function kg(c,f){if(c.da)c=!0;else{f=new hs(f,this);var g=c.listener,v=c.ha||c.src;c.fa&&wi(c),c=g.call(v,f)}return c}function Ro(c){return c=c[ge],c instanceof vi?c:null}var Mo="__closure_events_fn_"+(1e9*Math.random()>>>0);function fs(c){return typeof c=="function"?c:(c[Mo]||(c[Mo]=function(f){return c.handleEvent(f)}),c[Mo])}function ht(){hn.call(this),this.i=new vi(this),this.M=this,this.F=null}M(ht,hn),ht.prototype[at]=!0,ht.prototype.removeEventListener=function(c,f,g,v){Mc(this,c,f,g,v)};function wt(c,f){var g,v=c.F;if(v)for(g=[];v;v=v.F)g.push(v);if(c=c.M,v=f.type||f,typeof f=="string")f=new Xe(f,c);else if(f instanceof Xe)f.target=f.target||c;else{var R=f;f=new Xe(v,c),A(f,R)}if(R=!0,g)for(var P=g.length-1;0<=P;P--){var U=f.g=g[P];R=ce(U,v,!0,f)&&R}if(U=f.g=c,R=ce(U,v,!0,f)&&R,R=ce(U,v,!1,f)&&R,g)for(P=0;P<g.length;P++)U=f.g=g[P],R=ce(U,v,!1,f)&&R}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var c=this.i,f;for(f in c.g){for(var g=c.g[f],v=0;v<g.length;v++)vt(g[v]);delete c.g[f],c.h--}}this.F=null},ht.prototype.K=function(c,f,g,v){return this.i.add(String(c),f,!1,g,v)},ht.prototype.L=function(c,f,g,v){return this.i.add(String(c),f,!0,g,v)};function ce(c,f,g,v){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();for(var R=!0,P=0;P<f.length;++P){var U=f[P];if(U&&!U.da&&U.capture==g){var xe=U.listener,Qe=U.ha||U.src;U.fa&&Ao(c.i,U),R=xe.call(Qe,v)!==!1&&R}}return R&&!v.defaultPrevented}function kl(c,f,g){if(typeof c=="function")g&&(c=w(c,g));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(c,f||0)}function Fl(c){c.g=kl(()=>{c.g=null,c.i&&(c.i=!1,Fl(c))},c.l);let f=c.h;c.h=null,c.m.apply(null,f)}class Ll extends hn{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Fl(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(c){hn.call(this),this.h=c,this.g={}}M(ps,hn);var Vl=[];function Yn(c){J(c.g,function(f,g){this.g.hasOwnProperty(g)&&wi(f)},c),c.g={}}ps.prototype.N=function(){ps.aa.N.call(this),Yn(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xc=a.JSON.stringify,Fg=a.JSON.parse,Lg=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Nc(){}Nc.prototype.h=null;function jl(c){return c.h||(c.h=c.i())}function xo(){}var gs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pc(){Xe.call(this,"d")}M(Pc,Xe);function Ar(){Xe.call(this,"c")}M(Ar,Xe);var Sr={},Ul=null;function No(){return Ul=Ul||new ht}Sr.La="serverreachability";function Bl(c){Xe.call(this,Sr.La,c)}M(Bl,Xe);function Rr(c){let f=No();wt(f,new Bl(f))}Sr.STAT_EVENT="statevent";function $l(c,f){Xe.call(this,Sr.STAT_EVENT,c),this.stat=f}M($l,Xe);function _t(c){let f=No();wt(f,new $l(f,c))}Sr.Ma="timingevent";function Hl(c,f){Xe.call(this,Sr.Ma,c),this.size=f}M(Hl,Xe);function ms(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},f)}function ys(){this.g=!0}ys.prototype.xa=function(){this.g=!1};function Vg(c,f,g,v,R,P){c.info(function(){if(c.g)if(P)for(var U="",xe=P.split("&"),Qe=0;Qe<xe.length;Qe++){var Ee=xe[Qe].split("=");if(1<Ee.length){var ft=Ee[0];Ee=Ee[1];var pt=ft.split("_");U=2<=pt.length&&pt[1]=="type"?U+(ft+"="+Ee+"&"):U+(ft+"=redacted&")}}else U=null;else U=P;return"XMLHTTP REQ ("+v+") [attempt "+R+"]: "+f+`
`+g+`
`+U})}function jg(c,f,g,v,R,P,U){c.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+R+"]: "+f+`
`+g+`
`+P+" "+U})}function _i(c,f,g,v){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+Bg(c,g)+(v?" "+v:"")})}function Ug(c,f){c.info(function(){return"TIMEOUT: "+f})}ys.prototype.info=function(){};function Bg(c,f){if(!c.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var v=g[c];if(!(2>v.length)){var R=v[1];if(Array.isArray(R)&&!(1>R.length)){var P=R[0];if(P!="noop"&&P!="stop"&&P!="close")for(var U=1;U<R.length;U++)R[U]=""}}}}return xc(g)}catch{return f}}var Po={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mr;function vs(){}M(vs,Nc),vs.prototype.g=function(){return new XMLHttpRequest},vs.prototype.i=function(){return{}},Mr=new vs;function Xt(c,f,g,v){this.j=c,this.i=f,this.l=g,this.R=v||1,this.U=new ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new It}function It(){this.i=null,this.g="",this.h=!1}var zl={},Oc={};function kc(c,f,g){c.L=1,c.v=Vo(fn(f)),c.m=g,c.P=!0,Fc(c,null)}function Fc(c,f){c.F=Date.now(),ko(c),c.A=fn(c.v);var g=c.A,v=c.R;Array.isArray(v)||(v=[String(v)]),td(g.i,"t",v),c.C=0,g=c.j.J,c.h=new It,c.g=yd(c.j,g?f:null,!c.m),0<c.O&&(c.M=new Ll(w(c.Y,c,c.g),c.O)),f=c.U,g=c.g,v=c.ca;var R="readystatechange";Array.isArray(R)||(R&&(Vl[0]=R.toString()),R=Vl);for(var P=0;P<R.length;P++){var U=Pn(g,R[P],v||f.handleEvent,!1,f.h||f);if(!U)break;f.g[U.key]=U}f=c.H?E(c.H):{},c.m?(c.u||(c.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,f)):(c.u="GET",c.g.ea(c.A,c.u,null,f)),Rr(),Vg(c.i,c.u,c.A,c.l,c.R,c.m)}Xt.prototype.ca=function(c){c=c.target;let f=this.M;f&&Rt(c)==3?f.j():this.Y(c)},Xt.prototype.Y=function(c){try{if(c==this.g)e:{let pt=Rt(this.g);var f=this.g.Ba();let On=this.g.Z();if(!(3>pt)&&(pt!=3||this.g&&(this.h.h||this.g.oa()||ud(this.g)))){this.J||pt!=4||f==7||(f==8||0>=On?Rr(3):Rr(2)),Vc(this);var g=this.g.Z();this.X=g;t:if(ql(this)){var v=ud(this.g);c="";var R=v.length,P=Rt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xr(this),Ii(this);var U="";break t}this.h.i=new a.TextDecoder}for(f=0;f<R;f++)this.h.h=!0,c+=this.h.i.decode(v[f],{stream:!(P&&f==R-1)});v.length=0,this.h.g+=c,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=g==200,jg(this.i,this.u,this.A,this.l,this.R,pt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var xe,Qe=this.g;if((xe=Qe.g?Qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(xe)){var Ee=xe;break t}}Ee=null}if(g=Ee)_i(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jc(this,g);else{this.o=!1,this.s=3,_t(12),xr(this),Ii(this);break e}}if(this.P){g=!0;let en;for(;!this.J&&this.C<U.length;)if(en=$g(this,U),en==Oc){pt==4&&(this.s=4,_t(14),g=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(en==zl){this.s=4,_t(15),_i(this.i,this.l,U,"[Invalid Chunk]"),g=!1;break}else _i(this.i,this.l,en,null),jc(this,en);if(ql(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||U.length!=0||this.h.h||(this.s=1,_t(16),g=!1),this.o=this.o&&g,!g)_i(this.i,this.l,U,"[Invalid Chunked Response]"),xr(this),Ii(this);else if(0<U.length&&!this.W){this.W=!0;var ft=this.j;ft.g==this&&ft.ba&&!ft.M&&(ft.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),qo(ft),ft.M=!0,_t(11))}}else _i(this.i,this.l,U,null),jc(this,U);pt==4&&xr(this),this.o&&!this.J&&(pt==4?Nr(this.j,this):(this.o=!1,ko(this)))}else em(this.g),g==400&&0<U.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),xr(this),Ii(this)}}}catch{}finally{}};function ql(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function $g(c,f){var g=c.C,v=f.indexOf(`
`,g);return v==-1?Oc:(g=Number(f.substring(g,v)),isNaN(g)?zl:(v+=1,v+g>f.length?Oc:(f=f.slice(v,v+g),c.C=v+g,f)))}Xt.prototype.cancel=function(){this.J=!0,xr(this)};function ko(c){c.S=Date.now()+c.I,Lc(c,c.I)}function Lc(c,f){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ms(w(c.ba,c),f)}function Vc(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Xt.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(Ug(this.i,this.A),this.L!=2&&(Rr(),_t(17)),xr(this),this.s=2,Ii(this)):Lc(this,this.S-c)};function Ii(c){c.j.G==0||c.J||Nr(c.j,c)}function xr(c){Vc(c);var f=c.M;f&&typeof f.ma=="function"&&f.ma(),c.M=null,Yn(c.U),c.g&&(f=c.g,c.g=null,f.abort(),f.ma())}function jc(c,f){try{var g=c.j;if(g.G!=0&&(g.g==c||Uc(g.h,c))){if(!c.K&&Uc(g.h,c)&&g.G==3){try{var v=g.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var R=v;if(R[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)Ss(g),Ti(g);else break e;qc(g),_t(18)}}else g.za=R[1],0<g.za-g.T&&37500>R[2]&&g.F&&g.v==0&&!g.C&&(g.C=ms(w(g.Za,g),6e3));if(1>=Kl(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Pr(g,11)}else if((c.K||g.g==c)&&Ss(g),!W(f))for(R=g.Da.g.parse(f),f=0;f<R.length;f++){let Ee=R[f];if(g.T=Ee[0],Ee=Ee[1],g.G==2)if(Ee[0]=="c"){g.K=Ee[1],g.ia=Ee[2];let ft=Ee[3];ft!=null&&(g.la=ft,g.j.info("VER="+g.la));let pt=Ee[4];pt!=null&&(g.Aa=pt,g.j.info("SVER="+g.Aa));let On=Ee[5];On!=null&&typeof On=="number"&&0<On&&(v=1.5*On,g.L=v,g.j.info("backChannelRequestTimeoutMs_="+v)),v=g;let en=c.g;if(en){let Qo=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qo){var P=v.h;P.g||Qo.indexOf("spdy")==-1&&Qo.indexOf("quic")==-1&&Qo.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(Fo(P,P.h),P.h=null))}if(v.D){let Gc=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;Gc&&(v.ya=Gc,Oe(v.I,v.D,Gc))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),v=g;var U=c;if(v.qa=md(v,v.J?v.ia:null,v.W),U.K){Bc(v.h,U);var xe=U,Qe=v.L;Qe&&(xe.I=Qe),xe.B&&(Vc(xe),ko(xe)),v.g=U}else fd(v);0<g.i.length&&zo(g)}else Ee[0]!="stop"&&Ee[0]!="close"||Pr(g,7);else g.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?Pr(g,7):Ho(g):Ee[0]!="noop"&&g.l&&g.l.ta(Ee),g.v=0)}}Rr(4)}catch{}}var Hg=class{constructor(c,f){this.g=c,this.map=f}};function Gl(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Wl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Kl(c){return c.h?1:c.g?c.g.size:0}function Uc(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function Fo(c,f){c.g?c.g.add(f):c.h=f}function Bc(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}Gl.prototype.cancel=function(){if(this.i=Ql(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Ql(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let f=c.i;for(let g of c.g.values())f=f.concat(g.D);return f}return O(c.i)}function zg(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var f=[],g=c.length,v=0;v<g;v++)f.push(c[v]);return f}f=[],g=0;for(v in c)f[g++]=c[v];return f}function qg(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var f=[];c=c.length;for(var g=0;g<c;g++)f.push(g);return f}f=[],g=0;for(let v in c)f[g++]=v;return f}}}function $c(c,f){if(c.forEach&&typeof c.forEach=="function")c.forEach(f,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,f,void 0);else for(var g=qg(c),v=zg(c),R=v.length,P=0;P<R;P++)f.call(void 0,v[P],g&&g[P],c)}var Yl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gg(c,f){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var v=c[g].indexOf("="),R=null;if(0<=v){var P=c[g].substring(0,v);R=c[g].substring(v+1)}else P=c[g];f(P,R?decodeURIComponent(R.replace(/\+/g," ")):"")}}}function Gt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Gt){this.h=c.h,Lo(this,c.j),this.o=c.o,this.g=c.g,Ei(this,c.s),this.l=c.l;var f=c.i,g=new Es;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),Hc(this,g),this.m=c.m}else c&&(f=String(c).match(Yl))?(this.h=!1,Lo(this,f[1]||"",!0),this.o=ws(f[2]||""),this.g=ws(f[3]||"",!0),Ei(this,f[4]),this.l=ws(f[5]||"",!0),Hc(this,f[6]||"",!0),this.m=ws(f[7]||"")):(this.h=!1,this.i=new Es(null,this.h))}Gt.prototype.toString=function(){var c=[],f=this.j;f&&c.push(_s(f,Zl,!0),":");var g=this.g;return(g||f=="file")&&(c.push("//"),(f=this.o)&&c.push(_s(f,Zl,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(_s(g,g.charAt(0)=="/"?Kg:Is,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",_s(g,Qg)),c.join("")};function fn(c){return new Gt(c)}function Lo(c,f,g){c.j=g?ws(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function Ei(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.s=f}else c.s=null}function Hc(c,f,g){f instanceof Es?(c.i=f,Yg(c.i,c.h)):(g||(f=_s(f,Jl)),c.i=new Es(f,c.h))}function Oe(c,f,g){c.i.set(f,g)}function Vo(c){return Oe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ws(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _s(c,f,g){return typeof c=="string"?(c=encodeURI(c).replace(f,Wg),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Wg(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Zl=/[#\/\?@]/g,Is=/[#\?:]/g,Kg=/[#\?]/g,Jl=/[#\?@]/g,Qg=/#/g;function Es(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function Zn(c){c.g||(c.g=new Map,c.h=0,c.i&&Gg(c.i,function(f,g){c.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}n=Es.prototype,n.add=function(c,f){Zn(this),this.i=null,c=bi(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(f),this.h+=1,this};function Xl(c,f){Zn(c),f=bi(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function ed(c,f){return Zn(c),f=bi(c,f),c.g.has(f)}n.forEach=function(c,f){Zn(this),this.g.forEach(function(g,v){g.forEach(function(R){c.call(f,R,v,this)},this)},this)},n.na=function(){Zn(this);let c=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let v=0;v<f.length;v++){let R=c[v];for(let P=0;P<R.length;P++)g.push(f[v])}return g},n.V=function(c){Zn(this);let f=[];if(typeof c=="string")ed(this,c)&&(f=f.concat(this.g.get(bi(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)f=f.concat(c[g])}return f},n.set=function(c,f){return Zn(this),this.i=null,c=bi(this,c),ed(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},n.get=function(c,f){return c?(c=this.V(c),0<c.length?String(c[0]):f):f};function td(c,f,g){Xl(c,f),0<g.length&&(c.i=null,c.g.set(bi(c,f),O(g)),c.h+=g.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var v=f[g];let P=encodeURIComponent(String(v)),U=this.V(v);for(v=0;v<U.length;v++){var R=P;U[v]!==""&&(R+="="+encodeURIComponent(String(U[v]))),c.push(R)}}return this.i=c.join("&")};function bi(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function Yg(c,f){f&&!c.j&&(Zn(c),c.i=null,c.g.forEach(function(g,v){var R=v.toLowerCase();v!=R&&(Xl(this,v),td(this,R,g))},c)),c.j=f}function Zg(c,f){let g=new ys;if(a.Image){let v=new Image;v.onload=_(Jn,g,"TestLoadImage: loaded",!0,f,v),v.onerror=_(Jn,g,"TestLoadImage: error",!1,f,v),v.onabort=_(Jn,g,"TestLoadImage: abort",!1,f,v),v.ontimeout=_(Jn,g,"TestLoadImage: timeout",!1,f,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=c}else f(!1)}function nd(c,f){let g=new ys,v=new AbortController,R=setTimeout(()=>{v.abort(),Jn(g,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:v.signal}).then(P=>{clearTimeout(R),P.ok?Jn(g,"TestPingServer: ok",!0,f):Jn(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(R),Jn(g,"TestPingServer: error",!1,f)})}function Jn(c,f,g,v,R){try{R&&(R.onload=null,R.onerror=null,R.onabort=null,R.ontimeout=null),v(g)}catch{}}function jo(){this.g=new Lg}function Jg(c,f,g){let v=g||"";try{$c(c,function(R,P){let U=R;l(R)&&(U=xc(R)),f.push(v+P+"="+encodeURIComponent(U))})}catch(R){throw f.push(v+"type="+encodeURIComponent("_badmap")),R}}function bs(c){this.l=c.Ub||null,this.j=c.eb||!1}M(bs,Nc),bs.prototype.g=function(){return new Uo(this.l,this.j)},bs.prototype.i=function(c){return function(){return c}}({});function Uo(c,f){ht.call(this),this.D=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Uo,ht),n=Uo.prototype,n.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=f,this.readyState=1,Ts(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(f.body=c),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ds(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ts(this)),this.g&&(this.readyState=3,Ts(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Di(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Di(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?Ds(this):Ts(this),this.readyState==3&&Di(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Ds(this))},n.Qa=function(c){this.g&&(this.response=c,Ds(this))},n.ga=function(){this.g&&Ds(this)};function Ds(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ts(c)}n.setRequestHeader=function(c,f){this.u.append(c,f)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=f.next();return c.join(`\r
`)};function Ts(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Uo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function rd(c){let f="";return J(c,function(g,v){f+=v,f+=":",f+=g,f+=`\r
`}),f}function Bo(c,f,g){e:{for(v in g){var v=!1;break e}v=!0}v||(g=rd(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):Oe(c,f,g))}function Ue(c){ht.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Ue,ht);var id=/^https?$/i,Xg=["POST","PUT"];n=Ue.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,f,g,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mr.g(),this.v=this.o?jl(this.o):jl(Mr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(P){sd(this,P);return}if(c=g||"",g=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var R in v)g.set(R,v[R]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let P of v.keys())g.set(P,v.get(P));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(g.keys()).find(P=>P.toLowerCase()=="content-type"),R=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Xg,f,void 0))||v||R||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[P,U]of g)this.g.setRequestHeader(P,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cd(this),this.u=!0,this.g.send(c),this.u=!1}catch(P){sd(this,P)}};function sd(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.m=5,od(c),$o(c)}function od(c){c.A||(c.A=!0,wt(c,"complete"),wt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,wt(this,"complete"),wt(this,"abort"),$o(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$o(this,!0)),Ue.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ad(this):this.bb())},n.bb=function(){ad(this)};function ad(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Rt(c)!=4||c.Z()!=2)){if(c.u&&Rt(c)==4)kl(c.Ea,0,c);else if(wt(c,"readystatechange"),Rt(c)==4){c.h=!1;try{let U=c.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var v;if(v=U===0){var R=String(c.D).match(Yl)[1]||null;!R&&a.self&&a.self.location&&(R=a.self.location.protocol.slice(0,-1)),v=!id.test(R?R.toLowerCase():"")}g=v}if(g)wt(c,"complete"),wt(c,"success");else{c.m=6;try{var P=2<Rt(c)?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.Z()+"]",od(c)}}finally{$o(c)}}}}function $o(c,f){if(c.g){cd(c);let g=c.g,v=c.v[0]?()=>{}:null;c.g=null,c.v=null,f||wt(c,"ready");try{g.onreadystatechange=v}catch{}}}function cd(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Rt(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Rt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),Fg(f)}};function ud(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function em(c){let f={};c=(c.g&&2<=Rt(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<c.length;v++){if(W(c[v]))continue;var g=S(c[v]);let R=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();let P=f[R]||[];f[R]=P,P.push(g)}C(f,function(v){return v.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cs(c,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||f}function zc(c){this.Aa=0,this.i=[],this.j=new ys,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cs("baseRetryDelayMs",5e3,c),this.cb=Cs("retryDelaySeedMs",1e4,c),this.Wa=Cs("forwardChannelMaxRetries",2,c),this.wa=Cs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Gl(c&&c.concurrentRequestLimit),this.Da=new jo,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=zc.prototype,n.la=8,n.G=1,n.connect=function(c,f,g,v){_t(0),this.W=c,this.H=f||{},g&&v!==void 0&&(this.H.OSID=g,this.H.OAID=v),this.F=this.X,this.I=md(this,null,this.W),zo(this)};function Ho(c){if(ld(c),c.G==3){var f=c.U++,g=fn(c.I);if(Oe(g,"SID",c.K),Oe(g,"RID",f),Oe(g,"TYPE","terminate"),As(c,g),f=new Xt(c,c.j,f),f.L=2,f.v=Vo(fn(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=yd(f.j,null),f.g.ea(f.v)),f.F=Date.now(),ko(f)}gd(c)}function Ti(c){c.g&&(qo(c),c.g.cancel(),c.g=null)}function ld(c){Ti(c),c.u&&(a.clearTimeout(c.u),c.u=null),Ss(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function zo(c){if(!Wl(c.h)&&!c.s){c.s=!0;var f=c.Ga;xn||To(),gi||(xn(),gi=!0),mi.add(f,c),c.B=0}}function tm(c,f){return Kl(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=f.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ms(w(c.Ga,c,f),pd(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let R=new Xt(this,this.j,c),P=this.o;if(this.S&&(P?(P=E(P),A(P,this.S)):P=this.S),this.m!==null||this.O||(R.H=P,P=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var v=this.i[g];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=hd(this,R,f),g=fn(this.I),Oe(g,"RID",c),Oe(g,"CVER",22),this.D&&Oe(g,"X-HTTP-Session-Id",this.D),As(this,g),P&&(this.O?f="headers="+encodeURIComponent(String(rd(P)))+"&"+f:this.m&&Bo(g,this.m,P)),Fo(this.h,R),this.Ua&&Oe(g,"TYPE","init"),this.P?(Oe(g,"$req",f),Oe(g,"SID","null"),R.T=!0,kc(R,g,null)):kc(R,g,f),this.G=2}}else this.G==3&&(c?dd(this,c):this.i.length==0||Wl(this.h)||dd(this))};function dd(c,f){var g;f?g=f.l:g=c.U++;let v=fn(c.I);Oe(v,"SID",c.K),Oe(v,"RID",g),Oe(v,"AID",c.T),As(c,v),c.m&&c.o&&Bo(v,c.m,c.o),g=new Xt(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),f&&(c.i=f.D.concat(c.i)),f=hd(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Fo(c.h,g),kc(g,v,f)}function As(c,f){c.H&&J(c.H,function(g,v){Oe(f,v,g)}),c.l&&$c({},function(g,v){Oe(f,v,g)})}function hd(c,f,g){g=Math.min(c.i.length,g);var v=c.l?w(c.l.Na,c.l,c):null;e:{var R=c.i;let P=-1;for(;;){let U=["count="+g];P==-1?0<g?(P=R[0].g,U.push("ofs="+P)):P=0:U.push("ofs="+P);let xe=!0;for(let Qe=0;Qe<g;Qe++){let Ee=R[Qe].g,ft=R[Qe].map;if(Ee-=P,0>Ee)P=Math.max(0,R[Qe].g-100),xe=!1;else try{Jg(ft,U,"req"+Ee+"_")}catch{v&&v(ft)}}if(xe){v=U.join("&");break e}}}return c=c.i.splice(0,g),f.D=c,v}function fd(c){if(!c.g&&!c.u){c.Y=1;var f=c.Fa;xn||To(),gi||(xn(),gi=!0),mi.add(f,c),c.v=0}}function qc(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ms(w(c.Fa,c),pd(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Go(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ms(w(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),Ti(this),Go(this))};function qo(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Go(c){c.g=new Xt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var f=fn(c.qa);Oe(f,"RID","rpc"),Oe(f,"SID",c.K),Oe(f,"AID",c.T),Oe(f,"CI",c.F?"0":"1"),!c.F&&c.ja&&Oe(f,"TO",c.ja),Oe(f,"TYPE","xmlhttp"),As(c,f),c.m&&c.o&&Bo(f,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=Vo(fn(f)),g.m=null,g.P=!0,Fc(g,c)}n.Za=function(){this.C!=null&&(this.C=null,Ti(this),qc(this),_t(19))};function Ss(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Nr(c,f){var g=null;if(c.g==f){Ss(c),qo(c),c.g=null;var v=2}else if(Uc(c.h,f))g=f.D,Bc(c.h,f),v=1;else return;if(c.G!=0){if(f.o)if(v==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var R=c.B;v=No(),wt(v,new Hl(v,g)),zo(c)}else fd(c);else if(R=f.s,R==3||R==0&&0<f.X||!(v==1&&tm(c,f)||v==2&&qc(c)))switch(g&&0<g.length&&(f=c.h,f.i=f.i.concat(g)),R){case 1:Pr(c,5);break;case 4:Pr(c,10);break;case 3:Pr(c,6);break;default:Pr(c,2)}}}function pd(c,f){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*f}function Pr(c,f){if(c.j.info("Error code "+f),f==2){var g=w(c.fb,c),v=c.Xa;let R=!v;v=new Gt(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Lo(v,"https"),Vo(v),R?Zg(v.toString(),g):nd(v.toString(),g)}else _t(2);c.G=0,c.l&&c.l.sa(f),gd(c),ld(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function gd(c){if(c.G=0,c.ka=[],c.l){let f=Ql(c.h);(f.length!=0||c.i.length!=0)&&(N(c.ka,f),N(c.ka,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.ra()}}function md(c,f,g){var v=g instanceof Gt?fn(g):new Gt(g);if(v.g!="")f&&(v.g=f+"."+v.g),Ei(v,v.s);else{var R=a.location;v=R.protocol,f=f?f+"."+R.hostname:R.hostname,R=+R.port;var P=new Gt(null);v&&Lo(P,v),f&&(P.g=f),R&&Ei(P,R),g&&(P.l=g),v=P}return g=c.D,f=c.ya,g&&f&&Oe(v,g,f),Oe(v,"VER",c.la),As(c,v),v}function yd(c,f,g){if(f&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Ca&&!c.pa?new Ue(new bs({eb:g})):new Ue(c.pa),f.Ha(c.J),f}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function vd(){}n=vd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Wo(){}Wo.prototype.g=function(c,f){return new kt(c,f)};function kt(c,f){ht.call(this),this.g=new zc(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(c?c["X-WebChannel-Client-Profile"]=f.va:c={"X-WebChannel-Client-Profile":f.va}),this.g.S=c,(c=f&&f.Sb)&&!W(c)&&(this.g.m=c),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!W(f)&&(this.g.D=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new Or(this)}M(kt,ht),kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){Ho(this.g)},kt.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=xc(c),c=g);f.i.push(new Hg(f.Ya++,c)),f.G==3&&zo(f)},kt.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,kt.aa.N.call(this)};function wd(c){Pc.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(let g in f){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}M(wd,Pc);function Ko(){Ar.call(this),this.status=1}M(Ko,Ar);function Or(c){this.g=c}M(Or,vd),Or.prototype.ua=function(){wt(this.g,"a")},Or.prototype.ta=function(c){wt(this.g,new wd(c))},Or.prototype.sa=function(c){wt(this.g,new Ko)},Or.prototype.ra=function(){wt(this.g,"b")},Wo.prototype.createWebChannel=Wo.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,$_=oi.createWebChannelTransport=function(){return new Wo},B_=oi.getStatEventTarget=function(){return No()},U_=oi.Event=Sr,Ap=oi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Po.NO_ERROR=0,Po.TIMEOUT=8,Po.HTTP_ERROR=6,nl=oi.ErrorCode=Po,Oo.COMPLETE="complete",j_=oi.EventType=Oo,xo.EventType=gs,gs.OPEN="a",gs.CLOSE="b",gs.ERROR="c",gs.MESSAGE="d",ht.prototype.listen=ht.prototype.K,rc=oi.WebChannel=xo,HH=oi.FetchXmlHttpFactory=bs,Ue.prototype.listenOnce=Ue.prototype.L,Ue.prototype.getLastError=Ue.prototype.Ka,Ue.prototype.getLastErrorCode=Ue.prototype.Ba,Ue.prototype.getStatus=Ue.prototype.Z,Ue.prototype.getResponseJson=Ue.prototype.Oa,Ue.prototype.getResponseText=Ue.prototype.oa,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Ha,V_=oi.XhrIo=Ue}).apply(typeof Cp<"u"?Cp:typeof self<"u"?self:typeof window<"u"?window:{});var cR="@firebase/firestore";var yt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");var bc="10.14.0";var fo=new Yi("@firebase/firestore");function rl(){return fo.logLevel}function Q(n,...e){if(fo.logLevel<=_e.DEBUG){let t=e.map(TE);fo.debug(`Firestore (${bc}): ${n}`,...t)}}function ci(n,...e){if(fo.logLevel<=_e.ERROR){let t=e.map(TE);fo.error(`Firestore (${bc}): ${n}`,...t)}}function lc(n,...e){if(fo.logLevel<=_e.WARN){let t=e.map(TE);fo.warn(`Firestore (${bc}): ${n}`,...t)}}function TE(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function re(n="Unexpected state"){let e=`FIRESTORE (${bc}) INTERNAL ASSERTION FAILED: `+n;throw ci(e),new Error(e)}function Pe(n,e){n||re()}function oe(n,e){return n}var F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},G=class extends cn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var vr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Np=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},W_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yt.UNAUTHENTICATED))}shutdown(){}},K_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Q_=class{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Pe(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),s=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new vr,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>T(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new vr)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe(typeof r.accessToken=="string"),new Np(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Pe(e===null||typeof e=="string"),new yt(e)}},Y_=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Z_=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Y_(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},J_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},X_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Pe(this.o===void 0);let r=s=>{s.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Pe(typeof t.token=="string"),this.R=t.token,new J_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function zH(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Pp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=zH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}};function Ae(n,e){return n<e?-1:n>e?1:0}function dc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Ct=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new G(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new G(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new G(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ue=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Ct(0,0))}static max(){return new n(new Ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Op=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&re(),r===void 0?r=e.length-t:r>e.length-t&&re(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},He=class n extends Op{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new G(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},qH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ln=class n extends Op{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return qH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new G(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new G(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new G(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new G(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var X=class n{constructor(e){this.path=e}static fromPath(e){return new n(He.fromString(e))}static fromName(e){return new n(He.fromString(e).popFirst(5))}static empty(){return new n(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return He.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new He(e.slice()))}};var eI=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};eI.UNKNOWN_ID=-1;function GH(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new Ct(t+1,0):new Ct(t,r));return new po(i,X.empty(),e)}function WH(n){return new po(n.readTime,n.key,-1)}var po=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ue.min(),X.empty(),-1)}static max(){return new n(ue.max(),X.empty(),-1)}};function KH(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=X.comparator(n.documentKey,e.documentKey),t!==0?t:Ae(n.largestBatchId,e.largestBatchId))}var QH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",tI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function El(n){return T(this,null,function*(){if(n.code!==F.FAILED_PRECONDITION||n.message!==QH)throw n;Q("LocalStore","Unexpectedly lost primary lease")})}var j=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;t(e[l]).next(p=>{o[l]=p,++a,a===s&&r(o)},p=>i(p))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function YH(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function bl(n){return n.name==="IndexedDbTransactionError"}var HR=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function hg(n){return n==null}function ul(n){return n===0&&1/n==-1/0}function ZH(n){return typeof n=="number"&&Number.isInteger(n)&&!ul(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var JH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],zQ=[...JH,"documentOverlays"],XH=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ez=XH,tz=[...ez,"indexConfiguration","indexState","indexEntries"];var qQ=[...tz,"globals"];function uR(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Io(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function zR(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ke=class n{constructor(e,t){this.comparator=e,this.root=t||wr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,wr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ac(this.root,e,this.comparator,!0)}},ac=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},wr=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw re();let e=this.left.check();if(e!==this.right.check())throw re();return e+(this.isRed()?0:1)}};wr.EMPTY=null,wr.RED=!0,wr.BLACK=!1;wr.EMPTY=new class{constructor(){this.size=0}get key(){throw re()}get value(){throw re()}get color(){throw re()}get left(){throw re()}get right(){throw re()}copy(e,t,r,i,s){return this}insert(e,t,r){return new wr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Pt=class n{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new kp(this.data.getIterator())}getIteratorFrom(e){return new kp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},kp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Rn=class n{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new n([])}unionWith(e){let t=new Pt(ln.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return dc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Fp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ot=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Fp("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ot.EMPTY_BYTE_STRING=new Ot("");var nz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ui(n){if(Pe(!!n),typeof n=="string"){let e=0,t=nz.exec(n);if(Pe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$e(n.seconds),nanos:$e(n.nanos)}}function $e(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function is(n){return typeof n=="string"?Ot.fromBase64String(n):Ot.fromUint8Array(n)}function CE(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function AE(n){let e=n.mapValue.fields.__previous_value__;return CE(e)?AE(e):e}function ll(n){let e=ui(n.mapValue.fields.__local_write_time__.timestampValue);return new Ct(e.seconds,e.nanos)}var nI=class{constructor(e,t,r,i,s,o,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Lp=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Sp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function go(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?CE(n)?4:GR(n)?9007199254740991:qR(n)?10:11:re()}function Er(n,e){if(n===e)return!0;let t=go(n);if(t!==go(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ll(n).isEqual(ll(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=ui(i.timestampValue),a=ui(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return is(i.bytesValue).isEqual(is(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return $e(i.geoPointValue.latitude)===$e(s.geoPointValue.latitude)&&$e(i.geoPointValue.longitude)===$e(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return $e(i.integerValue)===$e(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=$e(i.doubleValue),a=$e(s.doubleValue);return o===a?ul(o)===ul(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return dc(n.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(uR(o)!==uR(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Er(o[u],a[u])))return!1;return!0}(n,e);default:return re()}}function dl(n,e){return(n.values||[]).find(t=>Er(t,e))!==void 0}function hc(n,e){if(n===e)return 0;let t=go(n),r=go(e);if(t!==r)return Ae(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ae(n.booleanValue,e.booleanValue);case 2:return function(s,o){let a=$e(s.integerValue||s.doubleValue),u=$e(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return lR(n.timestampValue,e.timestampValue);case 4:return lR(ll(n),ll(e));case 5:return Ae(n.stringValue,e.stringValue);case 6:return function(s,o){let a=is(s),u=is(o);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let p=Ae(a[l],u[l]);if(p!==0)return p}return Ae(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Ae($e(s.latitude),$e(o.latitude));return a!==0?a:Ae($e(s.longitude),$e(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return dR(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,p;let y=s.fields||{},w=o.fields||{},_=(a=y.value)===null||a===void 0?void 0:a.arrayValue,M=(u=w.value)===null||u===void 0?void 0:u.arrayValue,O=Ae(((l=_?.values)===null||l===void 0?void 0:l.length)||0,((p=M?.values)===null||p===void 0?void 0:p.length)||0);return O!==0?O:dR(_,M)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===Sp.mapValue&&o===Sp.mapValue)return 0;if(s===Sp.mapValue)return 1;if(o===Sp.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},p=Object.keys(l);u.sort(),p.sort();for(let y=0;y<u.length&&y<p.length;++y){let w=Ae(u[y],p[y]);if(w!==0)return w;let _=hc(a[u[y]],l[p[y]]);if(_!==0)return _}return Ae(u.length,p.length)}(n.mapValue,e.mapValue);default:throw re()}}function lR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ae(n,e);let t=ui(n),r=ui(e),i=Ae(t.seconds,r.seconds);return i!==0?i:Ae(t.nanos,r.nanos)}function dR(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=hc(t[i],r[i]);if(s)return s}return Ae(t.length,r.length)}function fc(n){return rI(n)}function rI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=ui(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return is(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return X.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=rI(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${rI(t.fields[o])}`;return i+"}"}(n.mapValue):re()}function hR(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function iI(n){return!!n&&"integerValue"in n}function SE(n){return!!n&&"arrayValue"in n}function fR(n){return!!n&&"nullValue"in n}function pR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Mp(n){return!!n&&"mapValue"in n}function qR(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function sl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Io(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=sl(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=sl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function GR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var un=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Mp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=sl(t)}setAll(e){let t=ln.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=sl(o):i.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());Mp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Mp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Io(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(sl(this.value))}};function WR(n){let e=[];return Io(n.fields,(t,r)=>{let i=new ln([t]);if(Mp(r)){let s=WR(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Rn(e)}var Kn=class n{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ue.min(),ue.min(),ue.min(),un.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ue.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ue.min(),ue.min(),un.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ue.min(),ue.min(),un.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var pc=class{constructor(e,t){this.position=e,this.inclusive=t}};function gR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=X.comparator(X.fromName(o.referenceValue),t.key):r=hc(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function mR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Er(n.position[t],e.position[t]))return!1;return!0}var gc=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function rz(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Vp=class{},ot=class n extends Vp{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new oI(e,t,r):t==="array-contains"?new uI(e,r):t==="in"?new lI(e,r):t==="not-in"?new dI(e,r):t==="array-contains-any"?new hI(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new aI(e,r):new cI(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(hc(t,this.value)):t!==null&&go(this.value)===go(t)&&this.matchesComparison(hc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Qn=class n extends Vp{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return KR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function KR(n){return n.op==="and"}function QR(n){return iz(n)&&KR(n)}function iz(n){for(let e of n.filters)if(e instanceof Qn)return!1;return!0}function sI(n){if(n instanceof ot)return n.field.canonicalString()+n.op.toString()+fc(n.value);if(QR(n))return n.filters.map(e=>sI(e)).join(",");{let e=n.filters.map(t=>sI(t)).join(",");return`${n.op}(${e})`}}function YR(n,e){return n instanceof ot?function(r,i){return i instanceof ot&&r.op===i.op&&r.field.isEqual(i.field)&&Er(r.value,i.value)}(n,e):n instanceof Qn?function(r,i){return i instanceof Qn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&YR(o,i.filters[a]),!0):!1}(n,e):void re()}function ZR(n){return n instanceof ot?function(t){return`${t.field.canonicalString()} ${t.op} ${fc(t.value)}`}(n):n instanceof Qn?function(t){return t.op.toString()+" {"+t.getFilters().map(ZR).join(" ,")+"}"}(n):"Filter"}var oI=class extends ot{constructor(e,t,r){super(e,t,r),this.key=X.fromName(r.referenceValue)}matches(e){let t=X.comparator(e.key,this.key);return this.matchesComparison(t)}},aI=class extends ot{constructor(e,t){super(e,"in",t),this.keys=JR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},cI=class extends ot{constructor(e,t){super(e,"not-in",t),this.keys=JR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function JR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>X.fromName(r.referenceValue))}var uI=class extends ot{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return SE(t)&&dl(t.arrayValue,this.value)}},lI=class extends ot{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&dl(this.value.arrayValue,t)}},dI=class extends ot{constructor(e,t){super(e,"not-in",t)}matches(e){if(dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!dl(this.value.arrayValue,t)}},hI=class extends ot{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!SE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>dl(this.value.arrayValue,r))}};var fI=class{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function yR(n,e=null,t=[],r=[],i=null,s=null,o=null){return new fI(n,e,t,r,i,s,o)}function RE(n){let e=oe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>sI(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),hg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>fc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>fc(r)).join(",")),e.ue=t}return e.ue}function ME(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!rz(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!YR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!mR(n.startAt,e.startAt)&&mR(n.endAt,e.endAt)}function pI(n){return X.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var mo=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function sz(n,e,t,r,i,s,o,a){return new mo(n,e,t,r,i,s,o,a)}function xE(n){return new mo(n)}function vR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function XR(n){return n.collectionGroup!==null}function ol(n){let e=oe(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Pt(ln.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new gc(s,r))}),t.has(ln.keyField().canonicalString())||e.ce.push(new gc(ln.keyField(),r))}return e.ce}function _r(n){let e=oe(n);return e.le||(e.le=oz(e,ol(n))),e.le}function oz(n,e){if(n.limitType==="F")return yR(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new gc(i.field,s)});let t=n.endAt?new pc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new pc(n.startAt.position,n.startAt.inclusive):null;return yR(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function gI(n,e){let t=n.filters.concat([e]);return new mo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function mI(n,e,t){return new mo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function fg(n,e){return ME(_r(n),_r(e))&&n.limitType===e.limitType}function eM(n){return`${RE(_r(n))}|lt:${n.limitType}`}function ic(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>ZR(i)).join(", ")}]`),hg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>fc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>fc(i)).join(",")),`Target(${r})`}(_r(n))}; limitType=${n.limitType})`}function pg(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):X.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of ol(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=gR(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,ol(r),i)||r.endAt&&!function(o,a,u){let l=gR(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,ol(r),i))}(n,e)}function az(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function tM(n){return(e,t)=>{let r=!1;for(let i of ol(n)){let s=cz(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function cz(n,e,t){let r=n.field.isKeyField()?X.comparator(e.key,t.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?hc(u,l):re()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return re()}}var ss=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Io(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return zR(this.inner)}size(){return this.innerSize}};var uz=new Ke(X.comparator);function li(){return uz}var nM=new Ke(X.comparator);function il(...n){let e=nM;for(let t of n)e=e.insert(t.key,t);return e}function rM(n){let e=nM;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function uo(){return al()}function iM(){return al()}function al(){return new ss(n=>n.toString(),(n,e)=>n.isEqual(e))}var lz=new Ke(X.comparator),dz=new Pt(X.comparator);function Ie(...n){let e=dz;for(let t of n)e=e.add(t);return e}var hz=new Pt(Ae);function fz(){return hz}function NE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ul(e)?"-0":e}}function sM(n){return{integerValue:""+n}}function pz(n,e){return ZH(e)?sM(e):NE(n,e)}var mc=class{constructor(){this._=void 0}};function gz(n,e,t){return n instanceof yc?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&CE(s)&&(s=AE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof yo?aM(n,e):n instanceof vo?cM(n,e):function(i,s){let o=oM(i,s),a=wR(o)+wR(i.Pe);return iI(o)&&iI(i.Pe)?sM(a):NE(i.serializer,a)}(n,e)}function mz(n,e,t){return n instanceof yo?aM(n,e):n instanceof vo?cM(n,e):t}function oM(n,e){return n instanceof vc?function(r){return iI(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var yc=class extends mc{},yo=class extends mc{constructor(e){super(),this.elements=e}};function aM(n,e){let t=uM(e);for(let r of n.elements)t.some(i=>Er(i,r))||t.push(r);return{arrayValue:{values:t}}}var vo=class extends mc{constructor(e){super(),this.elements=e}};function cM(n,e){let t=uM(e);for(let r of n.elements)t=t.filter(i=>!Er(i,r));return{arrayValue:{values:t}}}var vc=class extends mc{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function wR(n){return $e(n.integerValue||n.doubleValue)}function uM(n){return SE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function yz(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof yo&&i instanceof yo||r instanceof vo&&i instanceof vo?dc(r.elements,i.elements,Er):r instanceof vc&&i instanceof vc?Er(r.Pe,i.Pe):r instanceof yc&&i instanceof yc}(n.transform,e.transform)}var yI=class{constructor(e,t){this.version=e,this.transformResults=t}},ai=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function xp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var wc=class{};function lM(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new jp(n.key,ai.none()):new wo(n.key,n.data,ai.none());{let t=n.data,r=un.empty(),i=new Pt(ln.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new br(n.key,r,new Rn(i.toArray()),ai.none())}}function vz(n,e,t){n instanceof wo?function(i,s,o){let a=i.value.clone(),u=IR(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof br?function(i,s,o){if(!xp(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=IR(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(dM(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function cl(n,e,t,r){return n instanceof wo?function(s,o,a,u){if(!xp(s.precondition,o))return a;let l=s.value.clone(),p=ER(s.fieldTransforms,u,o);return l.setAll(p),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof br?function(s,o,a,u){if(!xp(s.precondition,o))return a;let l=ER(s.fieldTransforms,u,o),p=o.data;return p.setAll(dM(s)),p.setAll(l),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(y=>y.field))}(n,e,t,r):function(s,o,a){return xp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function wz(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=oM(r.transform,i||null);s!=null&&(t===null&&(t=un.empty()),t.set(r.field,s))}return t||null}function _R(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&dc(r,i,(s,o)=>yz(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var wo=class extends wc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},br=class extends wc{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function dM(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function IR(n,e,t){let r=new Map;Pe(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,mz(o,a,t[i]))}return r}function ER(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,gz(s,o,e))}return r}var jp=class extends wc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},vI=class extends wc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var wI=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&vz(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=cl(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=cl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=iM();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;let u=lM(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ie())}isEqual(e){return this.batchId===e.batchId&&dc(this.mutations,e.mutations,(t,r)=>_R(t,r))&&dc(this.baseMutations,e.baseMutations,(t,r)=>_R(t,r))}},_I=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Pe(e.mutations.length===r.length);let i=function(){return lz}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var II=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var EI=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var it,De;function _z(n){switch(n){default:return re();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function hM(n){if(n===void 0)return ci("GRPC error has no .code"),F.UNKNOWN;switch(n){case it.OK:return F.OK;case it.CANCELLED:return F.CANCELLED;case it.UNKNOWN:return F.UNKNOWN;case it.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case it.INTERNAL:return F.INTERNAL;case it.UNAVAILABLE:return F.UNAVAILABLE;case it.UNAUTHENTICATED:return F.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case it.NOT_FOUND:return F.NOT_FOUND;case it.ALREADY_EXISTS:return F.ALREADY_EXISTS;case it.PERMISSION_DENIED:return F.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case it.ABORTED:return F.ABORTED;case it.OUT_OF_RANGE:return F.OUT_OF_RANGE;case it.UNIMPLEMENTED:return F.UNIMPLEMENTED;case it.DATA_LOSS:return F.DATA_LOSS;default:return re()}}(De=it||(it={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";var bR=null;function Iz(){return new TextEncoder}var Ez=new ns([4294967295,4294967295],0);function DR(n){let e=Iz().encode(n),t=new L_;return t.update(e),new Uint8Array(t.digest())}function TR(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ns([t,r],0),new ns([i,s],0)]}var bI=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new lo(`Invalid padding: ${t}`);if(r<0)throw new lo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new lo(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new lo(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=ns.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(ns.fromNumber(r)));return i.compare(Ez)===1&&(i=new ns([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=DR(e),[r,i]=TR(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let t=DR(e),[r,i]=TR(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},lo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Up=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,hl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ue.min(),i,new Ke(Ae),li(),Ie())}},hl=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Ie(),Ie(),Ie())}};var cc=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},Bp=class{constructor(e,t){this.targetId=e,this.me=t}},$p=class{constructor(e,t,r=Ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Hp=class{constructor(){this.fe=0,this.ge=AR(),this.pe=Ot.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ie(),t=Ie(),r=Ie();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:re()}}),new hl(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=AR()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Pe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},DI=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=li(),this.qe=CR(),this.Qe=new Ke(Ae)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:re()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let s=i.target;if(pI(s))if(r===0){let o=new X(s.path);this.Ue(t,o,Kn.newNoDocument(o,ue.min()))}else Pe(r===1);else{let o=this.Ye(t);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,l)}bR?.et(function(p,y,w,_,M){var O,N,L,W,B,H;let le={localCacheCount:p,existenceFilterCount:y.count,databaseId:w.database,projectId:w.projectId},J=y.unchangedNames;return J&&(le.bloomFilter={applied:M===0,hashCount:(O=J?.hashCount)!==null&&O!==void 0?O:0,bitmapLength:(W=(L=(N=J?.bits)===null||N===void 0?void 0:N.bitmap)===null||L===void 0?void 0:L.length)!==null&&W!==void 0?W:0,padding:(H=(B=J?.bits)===null||B===void 0?void 0:B.padding)!==null&&H!==void 0?H:0,mightContain:C=>{var E;return(E=_?.mightContain(C))!==null&&E!==void 0&&E}}),le}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,a;try{o=is(r).toUint8Array()}catch(u){if(u instanceof Fp)return lc("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new bI(o,i,s)}catch(u){return lc(u instanceof lo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&pI(a.target)){let u=new X(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Kn.newNoDocument(u,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let r=Ie();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Up(e,t,this.Qe,this.ke,r);return this.ke=li(),this.qe=CR(),this.Qe=new Ke(Ae),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Hp,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Pt(Ae),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||Q("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Hp),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function CR(){return new Ke(X.comparator)}function AR(){return new Ke(X.comparator)}var bz={asc:"ASCENDING",desc:"DESCENDING"},Dz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tz={and:"AND",or:"OR"},TI=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function CI(n,e){return n.useProto3Json||hg(e)?e:{value:e}}function zp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fM(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Cz(n,e){return zp(n,e.toTimestamp())}function Ir(n){return Pe(!!n),ue.fromTimestamp(function(t){let r=ui(t);return new Ct(r.seconds,r.nanos)}(n))}function PE(n,e){return AI(n,e).canonicalString()}function AI(n,e){let t=function(i){return new He(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function pM(n){let e=He.fromString(n);return Pe(wM(e)),e}function SI(n,e){return PE(n.databaseId,e.path)}function H_(n,e){let t=pM(e);if(t.get(1)!==n.databaseId.projectId)throw new G(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new G(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new X(mM(t))}function gM(n,e){return PE(n.databaseId,e)}function Az(n){let e=pM(n);return e.length===4?He.emptyPath():mM(e)}function RI(n){return new He(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function mM(n){return Pe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function SR(n,e,t){return{name:SI(n,e),fields:t.value.mapValue.fields}}function Sz(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:re()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,p){return l.useProto3Json?(Pe(p===void 0||typeof p=="string"),Ot.fromBase64String(p||"")):(Pe(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Ot.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let p=l.code===void 0?F.UNKNOWN:hM(l.code);return new G(p,l.message||"")}(o);t=new $p(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=H_(n,r.document.name),s=Ir(r.document.updateTime),o=r.document.createTime?Ir(r.document.createTime):ue.min(),a=new un({mapValue:{fields:r.document.fields}}),u=Kn.newFoundDocument(i,s,o,a),l=r.targetIds||[],p=r.removedTargetIds||[];t=new cc(l,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=H_(n,r.document),s=r.readTime?Ir(r.readTime):ue.min(),o=Kn.newNoDocument(i,s),a=r.removedTargetIds||[];t=new cc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=H_(n,r.document),s=r.removedTargetIds||[];t=new cc([],s,i,null)}else{if(!("filter"in e))return re();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new EI(i,s),a=r.targetId;t=new Bp(a,o)}}return t}function Rz(n,e){let t;if(e instanceof wo)t={update:SR(n,e.key,e.value)};else if(e instanceof jp)t={delete:SI(n,e.key)};else if(e instanceof br)t={update:SR(n,e.key,e.data),updateMask:Vz(e.fieldMask)};else{if(!(e instanceof vI))return re();t={verify:SI(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof yc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof yo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof vo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof vc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw re()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Cz(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:re()}(n,e.precondition)),t}function Mz(n,e){return n&&n.length>0?(Pe(e!==void 0),n.map(t=>function(i,s){let o=i.updateTime?Ir(i.updateTime):Ir(s);return o.isEqual(ue.min())&&(o=Ir(s)),new yI(o,i.transformResults||[])}(t,e))):[]}function xz(n,e){return{documents:[gM(n,e.path)]}}function Nz(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=gM(n,i);let s=function(l){if(l.length!==0)return vM(Qn.create(l,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(p=>function(w){return{field:sc(w.field),direction:kz(w.dir)}}(p))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=CI(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:i}}function Pz(n){let e=Az(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Pe(r===1);let p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];t.where&&(s=function(y){let w=yM(y);return w instanceof Qn&&QR(w)?w.getFilters():[w]}(t.where));let o=[];t.orderBy&&(o=function(y){return y.map(w=>function(M){return new gc(oc(M.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(w))}(t.orderBy));let a=null;t.limit&&(a=function(y){let w;return w=typeof y=="object"?y.value:y,hg(w)?null:w}(t.limit));let u=null;t.startAt&&(u=function(y){let w=!!y.before,_=y.values||[];return new pc(_,w)}(t.startAt));let l=null;return t.endAt&&(l=function(y){let w=!y.before,_=y.values||[];return new pc(_,w)}(t.endAt)),sz(e,i,o,s,a,"F",u,l)}function Oz(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function yM(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=oc(t.unaryFilter.field);return ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=oc(t.unaryFilter.field);return ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=oc(t.unaryFilter.field);return ot.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=oc(t.unaryFilter.field);return ot.create(o,"!=",{nullValue:"NULL_VALUE"});default:return re()}}(n):n.fieldFilter!==void 0?function(t){return ot.create(oc(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return re()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Qn.create(t.compositeFilter.filters.map(r=>yM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return re()}}(t.compositeFilter.op))}(n):re()}function kz(n){return bz[n]}function Fz(n){return Dz[n]}function Lz(n){return Tz[n]}function sc(n){return{fieldPath:n.canonicalString()}}function oc(n){return ln.fromServerFormat(n.fieldPath)}function vM(n){return n instanceof ot?function(t){if(t.op==="=="){if(pR(t.value))return{unaryFilter:{field:sc(t.field),op:"IS_NAN"}};if(fR(t.value))return{unaryFilter:{field:sc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(pR(t.value))return{unaryFilter:{field:sc(t.field),op:"IS_NOT_NAN"}};if(fR(t.value))return{unaryFilter:{field:sc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sc(t.field),op:Fz(t.op),value:t.value}}}(n):n instanceof Qn?function(t){let r=t.getFilters().map(i=>vM(i));return r.length===1?r[0]:{compositeFilter:{op:Lz(t.op),filters:r}}}(n):re()}function Vz(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function wM(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var fl=class n{constructor(e,t,r,i,s=ue.min(),o=ue.min(),a=Ot.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var MI=class{constructor(e){this.ct=e}};function jz(n){let e=Pz({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?mI(e,e.limit,"L"):e}var qp=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At($e(e.integerValue));else if("doubleValue"in e){let r=$e(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),ul(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=ui(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(is(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?GR(e)?this.dt(t,Number.MAX_SAFE_INTEGER):qR(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):re()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let s=e.fields||{};this.dt(t,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At($e(a)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),X.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};qp.vt=new qp;var xI=class{constructor(){this.un=new NI}addToCollectionParentIndex(e,t){return this.un.add(t),j.resolve()}getCollectionParents(e,t){return j.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return j.resolve()}deleteFieldIndex(e,t){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,t){return j.resolve()}getDocumentsMatchingTarget(e,t){return j.resolve(null)}getIndexType(e,t){return j.resolve(0)}getFieldIndexes(e,t){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,t){return j.resolve(po.min())}getMinOffsetFromCollectionGroup(e,t){return j.resolve(po.min())}updateCollectionGroup(e,t,r){return j.resolve()}updateIndexEntries(e,t){return j.resolve()}},NI=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Pt(He.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pt(He.comparator)).toArray()}};var WQ=new Uint8Array(0);var yr=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};yr.DEFAULT_COLLECTION_PERCENTILE=10,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yr.DEFAULT=new yr(41943040,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yr.DISABLED=new yr(-1,0,0);var pl=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var PI=class{constructor(){this.changes=new ss(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?j.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var OI=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var kI=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&cl(r.mutation,i,Rn.empty(),Ct.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ie()){let i=uo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=il();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=uo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ie()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=li(),o=al(),a=function(){return al()}();return t.forEach((u,l)=>{let p=r.get(l.key);i.has(l.key)&&(p===void 0||p.mutation instanceof br)?s=s.insert(l.key,l):p!==void 0?(o.set(l.key,p.mutation.getFieldMask()),cl(p.mutation,l,p.mutation.getFieldMask(),Ct.now())):o.set(l.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,p)=>o.set(l,p)),t.forEach((l,p)=>{var y;return a.set(l,new OI(p,(y=o.get(l))!==null&&y!==void 0?y:null))}),a))}recalculateAndSaveOverlays(e,t){let r=al(),i=new Ke((o,a)=>o-a),s=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let p=r.get(u)||Rn.empty();p=a.applyToLocalView(l,p),r.set(u,p);let y=(i.get(a.batchId)||Ie()).add(u);i=i.insert(a.batchId,y)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,p=u.value,y=iM();p.forEach(w=>{if(!s.has(w)){let _=lM(t.get(w),r.get(w));_!==null&&y.set(w,_),s=s.add(w)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,y))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return X.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):XR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):j.resolve(uo()),a=-1,u=s;return o.next(l=>j.forEach(l,(p,y)=>(a<y.largestBatchId&&(a=y.largestBatchId),s.get(p)?j.resolve():this.remoteDocumentCache.getEntry(e,p).next(w=>{u=u.insert(p,w)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,Ie())).next(p=>({batchId:a,changes:rM(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new X(t)).next(r=>{let i=il();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=il();return this.indexManager.getCollectionParents(e,s).next(a=>j.forEach(a,u=>{let l=function(y,w){return new mo(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(p=>{p.forEach((y,w)=>{o=o.insert(y,w)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((u,l)=>{let p=l.getKey();o.get(p)===null&&(o=o.insert(p,Kn.newInvalidDocument(p)))});let a=il();return o.forEach((u,l)=>{let p=s.get(u);p!==void 0&&cl(p.mutation,l,Rn.empty(),Ct.now()),pg(t,l)&&(a=a.insert(u,l))}),a})}};var FI=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return j.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Ir(i.createTime)}}(t)),j.resolve()}getNamedQuery(e,t){return j.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:jz(i.bundledQuery),readTime:Ir(i.readTime)}}(t)),j.resolve()}};var LI=class{constructor(){this.overlays=new Ke(X.comparator),this.Ir=new Map}getOverlay(e,t){return j.resolve(this.overlays.get(t))}getOverlays(e,t){let r=uo();return j.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),j.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),j.resolve()}getOverlaysForCollection(e,t,r){let i=uo(),s=t.length+1,o=new X(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return j.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Ke((l,p)=>l-p),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let p=s.get(l.largestBatchId);p===null&&(p=uo(),s=s.insert(l.largestBatchId,p)),p.set(l.getKey(),l)}}let a=uo(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,p)=>a.set(l,p)),!(a.size()>=i)););return j.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new II(t,r));let s=this.Ir.get(t);s===void 0&&(s=Ie(),this.Ir.set(t,s)),this.Ir.set(t,s.add(r.key))}};var VI=class{constructor(){this.sessionToken=Ot.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,j.resolve()}};var gl=class{constructor(){this.Tr=new Pt(st.Er),this.dr=new Pt(st.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new st(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new st(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new X(new He([])),r=new st(t,e),i=new st(t,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new X(new He([])),r=new st(t,e),i=new st(t,e+1),s=Ie();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new st(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},st=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return X.comparator(e.key,t.key)||Ae(e.wr,t.wr)}static Ar(e,t){return Ae(e.wr,t.wr)||X.comparator(e.key,t.key)}};var jI=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Pt(st.Er)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new wI(s,t,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new st(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,t){return j.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),s=i<0?0:i;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new st(t,0),i=new st(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Pt(Ae);return t.forEach(i=>{let s=new st(i,0),o=new st(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),j.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;X.isDocumentKey(s)||(s=s.child(""));let o=new st(new X(s),0),a=new Pt(Ae);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),j.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Pe(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return j.forEach(t.mutations,i=>{let s=new st(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new st(t,0),i=this.br.firstAfterOrEqual(r);return j.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var UI=class{constructor(e){this.Mr=e,this.docs=function(){return new Ke(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return j.resolve(r?r.document.mutableCopy():Kn.newInvalidDocument(t))}getEntries(e,t){let r=li();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Kn.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=li(),o=t.path,a=new X(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:p}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||KH(WH(p),r)<=0||(i.has(p.key)||pg(t,p))&&(s=s.insert(p.key,p.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,t,r,i){re()}Or(e,t){return j.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new BI(this)}getSize(e){return j.resolve(this.size)}},BI=class extends PI{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),j.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var $I=class{constructor(e){this.persistence=e,this.Nr=new ss(t=>RE(t),ME),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Lr=0,this.Br=new gl,this.targetCount=0,this.kr=pl.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),j.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new pl(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,j.resolve()}updateTargetData(e,t){return this.Kn(t),j.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),j.waitFor(s).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return j.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),j.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),j.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return j.resolve(r)}containsKey(e,t){return j.resolve(this.Br.containsKey(t))}};var HI=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new HR(0),this.Kr=!1,this.Kr=!0,this.$r=new VI,this.referenceDelegate=e(this),this.Ur=new $I(this),this.indexManager=new xI,this.remoteDocumentCache=function(i){return new UI(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new MI(t),this.Gr=new FI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new LI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new jI(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){Q("MemoryPersistence","Starting transaction:",e);let i=new zI(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,t){return j.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},zI=class extends tI{constructor(e){super(),this.currentSequenceNumber=e}},qI=class n{constructor(e){this.persistence=e,this.Jr=new gl,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw re()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),j.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),j.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.Xr,r=>{let i=X.fromPath(r);return this.ei(e,i).next(s=>{s||t.removeEntry(i,ue.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return j.or([()=>j.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var GI=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=Ie(),i=Ie();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var WI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var KI=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return qA()?8:YH(mt())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new WI;return this.Xi(e,t,o).next(a=>{if(s.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>s.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(rl()<=_e.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",ic(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),j.resolve()):(rl()<=_e.DEBUG&&Q("QueryEngine","Query:",ic(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(rl()<=_e.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",ic(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_r(t))):j.resolve())}Yi(e,t){if(vR(t))return j.resolve(null);let r=_r(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=mI(t,null,"F"),r=_r(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Ie(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(t,a);return this.ns(t,l,o,u.readTime)?this.Yi(e,mI(t,null,"F")):this.rs(e,l,t,u)}))})))}Zi(e,t,r,i){return vR(t)||i.isEqual(ue.min())?j.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(t,s);return this.ns(t,o,r,i)?j.resolve(null):(rl()<=_e.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ic(t)),this.rs(e,o,t,GH(i,-1)).next(a=>a))})}ts(e,t){let r=new Pt(tM(e));return t.forEach((i,s)=>{pg(e,s)&&(r=r.add(s))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,r){return rl()<=_e.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",ic(t)),this.Ji.getDocumentsMatchingQuery(e,t,po.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var QI=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Ke(Ae),this._s=new ss(s=>RE(s),ME),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function Uz(n,e,t,r){return new QI(n,e,t,r)}function _M(n,e){return T(this,null,function*(){let t=oe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=Ie();for(let l of i){o.push(l.batchId);for(let p of l.mutations)u=u.add(p.key)}for(let l of s){a.push(l.batchId);for(let p of l.mutations)u=u.add(p.key)}return t.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function Bz(n,e){let t=oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,p){let y=l.batch,w=y.keys(),_=j.resolve();return w.forEach(M=>{_=_.next(()=>p.getEntry(u,M)).next(O=>{let N=l.docVersions.get(M);Pe(N!==null),O.version.compareTo(N)<0&&(y.applyToRemoteDocument(O,l),O.isValidDocument()&&(O.setReadTime(l.commitVersion),p.addEntry(O)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(u,y))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Ie();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function IM(n){let e=oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function $z(n,e){let t=oe(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((p,y)=>{let w=i.get(y);if(!w)return;a.push(t.Ur.removeMatchingKeys(s,p.removedDocuments,y).next(()=>t.Ur.addMatchingKeys(s,p.addedDocuments,y)));let _=w.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(y)!==null?_=_.withResumeToken(Ot.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,r)),i=i.insert(y,_),function(O,N,L){return O.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(w,_,p)&&a.push(t.Ur.updateTargetData(s,_))});let u=li(),l=Ie();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,p))}),a.push(Hz(s,o,e.documentUpdates).next(p=>{u=p.Ps,l=p.Is})),!r.isEqual(ue.min())){let p=t.Ur.getLastRemoteSnapshotVersion(s).next(y=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(p)}return j.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(t.os=i,s))}function Hz(n,e,t){let r=Ie(),i=Ie();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=li();return t.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ue.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):Q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function zz(n,e){let t=oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qz(n,e){let t=oe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(s=>s?(i=s,j.resolve(i)):t.Ur.allocateTargetId(r).next(o=>(i=new fl(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function YI(n,e,t){return T(this,null,function*(){let r=oe(n),i=r.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!bl(o))throw o;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function RR(n,e,t){let r=oe(n),i=ue.min(),s=Ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,p){let y=oe(u),w=y._s.get(p);return w!==void 0?j.resolve(y.os.get(w)):y.Ur.getTargetData(l,p)}(r,o,_r(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?i:ue.min(),t?s:Ie())).next(a=>(Gz(r,az(e),a),{documents:a,Ts:s})))}function Gz(n,e,t){let r=n.us.get(e)||ue.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.us.set(e,r)}var Gp=class{constructor(){this.activeTargetIds=fz()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var ZI=class{constructor(){this.so=new Gp,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Gp,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var JI=class{_o(e){}shutdown(){}};var Wp=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Rp=null;function z_(){return Rp===null?Rp=function(){return 268435456+Math.round(2147483648*Math.random())}():Rp++,"0x"+Rp.toString(16)}var Wz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var XI=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Nt="WebChannelConnection",eE=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,r,i,s,o){let a=z_(),u=this.xo(t,r.toUriEncodedString());Q("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(t,u,l,i).then(p=>(Q("RestConnection",`Received RPC '${t}' ${a}: `,p),p),p=>{throw lc("RestConnection",`RPC '${t}' ${a} failed with error: `,p,"url: ",u,"request:",i),p})}Lo(t,r,i,s,o,a){return this.Mo(t,r,i,s,o)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bc}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}xo(t,r){let i=Wz[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let s=z_();return new Promise((o,a)=>{let u=new V_;u.setWithCredentials(!0),u.listenOnce(j_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case nl.NO_ERROR:let p=u.getResponseJson();Q(Nt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),o(p);break;case nl.TIMEOUT:Q(Nt,`RPC '${e}' ${s} timed out`),a(new G(F.DEADLINE_EXCEEDED,"Request time out"));break;case nl.HTTP_ERROR:let y=u.getStatus();if(Q(Nt,`RPC '${e}' ${s} failed with status:`,y,"response text:",u.getResponseText()),y>0){let w=u.getResponseJson();Array.isArray(w)&&(w=w[0]);let _=w?.error;if(_&&_.status&&_.message){let M=function(N){let L=N.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(L)>=0?L:F.UNKNOWN}(_.status);a(new G(M,_.message))}else a(new G(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new G(F.UNAVAILABLE,"Connection failed."));break;default:re()}}finally{Q(Nt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);Q(Nt,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",l,r,15)})}Bo(e,t,r){let i=z_(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=$_(),a=B_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let p=s.join("");Q(Nt,`Creating RPC '${e}' stream ${i}: ${p}`,u);let y=o.createWebChannel(p,u),w=!1,_=!1,M=new XI({Io:N=>{_?Q(Nt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(w||(Q(Nt,`Opening RPC '${e}' stream ${i} transport.`),y.open(),w=!0),Q(Nt,`RPC '${e}' stream ${i} sending:`,N),y.send(N))},To:()=>y.close()}),O=(N,L,W)=>{N.listen(L,B=>{try{W(B)}catch(H){setTimeout(()=>{throw H},0)}})};return O(y,rc.EventType.OPEN,()=>{_||(Q(Nt,`RPC '${e}' stream ${i} transport opened.`),M.yo())}),O(y,rc.EventType.CLOSE,()=>{_||(_=!0,Q(Nt,`RPC '${e}' stream ${i} transport closed`),M.So())}),O(y,rc.EventType.ERROR,N=>{_||(_=!0,lc(Nt,`RPC '${e}' stream ${i} transport errored:`,N),M.So(new G(F.UNAVAILABLE,"The operation could not be completed")))}),O(y,rc.EventType.MESSAGE,N=>{var L;if(!_){let W=N.data[0];Pe(!!W);let B=W,H=B.error||((L=B[0])===null||L===void 0?void 0:L.error);if(H){Q(Nt,`RPC '${e}' stream ${i} received error:`,H);let le=H.status,J=function(b){let A=it[b];if(A!==void 0)return hM(A)}(le),C=H.message;J===void 0&&(J=F.INTERNAL,C="Unknown error status: "+le+" with message "+H.message),_=!0,M.So(new G(J,C)),y.close()}else Q(Nt,`RPC '${e}' stream ${i} received:`,W),M.bo(W)}}),O(a,U_.STAT_EVENT,N=>{N.stat===Ap.PROXY?Q(Nt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Ap.NOPROXY&&Q(Nt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{M.wo()},0),M}};function q_(){return typeof document<"u"?document:null}function gg(n){return new TI(n,!0)}var Kp=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Qp=class{constructor(e,t,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Kp(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return T(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return T(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return T(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===F.RESOURCE_EXHAUSTED?(ci(t.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new G(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>T(this,null,function*(){this.state=0,this.start()}))}I_(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},tE=class extends Qp{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=Sz(this.serializer,e),r=function(s){if(!("targetChange"in s))return ue.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?Ir(o.readTime):ue.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=RI(this.serializer),t.addTarget=function(s,o){let a,u=o.target;if(a=pI(u)?{documents:xz(s,u)}:{query:Nz(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=fM(s,o.resumeToken);let l=CI(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ue.min())>0){a.readTime=zp(s,o.snapshotVersion.toTimestamp());let l=CI(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=Oz(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=RI(this.serializer),t.removeTarget=e,this.a_(t)}},nE=class extends Qp{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,Pe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=Mz(e.writeResults,e.commitTime),r=Ir(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=RI(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>Rz(this.serializer,r))};this.a_(t)}};var rE=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new G(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,AI(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(F.UNKNOWN,s.toString())})}Lo(e,t,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,AI(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(F.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},iE=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ci(t),this.D_=!1):Q("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var sE=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>T(this,null,function*(){Eo(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),yield function(u){return T(this,null,function*(){let l=oe(u);l.L_.add(4),yield Dl(l),l.q_.set("Unknown"),l.L_.delete(4),yield mg(l)})}(this))}))}),this.q_=new iE(r,i)}};function mg(n){return T(this,null,function*(){if(Eo(n))for(let e of n.B_)yield e(!0)})}function Dl(n){return T(this,null,function*(){for(let e of n.B_)yield e(!1)})}function EM(n,e){let t=oe(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),LE(t)?FE(t):Dc(t).r_()&&kE(t,e))}function OE(n,e){let t=oe(n),r=Dc(t);t.N_.delete(e),r.r_()&&bM(t,e),t.N_.size===0&&(r.r_()?r.o_():Eo(t)&&t.q_.set("Unknown"))}function kE(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Dc(n).A_(e)}function bM(n,e){n.Q_.xe(e),Dc(n).R_(e)}function FE(n){n.Q_=new DI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Dc(n).start(),n.q_.v_()}function LE(n){return Eo(n)&&!Dc(n).n_()&&n.N_.size>0}function Eo(n){return oe(n).L_.size===0}function DM(n){n.Q_=void 0}function Kz(n){return T(this,null,function*(){n.q_.set("Online")})}function Qz(n){return T(this,null,function*(){n.N_.forEach((e,t)=>{kE(n,e)})})}function Yz(n,e){return T(this,null,function*(){DM(n),LE(n)?(n.q_.M_(e),FE(n)):n.q_.set("Unknown")})}function Zz(n,e,t){return T(this,null,function*(){if(n.q_.set("Online"),e instanceof $p&&e.state===2&&e.cause)try{yield function(i,s){return T(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Yp(n,r)}else if(e instanceof cc?n.Q_.Ke(e):e instanceof Bp?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ue.min()))try{let r=yield IM(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let p=s.N_.get(l);p&&s.N_.set(l,p.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let p=s.N_.get(u);if(!p)return;s.N_.set(u,p.withResumeToken(Ot.EMPTY_BYTE_STRING,p.snapshotVersion)),bM(s,u);let y=new fl(p.target,u,l,p.sequenceNumber);kE(s,y)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),yield Yp(n,r)}})}function Yp(n,e,t){return T(this,null,function*(){if(!bl(e))throw e;n.L_.add(1),yield Dl(n),n.q_.set("Offline"),t||(t=()=>IM(n.localStore)),n.asyncQueue.enqueueRetryable(()=>T(this,null,function*(){Q("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield mg(n)}))})}function TM(n,e){return e().catch(t=>Yp(n,t,e))}function yg(n){return T(this,null,function*(){let e=oe(n),t=os(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Jz(e);)try{let i=yield zz(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,Xz(e,i)}catch(i){yield Yp(e,i)}CM(e)&&AM(e)})}function Jz(n){return Eo(n)&&n.O_.length<10}function Xz(n,e){n.O_.push(e);let t=os(n);t.r_()&&t.V_&&t.m_(e.mutations)}function CM(n){return Eo(n)&&!os(n).n_()&&n.O_.length>0}function AM(n){os(n).start()}function eq(n){return T(this,null,function*(){os(n).p_()})}function tq(n){return T(this,null,function*(){let e=os(n);for(let t of n.O_)e.m_(t.mutations)})}function nq(n,e,t){return T(this,null,function*(){let r=n.O_.shift(),i=_I.from(r,e,t);yield TM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield yg(n)})}function rq(n,e){return T(this,null,function*(){e&&os(n).V_&&(yield function(r,i){return T(this,null,function*(){if(function(o){return _z(o)&&o!==F.ABORTED}(i.code)){let s=r.O_.shift();os(r).s_(),yield TM(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield yg(r)}})}(n,e)),CM(n)&&AM(n)})}function MR(n,e){return T(this,null,function*(){let t=oe(n);t.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");let r=Eo(t);t.L_.add(3),yield Dl(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield mg(t)})}function iq(n,e){return T(this,null,function*(){let t=oe(n);e?(t.L_.delete(2),yield mg(t)):e||(t.L_.add(2),yield Dl(t),t.q_.set("Unknown"))})}function Dc(n){return n.K_||(n.K_=function(t,r,i){let s=oe(t);return s.w_(),new tE(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:Kz.bind(null,n),Ro:Qz.bind(null,n),mo:Yz.bind(null,n),d_:Zz.bind(null,n)}),n.B_.push(e=>T(this,null,function*(){e?(n.K_.s_(),LE(n)?FE(n):n.q_.set("Unknown")):(yield n.K_.stop(),DM(n))}))),n.K_}function os(n){return n.U_||(n.U_=function(t,r,i){let s=oe(t);return s.w_(),new nE(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:eq.bind(null,n),mo:rq.bind(null,n),f_:tq.bind(null,n),g_:nq.bind(null,n)}),n.B_.push(e=>T(this,null,function*(){e?(n.U_.s_(),yield yg(n)):(yield n.U_.stop(),n.O_.length>0&&(Q("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var oE=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,a=new n(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function VE(n,e){if(ci("AsyncQueue",`${e}: ${n}`),bl(n))return new G(F.UNAVAILABLE,`${e}: ${n}`);throw n}var Zp=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||X.comparator(t.key,r.key):(t,r)=>X.comparator(t.key,r.key),this.keyedMap=il(),this.sortedSet=new Ke(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Jp=class{constructor(){this.W_=new Ke(X.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):re():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},_c=class n{constructor(e,t,r,i,s,o,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,Zp.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var aE=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},cE=class{constructor(){this.queries=xR(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=oe(t),s=i.queries;i.queries=xR(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new G(F.ABORTED,"Firestore shutting down"))}};function xR(){return new ss(n=>eM(n),fg)}function SM(n,e){return T(this,null,function*(){let t=oe(n),r=3,i=e.query,s=t.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new aE,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield t.onListen(i,!0);break;case 1:s.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){let a=VE(o,`Initialization of query '${ic(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&jE(t)})}function RM(n,e){return T(this,null,function*(){let t=oe(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function sq(n,e){let t=oe(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&jE(t)}function oq(n,e,t){let r=oe(n),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(t);r.queries.delete(e)}function jE(n){n.Y_.forEach(e=>{e.next()})}var uE,NR;(NR=uE||(uE={})).ea="default",NR.Cache="cache";var Xp=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new _c(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=_c.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==uE.Cache}};var eg=class{constructor(e){this.key=e}},tg=class{constructor(e){this.key=e}},lE=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ie(),this.mutatedKeys=Ie(),this.Aa=tM(e),this.Ra=new Zp(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new Jp,i=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,y)=>{let w=i.get(p),_=pg(this.query,y)?y:null,M=!!w&&this.mutatedKeys.has(w.key),O=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations),N=!1;w&&_?w.data.isEqual(_.data)?M!==O&&(r.track({type:3,doc:_}),N=!0):this.ga(w,_)||(r.track({type:2,doc:_}),N=!0,(u&&this.Aa(_,u)>0||l&&this.Aa(_,l)<0)&&(a=!0)):!w&&_?(r.track({type:0,doc:_}),N=!0):w&&!_&&(r.track({type:1,doc:w}),N=!0,(u||l)&&(a=!0)),N&&(_?(o=o.add(_),s=O?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((p,y)=>function(_,M){let O=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re()}};return O(_)-O(M)}(p.type,y.type)||this.Aa(p.doc,y.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new _c(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Jp,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Ie(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new tg(r))}),this.da.forEach(r=>{e.has(r)||t.push(new eg(r))}),t}ba(e){this.Ta=e.Ts,this.da=Ie();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return _c.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},dE=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},hE=class{constructor(e){this.key=e,this.va=!1}},fE=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ss(a=>eM(a),fg),this.Ma=new Map,this.xa=new Set,this.Oa=new Ke(X.comparator),this.Na=new Map,this.La=new gl,this.Ba={},this.ka=new Map,this.qa=pl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function aq(n,e,t=!0){return T(this,null,function*(){let r=kM(n),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield MM(r,e,t,!0),i})}function cq(n,e){return T(this,null,function*(){let t=kM(n);yield MM(t,e,!0,!1)})}function MM(n,e,t,r){return T(this,null,function*(){let i=yield qz(n.localStore,_r(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),a;return r&&(a=yield uq(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&EM(n.remoteStore,i),a})}function uq(n,e,t,r,i){return T(this,null,function*(){n.Ka=(y,w,_)=>function(O,N,L,W){return T(this,null,function*(){let B=N.view.ma(L);B.ns&&(B=yield RR(O.localStore,N.query,!1).then(({documents:C})=>N.view.ma(C,B)));let H=W&&W.targetChanges.get(N.targetId),le=W&&W.targetMismatches.get(N.targetId)!=null,J=N.view.applyChanges(B,O.isPrimaryClient,H,le);return OR(O,N.targetId,J.wa),J.snapshot})}(n,y,w,_);let s=yield RR(n.localStore,e,!0),o=new lE(e,s.Ts),a=o.ma(s.documents),u=hl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=o.applyChanges(a,n.isPrimaryClient,u);OR(n,t,l.wa);let p=new dE(e,t,o);return n.Fa.set(e,p),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),l.snapshot})}function lq(n,e,t){return T(this,null,function*(){let r=oe(n),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!fg(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield YI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&OE(r.remoteStore,i.targetId),pE(r,i.targetId)}).catch(El))):(pE(r,i.targetId),yield YI(r.localStore,i.targetId,!0))})}function dq(n,e){return T(this,null,function*(){let t=oe(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),OE(t.remoteStore,r.targetId))})}function hq(n,e,t){return T(this,null,function*(){let r=wq(n);try{let i=yield function(o,a){let u=oe(o),l=Ct.now(),p=a.reduce((_,M)=>_.add(M.key),Ie()),y,w;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let M=li(),O=Ie();return u.cs.getEntries(_,p).next(N=>{M=N,M.forEach((L,W)=>{W.isValidDocument()||(O=O.add(L))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,M)).next(N=>{y=N;let L=[];for(let W of a){let B=wz(W,y.get(W.key).overlayedDocument);B!=null&&L.push(new br(W.key,B,WR(B.value.mapValue),ai.exists(!0)))}return u.mutationQueue.addMutationBatch(_,l,L,a)}).next(N=>{w=N;let L=N.applyToLocalDocumentSet(y,O);return u.documentOverlayCache.saveOverlays(_,N.batchId,L)})}).then(()=>({batchId:w.batchId,changes:rM(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Ke(Ae)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,t),yield Tl(r,i.changes),yield yg(r.remoteStore)}catch(i){let s=VE(i,"Failed to persist write");t.reject(s)}})}function xM(n,e){return T(this,null,function*(){let t=oe(n);try{let r=yield $z(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.Na.get(s);o&&(Pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Pe(o.va):i.removedDocuments.size>0&&(Pe(o.va),o.va=!1))}),yield Tl(t,r,e)}catch(r){yield El(r)}})}function PR(n,e,t){let r=oe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=oe(o);u.onlineState=a;let l=!1;u.queries.forEach((p,y)=>{for(let w of y.j_)w.Z_(a)&&(l=!0)}),l&&jE(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function fq(n,e,t){return T(this,null,function*(){let r=oe(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Ke(X.comparator);o=o.insert(s,Kn.newNoDocument(s,ue.min()));let a=Ie().add(s),u=new Up(ue.min(),new Map,new Ke(Ae),o,a);yield xM(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),UE(r)}else yield YI(r.localStore,e,!1).then(()=>pE(r,e,t)).catch(El)})}function pq(n,e){return T(this,null,function*(){let t=oe(n),r=e.batch.batchId;try{let i=yield Bz(t.localStore,e);PM(t,r,null),NM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Tl(t,i)}catch(i){yield El(i)}})}function gq(n,e,t){return T(this,null,function*(){let r=oe(n);try{let i=yield function(o,a){let u=oe(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let p;return u.mutationQueue.lookupMutationBatch(l,a).next(y=>(Pe(y!==null),p=y.keys(),u.mutationQueue.removeMutationBatch(l,y))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,p,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,p)).next(()=>u.localDocuments.getDocuments(l,p))})}(r.localStore,e);PM(r,e,t),NM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Tl(r,i)}catch(i){yield El(i)}})}function NM(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function PM(n,e,t){let r=oe(n),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function pE(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||OM(n,r)})}function OM(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(OE(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),UE(n))}function OR(n,e,t){for(let r of t)r instanceof eg?(n.La.addReference(r.key,e),mq(n,r)):r instanceof tg?(Q("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||OM(n,r.key)):re()}function mq(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(Q("SyncEngine","New document in limbo: "+t),n.xa.add(r),UE(n))}function UE(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new X(He.fromString(e)),r=n.qa.next();n.Na.set(r,new hE(t)),n.Oa=n.Oa.insert(t,r),EM(n.remoteStore,new fl(_r(xE(t.path)),r,"TargetPurposeLimboResolution",HR.oe))}}function Tl(n,e,t){return T(this,null,function*(){let r=oe(n),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,t).then(l=>{var p;if((l||t)&&r.isPrimaryClient){let y=l?!l.fromCache:(p=t?.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,y?"current":"not-current")}if(l){i.push(l);let y=GI.Wi(u.targetId,l);s.push(y)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return T(this,null,function*(){let p=oe(u);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>j.forEach(l,w=>j.forEach(w.$i,_=>p.persistence.referenceDelegate.addReference(y,w.targetId,_)).next(()=>j.forEach(w.Ui,_=>p.persistence.referenceDelegate.removeReference(y,w.targetId,_)))))}catch(y){if(!bl(y))throw y;Q("LocalStore","Failed to update sequence numbers: "+y)}for(let y of l){let w=y.targetId;if(!y.fromCache){let _=p.os.get(w),M=_.snapshotVersion,O=_.withLastLimboFreeSnapshotVersion(M);p.os=p.os.insert(w,O)}}})}(r.localStore,s))})}function yq(n,e){return T(this,null,function*(){let t=oe(n);if(!t.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());let r=yield _M(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new G(F.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Tl(t,r.hs)}})}function vq(n,e){let t=oe(n),r=t.Na.get(e);if(r&&r.va)return Ie().add(r.key);{let i=Ie(),s=t.Ma.get(e);if(!s)return i;for(let o of s){let a=t.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function kM(n){let e=oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=xM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fq.bind(null,e),e.Ca.d_=sq.bind(null,e.eventManager),e.Ca.$a=oq.bind(null,e.eventManager),e}function wq(n){let e=oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gq.bind(null,e),e}var kR=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return T(this,null,function*(){this.serializer=gg(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return Uz(this.persistence,new KI,t.initialUser,this.serializer)}Ga(t){return new HI(qI.Zr,this.serializer)}Wa(t){return new ZI}terminate(){return T(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var _q=(()=>{class n{initialize(t,r){return T(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>PR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=yq.bind(null,this.syncEngine),yield iq(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new cE}()}createDatastore(t){let r=gg(t.databaseInfo.databaseId),i=function(o){return new eE(o)}(t.databaseInfo);return function(o,a,u,l){return new rE(o,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,s,o,a,u){return new sE(i,s,o,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>PR(this.syncEngine,r,0),function(){return Wp.D()?new Wp:new JI}())}createSyncEngine(t,r){return function(s,o,a,u,l,p,y){let w=new fE(s,o,a,u,l,p);return y&&(w.Qa=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return T(this,null,function*(){var t,r;yield function(s){return T(this,null,function*(){let o=oe(s);Q("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Dl(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var ng=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ci("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var gE=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=yt.UNAUTHENTICATED,this.clientId=Pp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>T(this,null,function*(){Q("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(Q("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>T(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=VE(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function G_(n,e){return T(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>T(this,null,function*(){r.isEqual(i)||(yield _M(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function FR(n,e){return T(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Iq(n);Q("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>MR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>MR(e.remoteStore,i)),n._onlineComponents=e})}function Iq(n){return T(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{yield G_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;lc("Error using user provided cache. Falling back to memory cache: "+t),yield G_(n,new kR)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),yield G_(n,new kR);return n._offlineComponents})}function FM(n){return T(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),yield FR(n,n._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),yield FR(n,new _q))),n._onlineComponents})}function Eq(n){return FM(n).then(e=>e.syncEngine)}function mE(n){return T(this,null,function*(){let e=yield FM(n),t=e.eventManager;return t.onListen=aq.bind(null,e.syncEngine),t.onUnlisten=lq.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=cq.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=dq.bind(null,e.syncEngine),t})}function bq(n,e,t={}){let r=new vr;return n.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return function(s,o,a,u,l){let p=new ng({next:w=>{p.Za(),o.enqueueAndForget(()=>RM(s,y)),w.fromCache&&u.source==="server"?l.reject(new G(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(w)},error:w=>l.reject(w)}),y=new Xp(a,p,{includeMetadataChanges:!0,_a:!0});return SM(s,y)}(yield mE(n),n.asyncQueue,e,t,r)})),r.promise}function LM(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var LR=new Map;function VM(n,e,t){if(!t)throw new G(F.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Dq(n,e,t,r){if(e===!0&&r===!0)throw new G(F.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function VR(n){if(!X.isDocumentKey(n))throw new G(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function jR(n){if(X.isDocumentKey(n))throw new G(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":re()}function Wn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new G(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=vg(n);throw new G(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var rg=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Dq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ic=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rg(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new W_;switch(r.type){case"firstParty":return new Z_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return T(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=LR.get(t);r&&(Q("ComponentProvider","Removing Datastore"),LR.delete(t),r.terminate())}(this),Promise.resolve()}};function jM(n,e,t,r={}){var i;let s=(n=Wn(n,Ic))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&lc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=yt.MOCK_USER;else{a=jA(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new G(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new yt(l)}n._authCredentials=new K_(new Np(a,u))}}var _o=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},zt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},rs=class n extends _o{constructor(e,t,r){super(e,t,xE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new X(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function UM(n,e,...t){if(n=We(n),VM("collection","path",e),n instanceof Ic){let r=He.fromString(e,...t);return jR(r),new rs(n,null,r)}{if(!(n instanceof zt||n instanceof rs))throw new G(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(He.fromString(e,...t));return jR(r),new rs(n.firestore,null,r)}}function BE(n,e,...t){if(n=We(n),arguments.length===1&&(e=Pp.newId()),VM("doc","path",e),n instanceof Ic){let r=He.fromString(e,...t);return VR(r),new zt(n,null,new X(r))}{if(!(n instanceof zt||n instanceof rs))throw new G(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(He.fromString(e,...t));return VR(r),new zt(n.firestore,n instanceof rs?n.converter:null,new X(r))}}var ig=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Kp(this,"async_queue_retry"),this.Vu=()=>{let r=q_();r&&Q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=q_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=q_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new vr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return T(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!bl(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ci("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=oE.createAndSchedule(this,e,t,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&re()}verifyOperationInProgress(){}wu(){return T(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function UR(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}var di=class extends Ic{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new ig,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return T(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new ig(e),this._firestoreClient=void 0,yield e}})}};function BM(n,e){let t=typeof n=="object"?n:Za(),r=typeof n=="string"?n:e||"(default)",i=qu(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=VA("firestore");s&&jM(i,...s)}return i}function $E(n){if(n._terminated)throw new G(F.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Tq(n),n._firestoreClient}function Tq(n){var e,t,r;let i=n._freezeSettings(),s=function(a,u,l,p){return new nI(a,u,l,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,LM(p.experimentalLongPollingOptions),p.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new gE(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var ml=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Ot.fromBase64String(e))}catch(t){throw new G(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ec=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new G(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var yl=class{constructor(e){this._methodName=e}};var vl=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new G(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new G(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}};var wl=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var Cq=/^__.*__$/,yE=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new br(e,this.data,this.fieldMask,t,this.fieldTransforms):new wo(e,this.data,t,this.fieldTransforms)}},sg=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new br(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function $M(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re()}}var vE=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ag(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if($M(this.Cu)&&Cq.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},wE=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||gg(e)}Qu(e,t,r,i=!1){return new vE({Cu:e,methodName:t,qu:r,path:ln.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function wg(n){let e=n._freezeSettings(),t=gg(n._databaseId);return new wE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function HM(n,e,t,r,i,s={}){let o=n.Qu(s.merge||s.mergeFields?2:0,e,t,i);HE("Data must be an object, but it was:",o,r);let a=zM(r,o),u,l;if(s.merge)u=new Rn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let p=[];for(let y of s.mergeFields){let w=_E(e,y,t);if(!o.contains(w))throw new G(F.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);GM(p,w)||p.push(w)}u=new Rn(p),l=o.fieldTransforms.filter(y=>u.covers(y.field))}else u=null,l=o.fieldTransforms;return new yE(new un(a),u,l)}var og=class n extends yl{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function Aq(n,e,t,r){let i=n.Qu(1,e,t);HE("Data must be an object, but it was:",i,r);let s=[],o=un.empty();Io(r,(u,l)=>{let p=zE(e,u,t);l=We(l);let y=i.Nu(p);if(l instanceof og)s.push(p);else{let w=Cl(l,y);w!=null&&(s.push(p),o.set(p,w))}});let a=new Rn(s);return new sg(o,a,i.fieldTransforms)}function Sq(n,e,t,r,i,s){let o=n.Qu(1,e,t),a=[_E(e,r,t)],u=[i];if(s.length%2!=0)throw new G(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<s.length;w+=2)a.push(_E(e,s[w])),u.push(s[w+1]);let l=[],p=un.empty();for(let w=a.length-1;w>=0;--w)if(!GM(l,a[w])){let _=a[w],M=u[w];M=We(M);let O=o.Nu(_);if(M instanceof og)l.push(_);else{let N=Cl(M,O);N!=null&&(l.push(_),p.set(_,N))}}let y=new Rn(l);return new sg(p,y,o.fieldTransforms)}function Rq(n,e,t,r=!1){return Cl(t,n.Qu(r?4:3,e))}function Cl(n,e){if(qM(n=We(n)))return HE("Unsupported field value:",e,n),zM(n,e);if(n instanceof yl)return function(r,i){if(!$M(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=Cl(a,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=We(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Ct.fromDate(r);return{timestampValue:zp(i.serializer,s)}}if(r instanceof Ct){let s=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zp(i.serializer,s)}}if(r instanceof vl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ml)return{bytesValue:fM(i.serializer,r._byteString)};if(r instanceof zt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:PE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof wl)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return NE(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${vg(r)}`)}(n,e)}function zM(n,e){let t={};return zR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Io(n,(r,i)=>{let s=Cl(i,e.Mu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function qM(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ct||n instanceof vl||n instanceof ml||n instanceof zt||n instanceof yl||n instanceof wl)}function HE(n,e,t){if(!qM(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=vg(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function _E(n,e,t){if((e=We(e))instanceof Ec)return e._internalPath;if(typeof e=="string")return zE(n,e);throw ag("Field path arguments must be of type string or ",n,!1,void 0,t)}var Mq=new RegExp("[~\\*/\\[\\]]");function zE(n,e,t){if(e.search(Mq)>=0)throw ag(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ec(...e.split("."))._internalPath}catch{throw ag(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ag(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new G(F.INVALID_ARGUMENT,a+n+u)}function GM(n,e){return n.some(t=>t.isEqual(e))}var cg=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new IE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(qE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},IE=class extends cg{data(){return super.data()}};function qE(n,e){return typeof e=="string"?zE(n,e):e instanceof Ec?e._internalPath:e._delegate._internalPath}function WM(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new G(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var _l=class{},EE=class extends _l{};function Be(n,e,...t){let r=[];e instanceof _l&&r.push(e),r=r.concat(t),function(s){let o=s.filter(u=>u instanceof bE).length,a=s.filter(u=>u instanceof ug).length;if(o>1||o>0&&a>0)throw new G(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var ug=class n extends EE{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return KM(e._query,t),new _o(e.firestore,e.converter,gI(e._query,t))}_parse(e){let t=wg(e.firestore);return function(s,o,a,u,l,p,y){let w;if(l.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new G(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){$R(y,p);let _=[];for(let M of y)_.push(BR(u,s,M));w={arrayValue:{values:_}}}else w=BR(u,s,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||$R(y,p),w=Rq(a,o,y,p==="in"||p==="not-in");return ot.create(l,p,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function Jt(n,e,t){let r=e,i=qE("where",n);return ug._create(i,r,t)}var bE=class n extends _l{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Qn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)KM(o,u),o=gI(o,u)}(e._query,t),new _o(e.firestore,e.converter,gI(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function BR(n,e,t){if(typeof(t=We(t))=="string"){if(t==="")throw new G(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XR(e)&&t.indexOf("/")!==-1)throw new G(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(He.fromString(t));if(!X.isDocumentKey(r))throw new G(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hR(n,new X(r))}if(t instanceof zt)return hR(n,t._key);throw new G(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vg(t)}.`)}function $R(n,e){if(!Array.isArray(n)||n.length===0)throw new G(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KM(n,e){let t=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new G(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var DE=class{convertValue(e,t="none"){switch(go(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw re()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Io(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>$e(o.doubleValue));return new wl(s)}convertGeoPoint(e){return new vl($e(e.latitude),$e(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=AE(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ll(e));default:return null}}convertTimestamp(e){let t=ui(e);return new Ct(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=He.fromString(e);Pe(wM(r));let i=new Lp(r.get(1),r.get(3)),s=new X(r.popFirst(5));return i.isEqual(t)||ci(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function QM(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var ho=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},lg=class extends cg{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(qE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},uc=class extends lg{data(e={}){return super.data(e)}},dg=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ho(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new uc(this._firestore,this._userDataWriter,r.key,r,new ho(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new G(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new uc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ho(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new uc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ho(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,p=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),p=o.indexOf(a.doc.key)),{type:xq(a.type),doc:u,oldIndex:l,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function xq(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re()}}var Il=class extends DE{constructor(e){super(),this.firestore=e}convertBytes(e){return new ml(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,t)}};function hi(n){n=Wn(n,_o);let e=Wn(n.firestore,di),t=$E(e),r=new Il(e);return WM(n._query),bq(t,n._query).then(i=>new dg(e,r,n,i))}function YM(n,e,t){n=Wn(n,zt);let r=Wn(n.firestore,di),i=QM(n.converter,e,t);return WE(r,[HM(wg(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,ai.none())])}function fi(n,e,t,...r){n=Wn(n,zt);let i=Wn(n.firestore,di),s=wg(i),o;return o=typeof(e=We(e))=="string"||e instanceof Ec?Sq(s,"updateDoc",n._key,e,t,r):Aq(s,"updateDoc",n._key,e),WE(i,[o.toMutation(n._key,ai.exists(!0))])}function ZM(n,e){let t=Wn(n.firestore,di),r=BE(n),i=QM(n.converter,e);return WE(t,[HM(wg(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,ai.exists(!1))]).then(()=>r)}function GE(n,...e){var t,r,i;n=We(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||UR(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(UR(e[o])){let y=e[o];e[o]=(t=y.next)===null||t===void 0?void 0:t.bind(y),e[o+1]=(r=y.error)===null||r===void 0?void 0:r.bind(y),e[o+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}let u,l,p;if(n instanceof zt)l=Wn(n.firestore,di),p=xE(n._key.path),u={next:y=>{e[o]&&e[o](Nq(l,n,y))},error:e[o+1],complete:e[o+2]};else{let y=Wn(n,_o);l=Wn(y.firestore,di),p=y._query;let w=new Il(l);u={next:_=>{e[o]&&e[o](new dg(l,w,y,_))},error:e[o+1],complete:e[o+2]},WM(n._query)}return function(w,_,M,O){let N=new ng(O),L=new Xp(_,N,M);return w.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return SM(yield mE(w),L)})),()=>{N.Za(),w.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return RM(yield mE(w),L)}))}}($E(l),p,a,u)}function WE(n,e){return function(r,i){let s=new vr;return r.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return hq(yield Eq(r),i,s)})),s.promise}($E(n),e)}function Nq(n,e,t){let r=t.docs.get(e._key),i=new Il(n);return new lg(n,i,e._key,r,new ho(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){bc=i})(Xi),Ji(new Sn("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new di(new Q_(r.getProvider("auth-internal")),new X_(r.getProvider("app-check-internal")),function(l,p){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new G(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lp(l.options.projectId,p)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),dt(cR,"4.7.3",e),dt(cR,"4.7.3","esm2017")})();var _g=function(){return _g=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},_g.apply(this,arguments)};var kq={includeMetadataChanges:!1};function JM(n,e){return e===void 0&&(e=kq),new he(function(t){var r=GE(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function XM(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:_g(_g({},r),(t={},t[e.idField]=n.id,t))}function ex(n){return JM(n,{includeMetadataChanges:!0}).pipe(ie(function(e){return e.docs}))}function tx(n,e){return e===void 0&&(e={}),ex(n).pipe(ie(function(t){return t.map(function(r){return XM(r,e)})}))}var bo=class{constructor(e){return e}},nx="firestore",KE=class{constructor(){return Gu(nx)}};var QE=new z("angularfire2.firestore-instances");function Fq(n,e){let t=op(nx,n,e);return t&&new bo(t)}function Lq(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new bo(r)}}var Vq={provide:KE,deps:[[new Dt,QE]]},jq={provide:bo,useFactory:Fq,deps:[[new Dt,QE],ei]};function EZ(n,...e){return dt("angularfire",no.full,"fst"),_n([jq,Vq,{provide:QE,useFactory:Lq(n),multi:!0,deps:[we,bt,ec,ro,[new Dt,tl],[new Dt,Xa],...e]}])}var At=Zt(tx,!0);var as=Zt(ZM,!0);var Me=Zt(UM,!0);var cs=Zt(BE,!0);var bZ=Zt(BM,!0);var DZ=Zt(YM,!0);var fx=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(te(ur),te(Bn))}}static{this.\u0275dir=Fe({type:n})}}return n})(),Rc=(()=>{class n extends fx{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Un(n)))(i||n)}})()}static{this.\u0275dir=Fe({type:n,features:[Mt]})}}return n})(),ds=new z(""),$q={provide:ds,useExisting:Yt(()=>Hq),multi:!0},Hq=(()=>{class n extends Rc{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Un(n)))(i||n)}})()}static{this.\u0275dir=Fe({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&Hn("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},features:[Tn([$q]),Mt]})}}return n})(),zq={provide:ds,useExisting:Yt(()=>px),multi:!0};function qq(){let n=hr()?hr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Gq=new z(""),px=(()=>{class n extends fx{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!qq())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(te(ur),te(Bn),te(Gq,8))}}static{this.\u0275dir=Fe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Hn("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Tn([zq]),Mt]})}}return n})();function us(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function gx(n){return n!=null&&typeof n.length=="number"}var Pl=new z(""),Mg=new z(""),Wq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,rx=class{static min(e){return Kq(e)}static max(e){return Qq(e)}static required(e){return mx(e)}static requiredTrue(e){return Yq(e)}static email(e){return Zq(e)}static minLength(e){return Jq(e)}static maxLength(e){return Xq(e)}static pattern(e){return e4(e)}static nullValidator(e){return Eg(e)}static compose(e){return Ex(e)}static composeAsync(e){return bx(e)}};function Kq(n){return e=>{if(us(e.value)||us(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Qq(n){return e=>{if(us(e.value)||us(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function mx(n){return us(n.value)?{required:!0}:null}function Yq(n){return n.value===!0?null:{required:!0}}function Zq(n){return us(n.value)||Wq.test(n.value)?null:{email:!0}}function Jq(n){return e=>us(e.value)||!gx(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function Xq(n){return e=>gx(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function e4(n){if(!n)return Eg;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(us(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Eg(n){return null}function yx(n){return n!=null}function vx(n){return Ws(n)?Ve(n):n}function wx(n){let e={};return n.forEach(t=>{e=t!=null?$($({},e),t):e}),Object.keys(e).length===0?null:e}function _x(n,e){return e.map(t=>t(n))}function t4(n){return!n.validate}function Ix(n){return n.map(e=>t4(e)?e:t=>e.validate(t))}function Ex(n){if(!n)return null;let e=n.filter(yx);return e.length==0?null:function(t){return wx(_x(t,e))}}function nb(n){return n!=null?Ex(Ix(n)):null}function bx(n){if(!n)return null;let e=n.filter(yx);return e.length==0?null:function(t){let r=_x(t,e).map(vx);return Dm(r).pipe(ie(wx))}}function rb(n){return n!=null?bx(Ix(n)):null}function ix(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Dx(n){return n._rawValidators}function Tx(n){return n._rawAsyncValidators}function ZE(n){return n?Array.isArray(n)?n:[n]:[]}function bg(n,e){return Array.isArray(n)?n.includes(e):n===e}function sx(n,e){let t=ZE(e);return ZE(n).forEach(i=>{bg(t,i)||t.push(i)}),t}function ox(n,e){return ZE(e).filter(t=>!bg(n,t))}var Dg=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=nb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},pi=class extends Dg{get formDirective(){return null}get path(){return null}},Do=class extends Dg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Tg=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},n4={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},BZ=me($({},n4),{"[class.ng-submitted]":"isSubmitted"}),$Z=(()=>{class n extends Tg{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(te(Do,2))}}static{this.\u0275dir=Fe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&uf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Mt]})}}return n})(),HZ=(()=>{class n extends Tg{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(te(pi,10))}}static{this.\u0275dir=Fe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&uf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Mt]})}}return n})();var Al="VALID",Ig="INVALID",Tc="PENDING",Sl="DISABLED",ls=class{},Cg=class extends ls{constructor(e,t){super(),this.value=e,this.source=t}},Ml=class extends ls{constructor(e,t){super(),this.pristine=e,this.source=t}},xl=class extends ls{constructor(e,t){super(),this.touched=e,this.source=t}},Cc=class extends ls{constructor(e,t){super(),this.status=e,this.source=t}},JE=class extends ls{constructor(e){super(),this.source=e}},XE=class extends ls{constructor(e){super(),this.source=e}};function ib(n){return(xg(n)?n.validators:n)||null}function r4(n){return Array.isArray(n)?nb(n):n||null}function sb(n,e){return(xg(e)?e.asyncValidators:n)||null}function i4(n){return Array.isArray(n)?rb(n):n||null}function xg(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Cx(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new Y(1e3,"");if(!r[t])throw new Y(1001,"")}function Ax(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new Y(1002,"")})}var Ac=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ka(()=>this.statusReactive()),this.statusReactive=Oa(void 0),this._pristine=ka(()=>this.pristineReactive()),this.pristineReactive=Oa(!0),this._touched=ka(()=>this.touchedReactive()),this.touchedReactive=Oa(!1),this._events=new Et,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return lr(this.statusReactive)}set status(e){lr(()=>this.statusReactive.set(e))}get valid(){return this.status===Al}get invalid(){return this.status===Ig}get pending(){return this.status==Tc}get disabled(){return this.status===Sl}get enabled(){return this.status!==Sl}get pristine(){return lr(this.pristineReactive)}set pristine(e){lr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return lr(this.touchedReactive)}set touched(e){lr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(sx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(sx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ox(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ox(e,this._rawAsyncValidators))}hasValidator(e){return bg(this._rawValidators,e)}hasAsyncValidator(e){return bg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(me($({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new xl(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new xl(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(me($({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Ml(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Ml(!0,r))}markAsPending(e={}){this.status=Tc;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cc(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(me($({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Sl,this.errors=null,this._forEachChild(i=>{i.disable(me($({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cg(this.value,r)),this._events.next(new Cc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(me($({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Al,this._forEachChild(r=>{r.enable(me($({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(me($({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Al||this.status===Tc)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cg(this.value,t)),this._events.next(new Cc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(me($({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sl:Al}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Tc,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=vx(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Cc(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ge,this.statusChanges=new Ge}_calculateStatus(){return this._allControlsDisabled()?Sl:this.errors?Ig:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Tc)?Tc:this._anyControlsHaveStatus(Ig)?Ig:Al}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Ml(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new xl(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){xg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=r4(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=i4(this._rawAsyncValidators)}},Sc=class extends Ac{constructor(e,t,r){super(ib(t),sb(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Ax(this,!0,e),Object.keys(e).forEach(r=>{Cx(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var eb=class extends Sc{};var Ol=new z("CallSetDisabledState",{providedIn:"root",factory:()=>Ng}),Ng="always";function Sx(n,e){return[...e.path,n]}function Ag(n,e,t=Ng){ob(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),o4(n,e),c4(n,e),a4(n,e),s4(n,e)}function ax(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Rg(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Sg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function s4(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function ob(n,e){let t=Dx(n);e.validator!==null?n.setValidators(ix(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=Tx(n);e.asyncValidator!==null?n.setAsyncValidators(ix(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Sg(e._rawValidators,i),Sg(e._rawAsyncValidators,i)}function Rg(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=Dx(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let i=Tx(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}let r=()=>{};return Sg(e._rawValidators,r),Sg(e._rawAsyncValidators,r),t}function o4(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Rx(n,e)})}function a4(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Rx(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function Rx(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function c4(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function Mx(n,e){n==null,ob(n,e)}function u4(n,e){return Rg(n,e)}function xx(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function l4(n){return Object.getPrototypeOf(n.constructor)===Rc}function Nx(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Px(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===px?t=s:l4(s)?r=s:i=s}),i||r||t||null}function d4(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var h4={provide:pi,useExisting:Yt(()=>f4)},Rl=Promise.resolve(),f4=(()=>{class n extends pi{get submitted(){return lr(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=ka(()=>this.submittedReactive()),this.submittedReactive=Oa(!1),this._directives=new Set,this.ngSubmit=new Ge,this.form=new Sc({},nb(t),rb(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Rl.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Ag(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Rl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Rl.then(()=>{let r=this._findContainer(t.path),i=new Sc({});Mx(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Rl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Rl.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),Nx(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(te(Pl,10),te(Mg,10),te(Ol,8))}}static{this.\u0275dir=Fe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Hn("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Tn([h4]),Mt]})}}return n})();function cx(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function ux(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Nl=class extends Ac{constructor(e=null,t,r){super(ib(t),sb(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(ux(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){cx(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){cx(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){ux(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var p4=n=>n instanceof Nl;var g4={provide:Do,useExisting:Yt(()=>m4)},lx=Promise.resolve(),m4=(()=>{class n extends Do{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new Nl,this._registered=!1,this.name="",this.update=new Ge,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Px(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),xx(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ag(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){lx.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&du(r);lx.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Sx(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(te(pi,9),te(Pl,10),te(Mg,10),te(ds,10),te(Ks,8),te(Ol,8))}}static{this.\u0275dir=Fe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Tn([g4]),Mt,Hr]})}}return n})(),qZ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Fe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),y4={provide:ds,useExisting:Yt(()=>v4),multi:!0},v4=(()=>{class n extends Rc{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Un(n)))(i||n)}})()}static{this.\u0275dir=Fe({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Hn("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Tn([y4]),Mt]})}}return n})();var w4={provide:ds,useExisting:Yt(()=>_4),multi:!0},_4=(()=>{class n extends Rc{writeValue(t){this.setProperty("value",parseFloat(t))}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Un(n)))(i||n)}})()}static{this.\u0275dir=Fe({type:n,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(r,i){r&1&&Hn("change",function(o){return i.onChange(o.target.value)})("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Tn([w4]),Mt]})}}return n})(),Ox=new z("");var I4={provide:pi,useExisting:Yt(()=>E4)},E4=(()=>{class n extends pi{get submitted(){return lr(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=ka(()=>this._submittedReactive()),this._submittedReactive=Oa(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ge,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Rg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Ag(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){ax(t.control||null,t,!1),d4(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),Nx(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new JE(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new XE(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(ax(r||null,t),p4(i)&&(Ag(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);Mx(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&u4(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ob(this.form,this),this._oldForm&&Rg(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(te(Pl,10),te(Mg,10),te(Ol,8))}}static{this.\u0275dir=Fe({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Hn("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Tn([I4]),Mt,Hr]})}}return n})();var b4={provide:Do,useExisting:Yt(()=>D4)},D4=(()=>{class n extends Do{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Ge,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Px(this,s)}ngOnChanges(t){this._added||this._setUpControl(),xx(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Sx(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(te(pi,13),te(Pl,10),te(Mg,10),te(ds,10),te(Ox,8))}}static{this.\u0275dir=Fe({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Tn([b4]),Mt,Hr]})}}return n})(),T4={provide:ds,useExisting:Yt(()=>Fx),multi:!0};function kx(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function C4(n){return n.split(":")[0]}var Fx=(()=>{class n extends Rc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=kx(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=C4(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Un(n)))(i||n)}})()}static{this.\u0275dir=Fe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Hn("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Tn([T4]),Mt]})}}return n})(),GZ=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(kx(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(te(Bn),te(ur),te(Fx,9))}}static{this.\u0275dir=Fe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),A4={provide:ds,useExisting:Yt(()=>Lx),multi:!0};function dx(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function S4(n){return n.split(":")[0]}var Lx=(()=>{class n extends Rc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let u=o[a],l=this._getOptionValue(u.value);i.push(l)}}else{let o=r.options;for(let a=0;a<o.length;a++){let u=o[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=S4(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Un(n)))(i||n)}})()}static{this.\u0275dir=Fe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Hn("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Tn([A4]),Mt]})}}return n})(),WZ=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(dx(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(dx(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(te(Bn),te(ur),te(Lx,9))}}static{this.\u0275dir=Fe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var R4=(()=>{class n{constructor(){this._validator=Eg}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Eg,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Fe({type:n,features:[Hr]})}}return n})();var M4={provide:Pl,useExisting:Yt(()=>x4),multi:!0};var x4=(()=>{class n extends R4{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=du,this.createValidator=t=>mx}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Un(n)))(i||n)}})()}static{this.\u0275dir=Fe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&cf("required",i._enabled?"":null)},inputs:{required:"required"},features:[Tn([M4]),Mt]})}}return n})();var Vx=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=wn({type:n})}static{this.\u0275inj=vn({})}}return n})(),tb=class extends Ac{constructor(e,t,r){super(ib(t),sb(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Ax(this,!1,e),e.forEach((r,i)=>{Cx(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function hx(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var KZ=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),s={};return hx(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Sc(i,s)}record(t,r=null){let i=this._reduceControls(t);return new eb(i,r)}control(t,r,i){let s={};return this.useNonNullable?(hx(r)?s=r:(s.validators=r,s.asyncValidators=i),new Nl(t,me($({},s),{nonNullable:!0}))):new Nl(t,r,i)}array(t,r,i){let s=t.map(o=>this._createControl(o));return new tb(s,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Nl)return t;if(t instanceof Ac)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,s=t.length>2?t[2]:null;return this.control(r,i,s)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var QZ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ol,useValue:t.callSetDisabledState??Ng}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=wn({type:n})}static{this.\u0275inj=vn({imports:[Vx]})}}return n})(),YZ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ox,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Ol,useValue:t.callSetDisabledState??Ng}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=wn({type:n})}static{this.\u0275inj=vn({imports:[Vx]})}}return n})();var jx=class n{userVerificado=new qe(!1);userVerificado$=this.userVerificado.asObservable();userSource=new qe(null);currentUser=this.userSource.asObservable();user="";constructor(){}setUser(e){this.userSource.next(e),this.user=e}getUser(){return this.user}getUserNow(){return this.currentUser}setUserVerificado(e){this.userVerificado.next(e)}getVerificado(){return this.userVerificado.getValue()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ux=class n{constructor(e,t){this.firestore=e;this.auth=t}sendLogTurnoFinalizado(e){let t=Me(this.firestore,"turnoFinalizado"),r=new Date,i=r.toISOString().split("T")[0],s=r.toTimeString().split(" ")[0];as(t,{medico:e,dia:i,horario:s}).then(()=>{console.log("Log de ingreso agregado con \xE9xito")}).catch(a=>{console.error("Error al agregar log de ingreso: ",a)})}getLogTurnoFinalizado(){let e=Me(this.firestore,"turnoFinalizado"),t=Be(e);return At(t)}sendlogTurnoMedico(e){let t=Me(this.firestore,"turnoPormedicos"),r=new Date,i=r.toISOString().split("T")[0],s=r.toTimeString().split(" ")[0];as(t,{medico:e,dia:i,horario:s}).then(()=>{console.log("Log de ingreso agregado con \xE9xito")}).catch(a=>{console.error("Error al agregar log de ingreso: ",a)})}getLogTurnoMedico(){let e=Me(this.firestore,"turnoPormedicos"),t=Be(e);return At(t)}sendLogTurnosPorDia(){let e=Me(this.firestore,"turnoPorDia"),t=new Date,r=t.toISOString().split("T")[0],i=t.toTimeString().split(" ")[0];as(e,{dia:r,horario:i}).then(()=>{console.log("Log de ingreso agregado con \xE9xito")}).catch(o=>{console.error("Error al agregar log de ingreso: ",o)})}getLogTurnoPorDia(){let e=Me(this.firestore,"turnoPorDia"),t=Be(e);return At(t)}sendLogEspecialidad(e){let t=Me(this.firestore,"especialidadTurno"),r=new Date,i=r.toISOString().split("T")[0],s=r.toTimeString().split(" ")[0];as(t,{especialidad:e,dia:i,horario:s}).then(()=>{console.log("Log de ingreso agregado con \xE9xito")}).catch(a=>{console.error("Error al agregar log de ingreso: ",a)})}getLogEspecialidad(){let e=Me(this.firestore,"especialidadTurno"),t=Be(e);return At(t)}sendLogLogin(e){let t=Me(this.firestore,"loginLogs"),r=new Date,i=r.toISOString().split("T")[0],s=r.toTimeString().split(" ")[0];as(t,{usuario:e,dia:i,horario:s}).then(()=>{console.log("Log de ingreso agregado con \xE9xito")}).catch(a=>{console.error("Error al agregar log de ingreso: ",a)})}getLogsLogin(){let e=Me(this.firestore,"loginLogs"),t=Be(e);return At(t)}getUsuarios(){let e=Me(this.firestore,"pacientes"),t=Be(e);return At(t)}getAdmins(){let e=Me(this.firestore,"admins"),t=Be(e);return At(t)}getEspecialistas(){let e=Me(this.firestore,"especialistas"),t=Be(e);return At(t)}getEspecialidad(){let e=Me(this.firestore,"especialistas"),t=Be(e);return At(t)}getTurno(){let e=Me(this.firestore,"turnos"),t=Be(e);return At(t)}sendturno(e,t,r,i,s,o,a){let u=Me(this.firestore,"turnos");as(u,{paciente:e,especialista:t,especialidad:r,horario:i,emailEspecialsita:s,estado:"pendiente",mensaje:"",diagnostico:"",comentario:"",dia:o,altura:"",peso:"",comentarioPaciente:"",presion:"",temperatura:"",nombrePaciente:a}).then(()=>{console.log("turno agregado con \xE9xito")}).catch(p=>{console.error("Error al agregar turno: ",p)})}getTurnos(){let e=Me(this.firestore,"turnos"),t=Be(e);return At(t)}getPacientes(){let e=Me(this.firestore,"pacientes"),t=Be(e);return At(t)}getadmin(){let e=Me(this.firestore,"admins"),t=Be(e);return At(t)}getHistoriaClinica(){let e=Me(this.firestore,"turnos"),t=Be(e);return At(t)}getUsers(){let e=Me(this.firestore,"pacientes"),t=Be(e);return At(t)}ingresarEstado(e,t,r){let i=Me(this.firestore,"turnos"),s=Be(i,Jt("paciente","==",t),Jt("horario","==",r));hi(s).then(o=>{if(o.empty)console.log("No se encontr\xF3 el turno con el paciente y horario especificados.");else{let u=o.docs[0].id,l=cs(this.firestore,"turnos",u);fi(l,{estado:e}).then(()=>{console.log("Estado actualizado con \xE9xito")}).catch(p=>{console.error("Error al actualizar el estado:",p)})}}).catch(o=>{console.error("Error al realizar la consulta:",o)})}ingresarMensaje(e,t){let r=t,i=Me(this.firestore,"turnos"),s=Be(i,Jt("paciente","==",r));hi(s).then(o=>{if(o.empty)console.log("No se encontr\xF3 el turno con ese email.");else{let u=o.docs[0].id,l=cs(this.firestore,"turnos",u);fi(l,{mensaje:e})}}).catch(o=>{console.error("Error al realizar la consulta:",o)})}ingresarDiagnostico(e,t,r){let i=Me(this.firestore,"turnos"),s=Be(i,Jt("paciente","==",t),Jt("horario","==",r));hi(s).then(o=>{if(o.empty)console.log("No se encontr\xF3 el turno con el paciente y horario especificados.");else{let u=o.docs[0].id,l=cs(this.firestore,"turnos",u);fi(l,{diagnostico:e}).then(()=>{console.log("Estado actualizado con \xE9xito")}).catch(p=>{console.error("Error al actualizar el estado:",p)})}}).catch(o=>{console.error("Error al realizar la consulta:",o)})}ingresarComentario(e,t,r){let i=Me(this.firestore,"turnos"),s=Be(i,Jt("paciente","==",t),Jt("horario","==",r));hi(s).then(o=>{if(o.empty)console.log("No se encontr\xF3 el turno con el paciente y horario especificados.");else{let u=o.docs[0].id,l=cs(this.firestore,"turnos",u);fi(l,{comentario:e}).then(()=>{console.log("Estado actualizado con \xE9xito")}).catch(p=>{console.error("Error al actualizar el estado:",p)})}}).catch(o=>{console.error("Error al realizar la consulta:",o)})}ingresarComentarioPaciente(e,t){let r=t,i=Me(this.firestore,"turnos"),s=Be(i,Jt("paciente","==",r));hi(s).then(o=>{if(o.empty)console.log("No se encontr\xF3 el turno con ese email.");else{let u=o.docs[0].id,l=cs(this.firestore,"turnos",u);fi(l,{comentarioPaciente:e})}}).catch(o=>{console.error("Error al realizar la consulta:",o)})}ingresarMensajePaciente(e,t,r){let i=Me(this.firestore,"turnos"),s=Be(i,Jt("paciente","==",t),Jt("horario","==",r));hi(s).then(o=>{if(o.empty)console.log("No se encontr\xF3 el turno con ese paciente y horario.");else{let u=o.docs[0].id,l=cs(this.firestore,"turnos",u);fi(l,{comentarioPaciente:e}).then(()=>{console.log("Mensaje actualizado correctamente.")}).catch(p=>{console.error("Error al actualizar el mensaje:",p)})}}).catch(o=>{console.error("Error al realizar la consulta:",o)})}ingresarEncuestaPaciente(e,t,r,i,s){let o=Me(this.firestore,"encuestas");as(o,{atencion:e,demora:t,limpieza:r,usuario:i,doctor:s}).then(()=>{console.log("Encuesta agregad con \xE9xito")}).catch(u=>{console.error("Error al agregar turno: ",u)})}getImagenesEspecialdiad(){let e=Me(this.firestore,"imagenesEspecialidad"),t=Be(e);return At(t)}ingresarHistoriaClinica(e,t,r,i,s,o,a,u,l,p,y,w,_,M,O,N,L,W){let B=Me(this.firestore,"turnos"),H=Be(B,Jt("paciente","==",L),Jt("horario","==",W));hi(H).then(le=>{if(le.empty)console.log("No se encontr\xF3 el turno con ese email.");else{let C=le.docs[0].id,E=cs(this.firestore,"turnos",C),b={altura:e,peso:t,temperatura:r,presion:i};s&&o&&o!=="undefined"&&(b[s]=o),a&&u&&u!=="undefined"&&(b[a]=u),l&&p&&p!=="undefined"&&(b[l]=p),y&&w&&w!=="undefined"&&(b[y]=w),_&&M&&M!=="undefined"&&(b[_]=M),O&&N&&N!=="undefined"&&(b[O]=N),fi(E,b).then(()=>{console.log("Historia cl\xEDnica actualizada correctamente.")}).catch(A=>{console.error("Error al actualizar el documento:",A)})}}).catch(le=>{console.error("Error al realizar la consulta:",le)})}static \u0275fac=function(t){return new(t||n)(Z(bo),Z(co))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var Bx=class n{captchaEnabledSubject=new qe(!0);captchaEnabled$=this.captchaEnabledSubject.asObservable();constructor(){}setCaptchaEnabled(e){this.captchaEnabledSubject.next(e)}getCaptchaEnabled(){return this.captchaEnabledSubject.getValue()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var $x=class n{transform(e,t){return!e||!t?e:(t=t.toLowerCase(),e.filter(r=>Object.keys(r).some(i=>{let s=r[i];return s!=null?s.toString().toLowerCase().includes(t):!1})))}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=Vh({name:"filter",type:n,pure:!0,standalone:!0})};export{Y as a,q as b,vn as c,z as d,Z as e,Dt as f,eT as g,wn as h,Fe as i,Vh as j,_n as k,LP as l,K6 as m,Q6 as n,bt as o,Ge as p,we as q,Bn as r,bn as s,Y6 as t,Z6 as u,J6 as v,te as w,Ra as x,ur as y,VC as z,rF as A,cf as B,mF as C,$C as D,uf as E,zC as F,qC as G,gv as H,RF as I,MF as J,n8 as K,Hn as L,r8 as M,jF as N,WC as O,i8 as P,s8 as Q,$F as R,KC as S,HF as T,zF as U,o8 as V,qF as W,YC as X,a8 as Y,c8 as Z,u8 as _,l8 as $,d8 as aa,h8 as ba,f8 as ca,du as da,xt as ea,O8 as fa,k8 as ga,F8 as ha,L8 as ia,V8 as ja,E0 as ka,QL as la,J8 as ma,O0 as na,_K as oa,IK as pa,y2 as qa,Ki as ra,HK as sa,zK as ta,Bq as ua,VA as va,jA as wa,cn as xa,We as ya,Sn as za,Ji as Aa,qu as Ba,Xi as Ca,Za as Da,dt as Ea,no as Fa,op as Ga,Gu as Ha,Xa as Ia,ec as Ja,Zt as Ka,ei as La,ro as Ma,P7 as Na,O7 as Oa,QS as Pa,YS as Qa,ZS as Ra,co as Sa,tl as Ta,AQ as Ua,SQ as Va,RQ as Wa,MQ as Xa,xQ as Ya,UM as Za,Be as _a,Jt as $a,hi as ab,fi as bb,ZM as cb,bo as db,EZ as eb,At as fb,as as gb,Me as hb,cs as ib,bZ as jb,DZ as kb,Hq as lb,px as mb,rx as nb,$Z as ob,HZ as pb,Sc as qb,f4 as rb,Nl as sb,m4 as tb,qZ as ub,v4 as vb,_4 as wb,E4 as xb,D4 as yb,Fx as zb,GZ as Ab,WZ as Bb,x4 as Cb,KZ as Db,QZ as Eb,YZ as Fb,jx as Gb,Ux as Hb,Bx as Ib,$x as Jb};
