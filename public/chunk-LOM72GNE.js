import{a as B,b as pe,c as lx,e as Si,f as C}from"./chunk-YYD2Q6U2.js";var Mq=lx((Tr,jE)=>{"use strict";(function(n,e){typeof Tr=="object"&&typeof jE<"u"?jE.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=e())})(Tr,function(){"use strict";function n(l,h,y){if(typeof l=="function"?l===h:l.has(h))return arguments.length<3?h:y;throw new TypeError("Private element is not present on this object")}function e(l,h){if(h.has(l))throw new TypeError("Cannot initialize the same private elements twice on an object")}function t(l,h){return l.get(n(l,h))}function r(l,h,y){e(l,h),h.set(l,y)}function i(l,h,y){return l.set(n(l,h),y),y}let s=100,o={},a=()=>{o.previousActiveElement instanceof HTMLElement?(o.previousActiveElement.focus(),o.previousActiveElement=null):document.body&&document.body.focus()},u=l=>new Promise(h=>{if(!l)return h();let y=window.scrollX,w=window.scrollY;o.restoreFocusTimeout=setTimeout(()=>{a(),h()},s),window.scrollTo(y,w)}),d="swal2-",g=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((l,h)=>(l[h]=d+h,l),{}),I=["success","warning","info","question","error"].reduce((l,h)=>(l[h]=d+h,l),{}),N="SweetAlert2:",k=l=>l.charAt(0).toUpperCase()+l.slice(1),x=l=>{console.warn(`${N} ${typeof l=="object"?l.join(" "):l}`)},V=l=>{console.error(`${N} ${l}`)},K=[],H=l=>{K.includes(l)||(K.push(l),x(l))},re=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;H(`"${l}" is deprecated and will be removed in the next major release.${h?` Use "${h}" instead.`:""}`)},_e=l=>typeof l=="function"?l():l,Z=l=>l&&typeof l.toPromise=="function",T=l=>Z(l)?l.toPromise():Promise.resolve(l),E=l=>l&&Promise.resolve(l)===l,b=()=>document.body.querySelector(`.${g.container}`),A=l=>{let h=b();return h?h.querySelector(l):null},S=l=>A(`.${l}`),R=()=>S(g.popup),D=()=>S(g.icon),Sn=()=>S(g["icon-content"]),li=()=>S(g.title),vc=()=>S(g["html-container"]),di=()=>S(g.image),Ar=()=>S(g["progress-steps"]),hi=()=>S(g["validation-message"]),Zt=()=>A(`.${g.actions} .${g.confirm}`),fi=()=>A(`.${g.actions} .${g.cancel}`),Mt=()=>A(`.${g.actions} .${g.deny}`),mt=()=>S(g["input-label"]),pi=()=>A(`.${g.loader}`),Rn=()=>S(g.actions),kl=()=>S(g.footer),Wn=()=>S(g["timer-progress-bar"]),wc=()=>S(g.close),Og=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,gi=()=>{let l=R();if(!l)return[];let h=l.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),y=Array.from(h).sort(($,le)=>{let Ee=parseInt($.getAttribute("tabindex")||"0"),ze=parseInt(le.getAttribute("tabindex")||"0");return Ee>ze?1:Ee<ze?-1:0}),w=l.querySelectorAll(Og),P=Array.from(w).filter($=>$.getAttribute("tabindex")!=="-1");return[...new Set(y.concat(P))].filter($=>Dt($))},mi=()=>Jt(document.body,g.shown)&&!Jt(document.body,g["toast-shown"])&&!Jt(document.body,g["no-backdrop"]),yi=()=>{let l=R();return l?Jt(l,g.toast):!1},_c=()=>{let l=R();return l?l.hasAttribute("data-loading"):!1},bt=(l,h)=>{if(l.textContent="",h){let w=new DOMParser().parseFromString(h,"text/html"),P=w.querySelector("head");P&&Array.from(P.childNodes).forEach(le=>{l.appendChild(le)});let $=w.querySelector("body");$&&Array.from($.childNodes).forEach(le=>{le instanceof HTMLVideoElement||le instanceof HTMLAudioElement?l.appendChild(le.cloneNode(!0)):l.appendChild(le)})}},Jt=(l,h)=>{if(!h)return!1;let y=h.split(/\s+/);for(let w=0;w<y.length;w++)if(!l.classList.contains(y[w]))return!1;return!0},Fl=(l,h)=>{Array.from(l.classList).forEach(y=>{!Object.values(g).includes(y)&&!Object.values(I).includes(y)&&!Object.values(h.showClass||{}).includes(y)&&l.classList.remove(y)})},Nt=(l,h,y)=>{if(Fl(l,h),!h.customClass)return;let w=h.customClass[y];if(w){if(typeof w!="string"&&!w.forEach){x(`Invalid type of customClass.${y}! Expected string or iterable object, got "${typeof w}"`);return}me(l,w)}},Co=(l,h)=>{if(!h)return null;switch(h){case"select":case"textarea":case"file":return l.querySelector(`.${g.popup} > .${g[h]}`);case"checkbox":return l.querySelector(`.${g.popup} > .${g.checkbox} input`);case"radio":return l.querySelector(`.${g.popup} > .${g.radio} input:checked`)||l.querySelector(`.${g.popup} > .${g.radio} input:first-child`);case"range":return l.querySelector(`.${g.popup} > .${g.range} input`);default:return l.querySelector(`.${g.popup} > .${g.input}`)}},Ic=l=>{if(l.focus(),l.type!=="file"){let h=l.value;l.value="",l.value=h}},Ec=(l,h,y)=>{!l||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(w=>{Array.isArray(l)?l.forEach(P=>{y?P.classList.add(w):P.classList.remove(w)}):y?l.classList.add(w):l.classList.remove(w)}))},me=(l,h)=>{Ec(l,h,!0)},Xt=(l,h)=>{Ec(l,h,!1)},Kn=(l,h)=>{let y=Array.from(l.children);for(let w=0;w<y.length;w++){let P=y[w];if(P instanceof HTMLElement&&Jt(P,h))return P}},Mn=(l,h,y)=>{y===`${parseInt(y)}`&&(y=parseInt(y)),y||parseInt(y)===0?l.style.setProperty(h,typeof y=="number"?`${y}px`:y):l.style.removeProperty(h)},Ge=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";l&&(l.style.display=h)},et=l=>{l&&(l.style.display="none")},tt=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";l&&new MutationObserver(()=>{Qn(l,l.innerHTML,h)}).observe(l,{childList:!0,subtree:!0})},yt=(l,h,y,w)=>{let P=l.querySelector(h);P&&P.style.setProperty(y,w)},Qn=function(l,h){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?Ge(l,y):et(l)},Dt=l=>!!(l&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length)),Ll=()=>!Dt(Zt())&&!Dt(Mt())&&!Dt(fi()),Vl=l=>l.scrollHeight>l.clientHeight,vi=l=>{let h=window.getComputedStyle(l),y=parseFloat(h.getPropertyValue("animation-duration")||"0"),w=parseFloat(h.getPropertyValue("transition-duration")||"0");return y>0||w>0},To=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=Wn();y&&Dt(y)&&(h&&(y.style.transition="none",y.style.width="100%"),setTimeout(()=>{y.style.transition=`width ${l/1e3}s linear`,y.style.width="0%"},10))},jl=()=>{let l=Wn();if(!l)return;let h=parseInt(window.getComputedStyle(l).width);l.style.removeProperty("transition"),l.style.width="100%";let y=parseInt(window.getComputedStyle(l).width),w=h/y*100;l.style.width=`${w}%`},bc=()=>typeof window>"u"||typeof document>"u",kg=`
 <div aria-labelledby="${g.title}" aria-describedby="${g["html-container"]}" class="${g.popup}" tabindex="-1">
   <button type="button" class="${g.close}"></button>
   <ul class="${g["progress-steps"]}"></ul>
   <div class="${g.icon}"></div>
   <img class="${g.image}" />
   <h2 class="${g.title}" id="${g.title}"></h2>
   <div class="${g["html-container"]}" id="${g["html-container"]}"></div>
   <input class="${g.input}" id="${g.input}" />
   <input type="file" class="${g.file}" />
   <div class="${g.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${g.select}" id="${g.select}"></select>
   <div class="${g.radio}"></div>
   <label class="${g.checkbox}">
     <input type="checkbox" id="${g.checkbox}" />
     <span class="${g.label}"></span>
   </label>
   <textarea class="${g.textarea}" id="${g.textarea}"></textarea>
   <div class="${g["validation-message"]}" id="${g["validation-message"]}"></div>
   <div class="${g.actions}">
     <div class="${g.loader}"></div>
     <button type="button" class="${g.confirm}"></button>
     <button type="button" class="${g.deny}"></button>
     <button type="button" class="${g.cancel}"></button>
   </div>
   <div class="${g.footer}"></div>
   <div class="${g["timer-progress-bar-container"]}">
     <div class="${g["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Fg=()=>{let l=b();return l?(l.remove(),Xt([document.documentElement,document.body],[g["no-backdrop"],g["toast-shown"],g["has-column"]]),!0):!1},Nn=()=>{o.currentInstance.resetValidationMessage()},Ul=()=>{let l=R(),h=Kn(l,g.input),y=Kn(l,g.file),w=l.querySelector(`.${g.range} input`),P=l.querySelector(`.${g.range} output`),$=Kn(l,g.select),le=l.querySelector(`.${g.checkbox} input`),Ee=Kn(l,g.textarea);h.oninput=Nn,y.onchange=Nn,$.onchange=Nn,le.onchange=Nn,Ee.oninput=Nn,w.oninput=()=>{Nn(),P.value=w.value},w.onchange=()=>{Nn(),P.value=w.value}},Bl=l=>typeof l=="string"?document.querySelector(l):l,fs=l=>{let h=R();h.setAttribute("role",l.toast?"alert":"dialog"),h.setAttribute("aria-live",l.toast?"polite":"assertive"),l.toast||h.setAttribute("aria-modal","true")},Dc=l=>{window.getComputedStyle(l).direction==="rtl"&&me(b(),g.rtl)},Cc=l=>{let h=Fg();if(bc()){V("SweetAlert2 requires document to initialize");return}let y=document.createElement("div");y.className=g.container,h&&me(y,g["no-transition"]),bt(y,kg);let w=Bl(l.target);w.appendChild(y),fs(l),Dc(w),Ul()},xn=(l,h)=>{l instanceof HTMLElement?h.appendChild(l):typeof l=="object"?$l(l,h):l&&bt(h,l)},$l=(l,h)=>{l.jquery?Ao(h,l):bt(h,l.toString())},Ao=(l,h)=>{if(l.textContent="",0 in h)for(let y=0;y in h;y++)l.appendChild(h[y].cloneNode(!0));else l.appendChild(h.cloneNode(!0))},Hl=(l,h)=>{let y=Rn(),w=pi();!y||!w||(!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?et(y):Ge(y),Nt(y,h,"actions"),ps(y,w,h),bt(w,h.loaderHtml||""),Nt(w,h,"loader"))};function ps(l,h,y){let w=Zt(),P=Mt(),$=fi();!w||!P||!$||(dt(w,"confirm",y),dt(P,"deny",y),dt($,"cancel",y),zl(w,P,$,y),y.reverseButtons&&(y.toast?(l.insertBefore($,w),l.insertBefore(P,w)):(l.insertBefore($,h),l.insertBefore(P,h),l.insertBefore(w,h))))}function zl(l,h,y,w){if(!w.buttonsStyling){Xt([l,h,y],g.styled);return}me([l,h,y],g.styled),w.confirmButtonColor&&(l.style.backgroundColor=w.confirmButtonColor,me(l,g["default-outline"])),w.denyButtonColor&&(h.style.backgroundColor=w.denyButtonColor,me(h,g["default-outline"])),w.cancelButtonColor&&(y.style.backgroundColor=w.cancelButtonColor,me(y,g["default-outline"]))}function dt(l,h,y){let w=k(h);Qn(l,y[`show${w}Button`],"inline-block"),bt(l,y[`${h}ButtonText`]||""),l.setAttribute("aria-label",y[`${h}ButtonAriaLabel`]||""),l.className=g[h],Nt(l,y,`${h}Button`)}let ql=(l,h)=>{let y=wc();y&&(bt(y,h.closeButtonHtml||""),Nt(y,h,"closeButton"),Qn(y,h.showCloseButton),y.setAttribute("aria-label",h.closeButtonAriaLabel||""))},gs=(l,h)=>{let y=b();y&&(ms(y,h.backdrop),Lg(y,h.position),Vg(y,h.grow),Nt(y,h,"container"))};function ms(l,h){typeof h=="string"?l.style.background=h:h||me([document.documentElement,document.body],g["no-backdrop"])}function Lg(l,h){h&&(h in g?me(l,g[h]):(x('The "position" parameter is not valid, defaulting to "center"'),me(l,g.center)))}function Vg(l,h){h&&me(l,g[`grow-${h}`])}var Ce={innerParams:new WeakMap,domCache:new WeakMap};let jg=["input","file","range","select","radio","checkbox","textarea"],Ug=(l,h)=>{let y=R();if(!y)return;let w=Ce.innerParams.get(l),P=!w||h.input!==w.input;jg.forEach($=>{let le=Kn(y,g[$]);le&&(Tc($,h.inputAttributes),le.className=g[$],P&&et(le))}),h.input&&(P&&So(h),Ro(h))},So=l=>{if(!l.input)return;if(!Ue[l.input]){V(`Unexpected type of input! Expected ${Object.keys(Ue).join(" | ")}, got "${l.input}"`);return}let h=Ac(l.input);if(!h)return;let y=Ue[l.input](h,l);Ge(h),l.inputAutoFocus&&setTimeout(()=>{Ic(y)})},Gl=l=>{for(let h=0;h<l.attributes.length;h++){let y=l.attributes[h].name;["id","type","value","style"].includes(y)||l.removeAttribute(y)}},Tc=(l,h)=>{let y=R();if(!y)return;let w=Co(y,l);if(w){Gl(w);for(let P in h)w.setAttribute(P,h[P])}},Ro=l=>{if(!l.input)return;let h=Ac(l.input);h&&Nt(h,l,"input")},fn=(l,h)=>{!l.placeholder&&h.inputPlaceholder&&(l.placeholder=h.inputPlaceholder)},wi=(l,h,y)=>{if(y.inputLabel){let w=document.createElement("label"),P=g["input-label"];w.setAttribute("for",l.id),w.className=P,typeof y.customClass=="object"&&me(w,y.customClass.inputLabel),w.innerText=y.inputLabel,h.insertAdjacentElement("beforebegin",w)}},Ac=l=>{let h=R();if(h)return Kn(h,g[l]||g.input)},_i=(l,h)=>{["string","number"].includes(typeof h)?l.value=`${h}`:E(h)||x(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof h}"`)},Ue={};Ue.text=Ue.email=Ue.password=Ue.number=Ue.tel=Ue.url=Ue.search=Ue.date=Ue["datetime-local"]=Ue.time=Ue.week=Ue.month=(l,h)=>(_i(l,h.inputValue),wi(l,l,h),fn(l,h),l.type=h.input,l),Ue.file=(l,h)=>(wi(l,l,h),fn(l,h),l),Ue.range=(l,h)=>{let y=l.querySelector("input"),w=l.querySelector("output");return _i(y,h.inputValue),y.type=h.input,_i(w,h.inputValue),wi(y,l,h),l},Ue.select=(l,h)=>{if(l.textContent="",h.inputPlaceholder){let y=document.createElement("option");bt(y,h.inputPlaceholder),y.value="",y.disabled=!0,y.selected=!0,l.appendChild(y)}return wi(l,l,h),l},Ue.radio=l=>(l.textContent="",l),Ue.checkbox=(l,h)=>{let y=Co(R(),"checkbox");y.value="1",y.checked=!!h.inputValue;let w=l.querySelector("span");return bt(w,h.inputPlaceholder||h.inputLabel),y},Ue.textarea=(l,h)=>{_i(l,h.inputValue),fn(l,h),wi(l,l,h);let y=w=>parseInt(window.getComputedStyle(w).marginLeft)+parseInt(window.getComputedStyle(w).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let w=parseInt(window.getComputedStyle(R()).width),P=()=>{if(!document.body.contains(l))return;let $=l.offsetWidth+y(l);$>w?R().style.width=`${$}px`:Mn(R(),"width",h.width)};new MutationObserver(P).observe(l,{attributes:!0,attributeFilter:["style"]})}}),l};let Wl=(l,h)=>{let y=vc();y&&(tt(y),Nt(y,h,"htmlContainer"),h.html?(xn(h.html,y),Ge(y,"block")):h.text?(y.textContent=h.text,Ge(y,"block")):et(y),Ug(l,h))},Kl=(l,h)=>{let y=kl();y&&(tt(y),Qn(y,h.footer,"block"),h.footer&&xn(h.footer,y),Nt(y,h,"footer"))},Bg=(l,h)=>{let y=Ce.innerParams.get(l),w=D();if(w){if(y&&h.icon===y.icon){Yn(w,h),ys(w,h);return}if(!h.icon&&!h.iconHtml){et(w);return}if(h.icon&&Object.keys(I).indexOf(h.icon)===-1){V(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${h.icon}"`),et(w);return}Ge(w),Yn(w,h),ys(w,h),me(w,h.showClass&&h.showClass.icon)}},ys=(l,h)=>{for(let[y,w]of Object.entries(I))h.icon!==y&&Xt(l,w);me(l,h.icon&&I[h.icon]),Rc(l,h),Ql(),Nt(l,h,"icon")},Ql=()=>{let l=R();if(!l)return;let h=window.getComputedStyle(l).getPropertyValue("background-color"),y=l.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let w=0;w<y.length;w++)y[w].style.backgroundColor=h},Sc=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,vs=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Yn=(l,h)=>{if(!h.icon&&!h.iconHtml)return;let y=l.innerHTML,w="";h.iconHtml?w=Yl(h.iconHtml):h.icon==="success"?(w=Sc,y=y.replace(/ style=".*?"/g,"")):h.icon==="error"?w=vs:h.icon&&(w=Yl({question:"?",warning:"!",info:"i"}[h.icon])),y.trim()!==w.trim()&&bt(l,w)},Rc=(l,h)=>{if(h.iconColor){l.style.color=h.iconColor,l.style.borderColor=h.iconColor;for(let y of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])yt(l,y,"background-color",h.iconColor);yt(l,".swal2-success-ring","border-color",h.iconColor)}},Yl=l=>`<div class="${g["icon-content"]}">${l}</div>`,Zl=(l,h)=>{let y=di();if(y){if(!h.imageUrl){et(y);return}Ge(y,""),y.setAttribute("src",h.imageUrl),y.setAttribute("alt",h.imageAlt||""),Mn(y,"width",h.imageWidth),Mn(y,"height",h.imageHeight),y.className=g.image,Nt(y,h,"image")}},Jl=(l,h)=>{let y=b(),w=R();if(!(!y||!w)){if(h.toast){Mn(y,"width",h.width),w.style.width="100%";let P=pi();P&&w.insertBefore(P,D())}else Mn(w,"width",h.width);Mn(w,"padding",h.padding),h.color&&(w.style.color=h.color),h.background&&(w.style.background=h.background),et(hi()),Xl(w,h)}},Xl=(l,h)=>{let y=h.showClass||{};l.className=`${g.popup} ${Dt(l)?y.popup:""}`,h.toast?(me([document.documentElement,document.body],g["toast-shown"]),me(l,g.toast)):me(l,g.modal),Nt(l,h,"popup"),typeof h.customClass=="string"&&me(l,h.customClass),h.icon&&me(l,g[`icon-${h.icon}`])},Mc=(l,h)=>{let y=Ar();if(!y)return;let{progressSteps:w,currentProgressStep:P}=h;if(!w||w.length===0||P===void 0){et(y);return}Ge(y),y.textContent="",P>=w.length&&x("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),w.forEach(($,le)=>{let Ee=Nc($);if(y.appendChild(Ee),le===P&&me(Ee,g["active-progress-step"]),le!==w.length-1){let ze=ed(h);y.appendChild(ze)}})},Nc=l=>{let h=document.createElement("li");return me(h,g["progress-step"]),bt(h,l),h},ed=l=>{let h=document.createElement("li");return me(h,g["progress-step-line"]),l.progressStepsDistance&&Mn(h,"width",l.progressStepsDistance),h},td=(l,h)=>{let y=li();y&&(tt(y),Qn(y,h.title||h.titleText,"block"),h.title&&xn(h.title,y),h.titleText&&(y.innerText=h.titleText),Nt(y,h,"title"))},nd=(l,h)=>{Jl(l,h),gs(l,h),Mc(l,h),Bg(l,h),Zl(l,h),td(l,h),ql(l,h),Wl(l,h),Hl(l,h),Kl(l,h);let y=R();typeof h.didRender=="function"&&y&&h.didRender(y),o.eventEmitter.emit("didRender",y)},$g=()=>Dt(R()),xc=()=>{var l;return(l=Zt())===null||l===void 0?void 0:l.click()},rd=()=>{var l;return(l=Mt())===null||l===void 0?void 0:l.click()},Hg=()=>{var l;return(l=fi())===null||l===void 0?void 0:l.click()},Gt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),pn=l=>{l.keydownTarget&&l.keydownHandlerAdded&&(l.keydownTarget.removeEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!1)},Mo=(l,h,y)=>{pn(l),h.toast||(l.keydownHandler=w=>No(h,w,y),l.keydownTarget=h.keydownListenerCapture?window:R(),l.keydownListenerCapture=h.keydownListenerCapture,l.keydownTarget.addEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!0)},Ii=(l,h)=>{var y;let w=gi();if(w.length){l=l+h,l===w.length?l=0:l===-1&&(l=w.length-1),w[l].focus();return}(y=R())===null||y===void 0||y.focus()},Pc=["ArrowRight","ArrowDown"],ke=["ArrowLeft","ArrowUp"],No=(l,h,y)=>{l&&(h.isComposing||h.keyCode===229||(l.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?ws(h,l):h.key==="Tab"?_s(h):[...Pc,...ke].includes(h.key)?zg(h.key):h.key==="Escape"&&id(h,l,y)))},ws=(l,h)=>{if(!_e(h.allowEnterKey))return;let y=Co(R(),h.input);if(l.target&&y&&l.target instanceof HTMLElement&&l.target.outerHTML===y.outerHTML){if(["textarea","file"].includes(h.input))return;xc(),l.preventDefault()}},_s=l=>{let h=l.target,y=gi(),w=-1;for(let P=0;P<y.length;P++)if(h===y[P]){w=P;break}l.shiftKey?Ii(w,-1):Ii(w,1),l.stopPropagation(),l.preventDefault()},zg=l=>{let h=Rn(),y=Zt(),w=Mt(),P=fi();if(!h||!y||!w||!P)return;let $=[y,w,P];if(document.activeElement instanceof HTMLElement&&!$.includes(document.activeElement))return;let le=Pc.includes(l)?"nextElementSibling":"previousElementSibling",Ee=document.activeElement;if(Ee){for(let ze=0;ze<h.children.length;ze++){if(Ee=Ee[le],!Ee)return;if(Ee instanceof HTMLButtonElement&&Dt(Ee))break}Ee instanceof HTMLButtonElement&&Ee.focus()}},id=(l,h,y)=>{_e(h.allowEscapeKey)&&(l.preventDefault(),y(Gt.esc))};var Ei={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let qg=()=>{let l=b();Array.from(document.body.children).forEach(y=>{y.contains(l)||(y.hasAttribute("aria-hidden")&&y.setAttribute("data-previous-aria-hidden",y.getAttribute("aria-hidden")||""),y.setAttribute("aria-hidden","true"))})},sd=()=>{Array.from(document.body.children).forEach(h=>{h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")||""),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},od=typeof window<"u"&&!!window.GestureEvent,Is=()=>{if(od&&!Jt(document.body,g.iosfix)){let l=document.body.scrollTop;document.body.style.top=`${l*-1}px`,me(document.body,g.iosfix),Zn()}},Zn=()=>{let l=b();if(!l)return;let h;l.ontouchstart=y=>{h=ad(y)},l.ontouchmove=y=>{h&&(y.preventDefault(),y.stopPropagation())}},ad=l=>{let h=l.target,y=b(),w=vc();return!y||!w||cd(l)||ud(l)?!1:h===y||!Vl(y)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(Vl(w)&&w.contains(h))},cd=l=>l.touches&&l.touches.length&&l.touches[0].touchType==="stylus",ud=l=>l.touches&&l.touches.length>1,bi=()=>{if(Jt(document.body,g.iosfix)){let l=parseInt(document.body.style.top,10);Xt(document.body,g.iosfix),document.body.style.top="",document.body.scrollTop=l*-1}},Gg=()=>{let l=document.createElement("div");l.className=g["scrollbar-measure"],document.body.appendChild(l);let h=l.getBoundingClientRect().width-l.clientWidth;return document.body.removeChild(l),h},Di=null,Wg=l=>{Di===null&&(document.body.scrollHeight>window.innerHeight||l==="scroll")&&(Di=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Di+Gg()}px`)},Jn=()=>{Di!==null&&(document.body.style.paddingRight=`${Di}px`,Di=null)};function ld(l,h,y,w){yi()?Be(l,w):(u(y).then(()=>Be(l,w)),pn(o)),od?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),mi()&&(Jn(),bi(),sd()),Kg()}function Kg(){Xt([document.documentElement,document.body],[g.shown,g["height-auto"],g["no-backdrop"],g["toast-shown"]])}function Wt(l){l=Es(l);let h=Ei.swalPromiseResolve.get(this),y=xo(this);this.isAwaitingPromise?l.isDismissed||(Pn(this),h(l)):y&&h(l)}let xo=l=>{let h=R();if(!h)return!1;let y=Ce.innerParams.get(l);if(!y||Jt(h,y.hideClass.popup))return!1;Xt(h,y.showClass.popup),me(h,y.hideClass.popup);let w=b();return Xt(w,y.showClass.backdrop),me(w,y.hideClass.backdrop),dd(l,h,y),!0};function Oc(l){let h=Ei.swalPromiseReject.get(this);Pn(this),h&&h(l)}let Pn=l=>{l.isAwaitingPromise&&(delete l.isAwaitingPromise,Ce.innerParams.get(l)||l._destroy())},Es=l=>typeof l>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},l),dd=(l,h,y)=>{var w;let P=b(),$=vi(h);typeof y.willClose=="function"&&y.willClose(h),(w=o.eventEmitter)===null||w===void 0||w.emit("willClose",h),$?kc(l,h,P,y.returnFocus,y.didClose):ld(l,P,y.returnFocus,y.didClose)},kc=(l,h,y,w,P)=>{o.swalCloseEventFinishedCallback=ld.bind(null,l,y,w,P);let $=function(le){if(le.target===h){var Ee;(Ee=o.swalCloseEventFinishedCallback)===null||Ee===void 0||Ee.call(o),delete o.swalCloseEventFinishedCallback,h.removeEventListener("animationend",$),h.removeEventListener("transitionend",$)}};h.addEventListener("animationend",$),h.addEventListener("transitionend",$)},Be=(l,h)=>{setTimeout(()=>{var y;typeof h=="function"&&h.bind(l.params)(),(y=o.eventEmitter)===null||y===void 0||y.emit("didClose"),l._destroy&&l._destroy()})},Ci=l=>{let h=R();if(h||new Td,h=R(),!h)return;let y=pi();yi()?et(D()):Qg(h,l),Ge(y),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()},Qg=(l,h)=>{let y=Rn(),w=pi();!y||!w||(!h&&Dt(Zt())&&(h=Zt()),Ge(y),h&&(et(h),w.setAttribute("data-button-to-replace",h.className),y.insertBefore(w,h)),me([l,y],g.loading))},hd=(l,h)=>{h.input==="select"||h.input==="radio"?On(l,h):["text","email","number","tel","textarea"].some(y=>y===h.input)&&(Z(h.inputValue)||E(h.inputValue))&&(Ci(Zt()),md(l,h))},fd=(l,h)=>{let y=l.getInput();if(!y)return null;switch(h.input){case"checkbox":return pd(y);case"radio":return Po(y);case"file":return gd(y);default:return h.inputAutoTrim?y.value.trim():y.value}},pd=l=>l.checked?1:0,Po=l=>l.checked?l.value:null,gd=l=>l.files&&l.files.length?l.getAttribute("multiple")!==null?l.files:l.files[0]:null,On=(l,h)=>{let y=R();if(!y)return;let w=P=>{h.input==="select"?Yg(y,Ds(P),h):h.input==="radio"&&bs(y,Ds(P),h)};Z(h.inputOptions)||E(h.inputOptions)?(Ci(Zt()),T(h.inputOptions).then(P=>{l.hideLoading(),w(P)})):typeof h.inputOptions=="object"?w(h.inputOptions):V(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof h.inputOptions}`)},md=(l,h)=>{let y=l.getInput();y&&(et(y),T(h.inputValue).then(w=>{y.value=h.input==="number"?`${parseFloat(w)||0}`:`${w}`,Ge(y),y.focus(),l.hideLoading()}).catch(w=>{V(`Error in inputValue promise: ${w}`),y.value="",Ge(y),y.focus(),l.hideLoading()}))};function Yg(l,h,y){let w=Kn(l,g.select);if(!w)return;let P=($,le,Ee)=>{let ze=document.createElement("option");ze.value=Ee,bt(ze,le),ze.selected=Oo(Ee,y.inputValue),$.appendChild(ze)};h.forEach($=>{let le=$[0],Ee=$[1];if(Array.isArray(Ee)){let ze=document.createElement("optgroup");ze.label=le,ze.disabled=!1,w.appendChild(ze),Ee.forEach(Vo=>P(ze,Vo[1],Vo[0]))}else P(w,Ee,le)}),w.focus()}function bs(l,h,y){let w=Kn(l,g.radio);if(!w)return;h.forEach($=>{let le=$[0],Ee=$[1],ze=document.createElement("input"),Vo=document.createElement("label");ze.type="radio",ze.name=g.radio,ze.value=le,Oo(le,y.inputValue)&&(ze.checked=!0);let Jg=document.createElement("span");bt(Jg,Ee),Jg.className=g.label,Vo.appendChild(ze),Vo.appendChild(Jg),w.appendChild(Vo)});let P=w.querySelectorAll("input");P.length&&P[0].focus()}let Ds=l=>{let h=[];return l instanceof Map?l.forEach((y,w)=>{let P=y;typeof P=="object"&&(P=Ds(P)),h.push([w,P])}):Object.keys(l).forEach(y=>{let w=l[y];typeof w=="object"&&(w=Ds(w)),h.push([y,w])}),h},Oo=(l,h)=>!!h&&h.toString()===l.toString(),ko=l=>{let h=Ce.innerParams.get(l);l.disableButtons(),h.input?vd(l,"confirm"):Cs(l,!0)},yd=l=>{let h=Ce.innerParams.get(l);l.disableButtons(),h.returnInputValueOnDeny?vd(l,"deny"):Sr(l,!1)},Fo=(l,h)=>{l.disableButtons(),h(Gt.cancel)},vd=(l,h)=>{let y=Ce.innerParams.get(l);if(!y.input){V(`The "input" parameter is needed to be set when using returnInputValueOn${k(h)}`);return}let w=l.getInput(),P=fd(l,y);y.inputValidator?wd(l,P,h):w&&!w.checkValidity()?(l.enableButtons(),l.showValidationMessage(y.validationMessage||w.validationMessage)):h==="deny"?Sr(l,P):Cs(l,P)},wd=(l,h,y)=>{let w=Ce.innerParams.get(l);l.disableInput(),Promise.resolve().then(()=>T(w.inputValidator(h,w.validationMessage))).then($=>{l.enableButtons(),l.enableInput(),$?l.showValidationMessage($):y==="deny"?Sr(l,h):Cs(l,h)})},Sr=(l,h)=>{let y=Ce.innerParams.get(l||void 0);y.showLoaderOnDeny&&Ci(Mt()),y.preDeny?(l.isAwaitingPromise=!0,Promise.resolve().then(()=>T(y.preDeny(h,y.validationMessage))).then(P=>{P===!1?(l.hideLoading(),Pn(l)):l.close({isDenied:!0,value:typeof P>"u"?h:P})}).catch(P=>Lc(l||void 0,P))):l.close({isDenied:!0,value:h})},Fc=(l,h)=>{l.close({isConfirmed:!0,value:h})},Lc=(l,h)=>{l.rejectPromise(h)},Cs=(l,h)=>{let y=Ce.innerParams.get(l||void 0);y.showLoaderOnConfirm&&Ci(),y.preConfirm?(l.resetValidationMessage(),l.isAwaitingPromise=!0,Promise.resolve().then(()=>T(y.preConfirm(h,y.validationMessage))).then(P=>{Dt(hi())||P===!1?(l.hideLoading(),Pn(l)):Fc(l,typeof P>"u"?h:P)}).catch(P=>Lc(l||void 0,P))):Fc(l,h)};function Ti(){let l=Ce.innerParams.get(this);if(!l)return;let h=Ce.domCache.get(this);et(h.loader),yi()?l.icon&&Ge(D()):_d(h),Xt([h.popup,h.actions],g.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}let _d=l=>{let h=l.popup.getElementsByClassName(l.loader.getAttribute("data-button-to-replace"));h.length?Ge(h[0],"inline-block"):Ll()&&et(l.actions)};function Ts(){let l=Ce.innerParams.get(this),h=Ce.domCache.get(this);return h?Co(h.popup,l.input):null}function Vc(l,h,y){let w=Ce.domCache.get(l);h.forEach(P=>{w[P].disabled=y})}function jc(l,h){let y=R();if(!(!y||!l))if(l.type==="radio"){let w=y.querySelectorAll(`[name="${g.radio}"]`);for(let P=0;P<w.length;P++)w[P].disabled=h}else l.disabled=h}function Xn(){Vc(this,["confirmButton","denyButton","cancelButton"],!1)}function Uc(){Vc(this,["confirmButton","denyButton","cancelButton"],!0)}function Bc(){jc(this.getInput(),!1)}function $c(){jc(this.getInput(),!0)}function Hc(l){let h=Ce.domCache.get(this),y=Ce.innerParams.get(this);bt(h.validationMessage,l),h.validationMessage.className=g["validation-message"],y.customClass&&y.customClass.validationMessage&&me(h.validationMessage,y.customClass.validationMessage),Ge(h.validationMessage);let w=this.getInput();w&&(w.setAttribute("aria-invalid","true"),w.setAttribute("aria-describedby",g["validation-message"]),Ic(w),me(w,g.inputerror))}function As(){let l=Ce.domCache.get(this);l.validationMessage&&et(l.validationMessage);let h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),Xt(h,g.inputerror))}let nt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Id=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Ed={allowEnterKey:void 0},Ai=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],c=l=>Object.prototype.hasOwnProperty.call(nt,l),f=l=>Id.indexOf(l)!==-1,m=l=>Ed[l],v=l=>{c(l)||x(`Unknown parameter "${l}"`)},M=l=>{Ai.includes(l)&&x(`The parameter "${l}" is incompatible with toasts`)},O=l=>{let h=m(l);h&&re(l,h)},U=l=>{l.backdrop===!1&&l.allowOutsideClick&&x('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let h in l)v(h),l.toast&&M(h),O(h)};function xe(l){let h=R(),y=Ce.innerParams.get(this);if(!h||Jt(h,y.hideClass.popup)){x("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let w=ht(l),P=Object.assign({},y,w);nd(this,P),Ce.innerParams.set(this,P),Object.defineProperties(this,{params:{value:Object.assign({},this.params,l),writable:!1,enumerable:!0}})}let ht=l=>{let h={};return Object.keys(l).forEach(y=>{f(y)?h[y]=l[y]:x(`Invalid parameter to update: ${y}`)}),h};function Ie(){let l=Ce.domCache.get(this),h=Ce.innerParams.get(this);if(!h){ft(this);return}l.popup&&o.swalCloseEventFinishedCallback&&(o.swalCloseEventFinishedCallback(),delete o.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),o.eventEmitter.emit("didDestroy"),vt(this)}let vt=l=>{ft(l),delete l.params,delete o.keydownHandler,delete o.keydownTarget,delete o.currentInstance},ft=l=>{l.isAwaitingPromise?(er(Ce,l),l.isAwaitingPromise=!0):(er(Ei,l),er(Ce,l),delete l.isAwaitingPromise,delete l.disableButtons,delete l.enableButtons,delete l.getInput,delete l.disableInput,delete l.enableInput,delete l.hideLoading,delete l.disableLoading,delete l.showValidationMessage,delete l.resetValidationMessage,delete l.close,delete l.closePopup,delete l.closeModal,delete l.closeToast,delete l.rejectPromise,delete l.update,delete l._destroy)},er=(l,h)=>{for(let y in l)l[y].delete(h)};var en=Object.freeze({__proto__:null,_destroy:Ie,close:Wt,closeModal:Wt,closePopup:Wt,closeToast:Wt,disableButtons:Uc,disableInput:$c,disableLoading:Ti,enableButtons:Xn,enableInput:Bc,getInput:Ts,handleAwaitingPromise:Pn,hideLoading:Ti,rejectPromise:Oc,resetValidationMessage:As,showValidationMessage:Hc,update:xe});let Lo=(l,h,y)=>{l.toast?zc(l,h,y):(DN(h),CN(h),TN(l,h,y))},zc=(l,h,y)=>{h.popup.onclick=()=>{l&&(bN(l)||l.timer||l.input)||y(Gt.close)}},bN=l=>!!(l.showConfirmButton||l.showDenyButton||l.showCancelButton||l.showCloseButton),bd=!1,DN=l=>{l.popup.onmousedown=()=>{l.container.onmouseup=function(h){l.container.onmouseup=()=>{},h.target===l.container&&(bd=!0)}}},CN=l=>{l.container.onmousedown=h=>{h.target===l.container&&h.preventDefault(),l.popup.onmouseup=function(y){l.popup.onmouseup=()=>{},(y.target===l.popup||y.target instanceof HTMLElement&&l.popup.contains(y.target))&&(bd=!0)}}},TN=(l,h,y)=>{h.container.onclick=w=>{if(bd){bd=!1;return}w.target===h.container&&_e(l.allowOutsideClick)&&y(Gt.backdrop)}},AN=l=>typeof l=="object"&&l.jquery,YE=l=>l instanceof Element||AN(l),SN=l=>{let h={};return typeof l[0]=="object"&&!YE(l[0])?Object.assign(h,l[0]):["title","html","icon"].forEach((y,w)=>{let P=l[w];typeof P=="string"||YE(P)?h[y]=P:P!==void 0&&V(`Unexpected type of ${y}! Expected "string" or "Element", got ${typeof P}`)}),h};function RN(){for(var l=arguments.length,h=new Array(l),y=0;y<l;y++)h[y]=arguments[y];return new this(...h)}function MN(l){class h extends this{_main(w,P){return super._main(w,Object.assign({},l,P))}}return h}let NN=()=>o.timeout&&o.timeout.getTimerLeft(),ZE=()=>{if(o.timeout)return jl(),o.timeout.stop()},JE=()=>{if(o.timeout){let l=o.timeout.start();return To(l),l}},xN=()=>{let l=o.timeout;return l&&(l.running?ZE():JE())},PN=l=>{if(o.timeout){let h=o.timeout.increase(l);return To(h,!0),h}},ON=()=>!!(o.timeout&&o.timeout.isRunning()),XE=!1,Zg={};function kN(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Zg[l]=this,XE||(document.body.addEventListener("click",FN),XE=!0)}let FN=l=>{for(let h=l.target;h&&h!==document;h=h.parentNode)for(let y in Zg){let w=h.getAttribute(y);if(w){Zg[y].fire({template:w});return}}};class LN{constructor(){this.events={}}_getHandlersByEventName(h){return typeof this.events[h]>"u"&&(this.events[h]=[]),this.events[h]}on(h,y){let w=this._getHandlersByEventName(h);w.includes(y)||w.push(y)}once(h,y){var w=this;let P=function(){w.removeListener(h,P);for(var $=arguments.length,le=new Array($),Ee=0;Ee<$;Ee++)le[Ee]=arguments[Ee];y.apply(w,le)};this.on(h,P)}emit(h){for(var y=arguments.length,w=new Array(y>1?y-1:0),P=1;P<y;P++)w[P-1]=arguments[P];this._getHandlersByEventName(h).forEach($=>{try{$.apply(this,w)}catch(le){console.error(le)}})}removeListener(h,y){let w=this._getHandlersByEventName(h),P=w.indexOf(y);P>-1&&w.splice(P,1)}removeAllListeners(h){this.events[h]!==void 0&&(this.events[h].length=0)}reset(){this.events={}}}o.eventEmitter=new LN;var VN=Object.freeze({__proto__:null,argsToParams:SN,bindClickHandler:kN,clickCancel:Hg,clickConfirm:xc,clickDeny:rd,enableLoading:Ci,fire:RN,getActions:Rn,getCancelButton:fi,getCloseButton:wc,getConfirmButton:Zt,getContainer:b,getDenyButton:Mt,getFocusableElements:gi,getFooter:kl,getHtmlContainer:vc,getIcon:D,getIconContent:Sn,getImage:di,getInputLabel:mt,getLoader:pi,getPopup:R,getProgressSteps:Ar,getTimerLeft:NN,getTimerProgressBar:Wn,getTitle:li,getValidationMessage:hi,increaseTimer:PN,isDeprecatedParameter:m,isLoading:_c,isTimerRunning:ON,isUpdatableParameter:f,isValidParameter:c,isVisible:$g,mixin:MN,off:(l,h)=>{if(!l){o.eventEmitter.reset();return}h?o.eventEmitter.removeListener(l,h):o.eventEmitter.removeAllListeners(l)},on:(l,h)=>{o.eventEmitter.on(l,h)},once:(l,h)=>{o.eventEmitter.once(l,h)},resumeTimer:JE,showLoading:Ci,stopTimer:ZE,toggleTimer:xN});class jN{constructor(h,y){this.callback=h,this.remaining=y,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(h){let y=this.running;return y&&this.stop(),this.remaining+=h,y&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let eb=["swal-title","swal-html","swal-footer"],UN=l=>{let h=typeof l.template=="string"?document.querySelector(l.template):l.template;if(!h)return{};let y=h.content;return KN(y),Object.assign(BN(y),$N(y),HN(y),zN(y),qN(y),GN(y),WN(y,eb))},BN=l=>{let h={};return Array.from(l.querySelectorAll("swal-param")).forEach(w=>{Ss(w,["name","value"]);let P=w.getAttribute("name"),$=w.getAttribute("value");!P||!$||(typeof nt[P]=="boolean"?h[P]=$!=="false":typeof nt[P]=="object"?h[P]=JSON.parse($):h[P]=$)}),h},$N=l=>{let h={};return Array.from(l.querySelectorAll("swal-function-param")).forEach(w=>{let P=w.getAttribute("name"),$=w.getAttribute("value");!P||!$||(h[P]=new Function(`return ${$}`)())}),h},HN=l=>{let h={};return Array.from(l.querySelectorAll("swal-button")).forEach(w=>{Ss(w,["type","color","aria-label"]);let P=w.getAttribute("type");!P||!["confirm","cancel","deny"].includes(P)||(h[`${P}ButtonText`]=w.innerHTML,h[`show${k(P)}Button`]=!0,w.hasAttribute("color")&&(h[`${P}ButtonColor`]=w.getAttribute("color")),w.hasAttribute("aria-label")&&(h[`${P}ButtonAriaLabel`]=w.getAttribute("aria-label")))}),h},zN=l=>{let h={},y=l.querySelector("swal-image");return y&&(Ss(y,["src","width","height","alt"]),y.hasAttribute("src")&&(h.imageUrl=y.getAttribute("src")||void 0),y.hasAttribute("width")&&(h.imageWidth=y.getAttribute("width")||void 0),y.hasAttribute("height")&&(h.imageHeight=y.getAttribute("height")||void 0),y.hasAttribute("alt")&&(h.imageAlt=y.getAttribute("alt")||void 0)),h},qN=l=>{let h={},y=l.querySelector("swal-icon");return y&&(Ss(y,["type","color"]),y.hasAttribute("type")&&(h.icon=y.getAttribute("type")),y.hasAttribute("color")&&(h.iconColor=y.getAttribute("color")),h.iconHtml=y.innerHTML),h},GN=l=>{let h={},y=l.querySelector("swal-input");y&&(Ss(y,["type","label","placeholder","value"]),h.input=y.getAttribute("type")||"text",y.hasAttribute("label")&&(h.inputLabel=y.getAttribute("label")),y.hasAttribute("placeholder")&&(h.inputPlaceholder=y.getAttribute("placeholder")),y.hasAttribute("value")&&(h.inputValue=y.getAttribute("value")));let w=Array.from(l.querySelectorAll("swal-input-option"));return w.length&&(h.inputOptions={},w.forEach(P=>{Ss(P,["value"]);let $=P.getAttribute("value");if(!$)return;let le=P.innerHTML;h.inputOptions[$]=le})),h},WN=(l,h)=>{let y={};for(let w in h){let P=h[w],$=l.querySelector(P);$&&(Ss($,[]),y[P.replace(/^swal-/,"")]=$.innerHTML.trim())}return y},KN=l=>{let h=eb.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(l.children).forEach(y=>{let w=y.tagName.toLowerCase();h.includes(w)||x(`Unrecognized element <${w}>`)})},Ss=(l,h)=>{Array.from(l.attributes).forEach(y=>{h.indexOf(y.name)===-1&&x([`Unrecognized attribute "${y.name}" on <${l.tagName.toLowerCase()}>.`,`${h.length?`Allowed attributes are: ${h.join(", ")}`:"To set the value, use HTML within the element."}`])})},tb=10,QN=l=>{let h=b(),y=R();typeof l.willOpen=="function"&&l.willOpen(y),o.eventEmitter.emit("willOpen",y);let P=window.getComputedStyle(document.body).overflowY;JN(h,y,l),setTimeout(()=>{YN(h,y)},tb),mi()&&(ZN(h,l.scrollbarPadding,P),qg()),!yi()&&!o.previousActiveElement&&(o.previousActiveElement=document.activeElement),typeof l.didOpen=="function"&&setTimeout(()=>l.didOpen(y)),o.eventEmitter.emit("didOpen",y),Xt(h,g["no-transition"])},Dd=l=>{let h=R();if(l.target!==h)return;let y=b();h.removeEventListener("animationend",Dd),h.removeEventListener("transitionend",Dd),y.style.overflowY="auto"},YN=(l,h)=>{vi(h)?(l.style.overflowY="hidden",h.addEventListener("animationend",Dd),h.addEventListener("transitionend",Dd)):l.style.overflowY="auto"},ZN=(l,h,y)=>{Is(),h&&y!=="hidden"&&Wg(y),setTimeout(()=>{l.scrollTop=0})},JN=(l,h,y)=>{me(l,y.showClass.backdrop),y.animation?(h.style.setProperty("opacity","0","important"),Ge(h,"grid"),setTimeout(()=>{me(h,y.showClass.popup),h.style.removeProperty("opacity")},tb)):Ge(h,"grid"),me([document.documentElement,document.body],g.shown),y.heightAuto&&y.backdrop&&!y.toast&&me([document.documentElement,document.body],g["height-auto"])};var nb={email:(l,h)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid email address"),url:(l,h)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid URL")};function XN(l){l.inputValidator||(l.input==="email"&&(l.inputValidator=nb.email),l.input==="url"&&(l.inputValidator=nb.url))}function ex(l){(!l.target||typeof l.target=="string"&&!document.querySelector(l.target)||typeof l.target!="string"&&!l.target.appendChild)&&(x('Target parameter is not valid, defaulting to "body"'),l.target="body")}function tx(l){XN(l),l.showLoaderOnConfirm&&!l.preConfirm&&x(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),ex(l),typeof l.title=="string"&&(l.title=l.title.split(`
`).join("<br />")),Cc(l)}let tr;var Cd=new WeakMap;class Ye{constructor(){if(r(this,Cd,void 0),typeof window>"u")return;tr=this;for(var h=arguments.length,y=new Array(h),w=0;w<h;w++)y[w]=arguments[w];let P=Object.freeze(this.constructor.argsToParams(y));this.params=P,this.isAwaitingPromise=!1,i(Cd,this,this._main(tr.params))}_main(h){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(U(Object.assign({},y,h)),o.currentInstance){let $=Ei.swalPromiseResolve.get(o.currentInstance),{isAwaitingPromise:le}=o.currentInstance;o.currentInstance._destroy(),le||$({isDismissed:!0}),mi()&&sd()}o.currentInstance=tr;let w=rx(h,y);tx(w),Object.freeze(w),o.timeout&&(o.timeout.stop(),delete o.timeout),clearTimeout(o.restoreFocusTimeout);let P=ix(tr);return nd(tr,w),Ce.innerParams.set(tr,w),nx(tr,P,w)}then(h){return t(Cd,this).then(h)}finally(h){return t(Cd,this).finally(h)}}let nx=(l,h,y)=>new Promise((w,P)=>{let $=le=>{l.close({isDismissed:!0,dismiss:le})};Ei.swalPromiseResolve.set(l,w),Ei.swalPromiseReject.set(l,P),h.confirmButton.onclick=()=>{ko(l)},h.denyButton.onclick=()=>{yd(l)},h.cancelButton.onclick=()=>{Fo(l,$)},h.closeButton.onclick=()=>{$(Gt.close)},Lo(y,h,$),Mo(o,y,$),hd(l,y),QN(y),sx(o,y,$),ox(h,y),setTimeout(()=>{h.container.scrollTop=0})}),rx=(l,h)=>{let y=UN(l),w=Object.assign({},nt,h,y,l);return w.showClass=Object.assign({},nt.showClass,w.showClass),w.hideClass=Object.assign({},nt.hideClass,w.hideClass),w.animation===!1&&(w.showClass={backdrop:"swal2-noanimation"},w.hideClass={}),w},ix=l=>{let h={popup:R(),container:b(),actions:Rn(),confirmButton:Zt(),denyButton:Mt(),cancelButton:fi(),loader:pi(),closeButton:wc(),validationMessage:hi(),progressSteps:Ar()};return Ce.domCache.set(l,h),h},sx=(l,h,y)=>{let w=Wn();et(w),h.timer&&(l.timeout=new jN(()=>{y("timer"),delete l.timeout},h.timer),h.timerProgressBar&&(Ge(w),Nt(w,h,"timerProgressBar"),setTimeout(()=>{l.timeout&&l.timeout.running&&To(h.timer)})))},ox=(l,h)=>{if(!h.toast){if(!_e(h.allowEnterKey)){re("allowEnterKey"),ux();return}ax(l)||cx(l,h)||Ii(-1,1)}},ax=l=>{let h=Array.from(l.popup.querySelectorAll("[autofocus]"));for(let y of h)if(y instanceof HTMLElement&&Dt(y))return y.focus(),!0;return!1},cx=(l,h)=>h.focusDeny&&Dt(l.denyButton)?(l.denyButton.focus(),!0):h.focusCancel&&Dt(l.cancelButton)?(l.cancelButton.focus(),!0):h.focusConfirm&&Dt(l.confirmButton)?(l.confirmButton.focus(),!0):!1,ux=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let l=new Date,h=localStorage.getItem("swal-initiation");h?(l.getTime()-Date.parse(h))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let y=document.createElement("audio");y.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",y.loop=!0,document.body.appendChild(y),setTimeout(()=>{y.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${l}`)}Ye.prototype.disableButtons=Uc,Ye.prototype.enableButtons=Xn,Ye.prototype.getInput=Ts,Ye.prototype.disableInput=$c,Ye.prototype.enableInput=Bc,Ye.prototype.hideLoading=Ti,Ye.prototype.disableLoading=Ti,Ye.prototype.showValidationMessage=Hc,Ye.prototype.resetValidationMessage=As,Ye.prototype.close=Wt,Ye.prototype.closePopup=Wt,Ye.prototype.closeModal=Wt,Ye.prototype.closeToast=Wt,Ye.prototype.rejectPromise=Oc,Ye.prototype.update=xe,Ye.prototype._destroy=Ie,Object.assign(Ye,VN),Object.keys(en).forEach(l=>{Ye[l]=function(){return tr&&tr[l]?tr[l](...arguments):null}}),Ye.DismissReason=Gt,Ye.version="11.14.5";let Td=Ye;return Td.default=Td,Td});typeof Tr<"u"&&Tr.Sweetalert2&&(Tr.swal=Tr.sweetAlert=Tr.Swal=Tr.SweetAlert=Tr.Sweetalert2);typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});function rb(n,e){return Object.is(n,e)}var pt=null,Ad=!1,Sd=1,Rr=Symbol("SIGNAL");function Te(n){let e=pt;return pt=n,e}function ib(){return pt}var Gc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function tm(n){if(Ad)throw new Error("");if(pt===null)return;pt.consumerOnSignalRead(n);let e=pt.nextProducerIndex++;if(xd(pt),e<pt.producerNode.length&&pt.producerNode[e]!==n&&qc(pt)){let t=pt.producerNode[e];Nd(t,pt.producerIndexOfThis[e])}pt.producerNode[e]!==n&&(pt.producerNode[e]=n,pt.producerIndexOfThis[e]=qc(pt)?cb(n,pt,e):0),pt.producerLastReadVersion[e]=n.version}function dx(){Sd++}function sb(n){if(!(qc(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Sd)){if(!n.producerMustRecompute(n)&&!rm(n)){n.dirty=!1,n.lastCleanEpoch=Sd;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Sd}}function ob(n){if(n.liveConsumerNode===void 0)return;let e=Ad;Ad=!0;try{for(let t of n.liveConsumerNode)t.dirty||hx(t)}finally{Ad=e}}function ab(){return pt?.consumerAllowSignalWrites!==!1}function hx(n){n.dirty=!0,ob(n),n.consumerMarkedDirty?.(n)}function Md(n){return n&&(n.nextProducerIndex=0),Te(n)}function nm(n,e){if(Te(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(qc(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Nd(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function rm(n){xd(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(sb(t),r!==t.version))return!0}return!1}function im(n){if(xd(n),qc(n))for(let e=0;e<n.producerNode.length;e++)Nd(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function cb(n,e,t){if(ub(n),n.liveConsumerNode.length===0&&lb(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=cb(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Nd(n,e){if(ub(n),n.liveConsumerNode.length===1&&lb(n))for(let r=0;r<n.producerNode.length;r++)Nd(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];xd(i),i.producerIndexOfThis[r]=e}}function qc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function xd(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function ub(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function lb(n){return n.producerNode!==void 0}function db(n){let e=Object.create(fx);e.computation=n;let t=()=>{if(sb(e),tm(e),e.value===Rd)throw e.error;return e.value};return t[Rr]=e,t}var Xg=Symbol("UNSET"),em=Symbol("COMPUTING"),Rd=Symbol("ERRORED"),fx=pe(B({},Gc),{value:Xg,dirty:!0,error:null,equal:rb,producerMustRecompute(n){return n.value===Xg||n.value===em},producerRecomputeValue(n){if(n.value===em)throw new Error("Detected cycle in computations.");let e=n.value;n.value=em;let t=Md(n),r;try{r=n.computation()}catch(i){r=Rd,n.error=i}finally{nm(n,t)}if(e!==Xg&&e!==Rd&&r!==Rd&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function px(){throw new Error}var hb=px;function fb(){hb()}function pb(n){hb=n}var gx=null;function gb(n){let e=Object.create(yb);e.value=n;let t=()=>(tm(e),e.value);return t[Rr]=e,t}function sm(n,e){ab()||fb(),n.equal(n.value,e)||(n.value=e,mx(n))}function mb(n,e){ab()||fb(),sm(n,e(n.value))}var yb=pe(B({},Gc),{equal:rb,value:void 0});function mx(n){n.version++,dx(),ob(n),gx?.()}function ae(n){return typeof n=="function"}function jo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Pd=jo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Rs(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var We=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ae(r))try{r()}catch(s){e=s instanceof Pd?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{vb(s)}catch(o){e=e??[],o instanceof Pd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Pd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)vb(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Rs(t,e)}remove(e){let{_finalizers:t}=this;t&&Rs(t,e),e instanceof n&&e._removeParent(this)}};We.EMPTY=(()=>{let n=new We;return n.closed=!0,n})();var om=We.EMPTY;function Od(n){return n instanceof We||n&&"closed"in n&&ae(n.remove)&&ae(n.add)&&ae(n.unsubscribe)}function vb(n){ae(n)?n():n.unsubscribe()}var kn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Uo={setTimeout(n,e,...t){let{delegate:r}=Uo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Uo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function kd(n){Uo.setTimeout(()=>{let{onUnhandledError:e}=kn;if(e)e(n);else throw n})}function Wc(){}var wb=am("C",void 0,void 0);function _b(n){return am("E",void 0,n)}function Ib(n){return am("N",n,void 0)}function am(n,e,t){return{kind:n,value:e,error:t}}var Ms=null;function Bo(n){if(kn.useDeprecatedSynchronousErrorHandling){let e=!Ms;if(e&&(Ms={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Ms;if(Ms=null,t)throw r}}else n()}function Eb(n){kn.useDeprecatedSynchronousErrorHandling&&Ms&&(Ms.errorThrown=!0,Ms.error=n)}var Ns=class extends We{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Od(e)&&e.add(this)):this.destination=wx}static create(e,t,r){return new $o(e,t,r)}next(e){this.isStopped?um(Ib(e),this):this._next(e)}error(e){this.isStopped?um(_b(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?um(wb,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},yx=Function.prototype.bind;function cm(n,e){return yx.call(n,e)}var lm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Fd(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Fd(r)}else Fd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Fd(t)}}},$o=class extends Ns{constructor(e,t,r){super();let i;if(ae(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&kn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&cm(e.next,s),error:e.error&&cm(e.error,s),complete:e.complete&&cm(e.complete,s)}):i=e}this.destination=new lm(i)}};function Fd(n){kn.useDeprecatedSynchronousErrorHandling?Eb(n):kd(n)}function vx(n){throw n}function um(n,e){let{onStoppedNotification:t}=kn;t&&Uo.setTimeout(()=>t(n,e))}var wx={closed:!0,next:Wc,error:vx,complete:Wc};var Ho=typeof Symbol=="function"&&Symbol.observable||"@@observable";function tn(n){return n}function Ld(...n){return dm(n)}function dm(n){return n.length===0?tn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var de=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=Ix(t)?t:new $o(t,r,i);return Bo(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=bb(r),new r((i,s)=>{let o=new $o({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ho](){return this}pipe(...t){return dm(t)(this)}toPromise(t){return t=bb(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function bb(n){var e;return(e=n??kn.Promise)!==null&&e!==void 0?e:Promise}function _x(n){return n&&ae(n.next)&&ae(n.error)&&ae(n.complete)}function Ix(n){return n&&n instanceof Ns||_x(n)&&Od(n)}function hm(n){return ae(n?.lift)}function be(n){return e=>{if(hm(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ye(n,e,t,r,i){return new fm(n,e,t,r,i)}var fm=class extends Ns{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function zo(){return be((n,e)=>{let t=null;n._refCount++;let r=ye(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var qo=class extends de{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,hm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new We;let t=this.getSubject();e.add(this.source.subscribe(ye(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=We.EMPTY)}return e}refCount(){return zo()(this)}};var Db=jo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ct=(()=>{class n extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Vd(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Db}next(t){Bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?om:(this.currentObservers=null,s.push(t),new We(()=>{this.currentObservers=null,Rs(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new de;return t.source=this,t}}return n.create=(e,t)=>new Vd(e,t),n})(),Vd=class extends Ct{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:om}};var rt=class extends Ct{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var pm={now(){return(pm.delegate||Date).now()},delegate:void 0};var jd=class extends We{constructor(e,t){super()}schedule(e,t=0){return this}};var Kc={setInterval(n,e,...t){let{delegate:r}=Kc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Kc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Go=class extends jd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Kc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Kc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Rs(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Wo=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Wo.now=pm.now;var Ko=class extends Wo{constructor(e,t=Wo.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var gm=new Ko(Go);var Ud=class extends Go{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Bd=class extends Ko{};var mm=new Bd(Ud);var nn=new de(n=>n.complete());function Cb(n){return n&&ae(n.schedule)}function Tb(n){return n[n.length-1]}function $d(n){return ae(Tb(n))?n.pop():void 0}function Ri(n){return Cb(Tb(n))?n.pop():void 0}function ym(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Sb(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(p){try{d(r.next(p))}catch(g){o(g)}}function u(p){try{d(r.throw(p))}catch(g){o(g)}}function d(p){p.done?s(p.value):i(p.value).then(a,u)}d((r=r.apply(n,e||[])).next())})}function Ab(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xs(n){return this instanceof xs?(this.v=n,this):new xs(n)}function Rb(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(I){return function(N){return Promise.resolve(N).then(I,g)}}function a(I,N){r[I]&&(i[I]=function(k){return new Promise(function(x,V){s.push([I,k,x,V])>1||u(I,k)})},N&&(i[I]=N(i[I])))}function u(I,N){try{d(r[I](N))}catch(k){_(s[0][3],k)}}function d(I){I.value instanceof xs?Promise.resolve(I.value.v).then(p,g):_(s[0][2],I)}function p(I){u("next",I)}function g(I){u("throw",I)}function _(I,N){I(N),s.shift(),s.length&&u(s[0][0],s[0][1])}}function Mb(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Ab=="function"?Ab(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){o=n[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(d){s({value:d,done:a})},o)}}var Hd=n=>n&&typeof n.length=="number"&&typeof n!="function";function zd(n){return ae(n?.then)}function qd(n){return ae(n[Ho])}function Gd(n){return Symbol.asyncIterator&&ae(n?.[Symbol.asyncIterator])}function Wd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Ex(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Kd=Ex();function Qd(n){return ae(n?.[Kd])}function Yd(n){return Rb(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield xs(t.read());if(i)return yield xs(void 0);yield yield xs(r)}}finally{t.releaseLock()}})}function Zd(n){return ae(n?.getReader)}function it(n){if(n instanceof de)return n;if(n!=null){if(qd(n))return bx(n);if(Hd(n))return Dx(n);if(zd(n))return Cx(n);if(Gd(n))return Nb(n);if(Qd(n))return Tx(n);if(Zd(n))return Ax(n)}throw Wd(n)}function bx(n){return new de(e=>{let t=n[Ho]();if(ae(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Dx(n){return new de(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function Cx(n){return new de(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,kd)})}function Tx(n){return new de(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Nb(n){return new de(e=>{Sx(n,e).catch(t=>e.error(t))})}function Ax(n){return Nb(Yd(n))}function Sx(n,e){var t,r,i,s;return Sb(this,void 0,void 0,function*(){try{for(t=Mb(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function Kt(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Mi(n,e=0){return be((t,r)=>{t.subscribe(ye(r,i=>Kt(r,n,()=>r.next(i),e),()=>Kt(r,n,()=>r.complete(),e),i=>Kt(r,n,()=>r.error(i),e)))})}function Ni(n,e=0){return be((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function xb(n,e){return it(n).pipe(Ni(e),Mi(e))}function Pb(n,e){return it(n).pipe(Ni(e),Mi(e))}function Ob(n,e){return new de(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function kb(n,e){return new de(t=>{let r;return Kt(t,e,()=>{r=n[Kd](),Kt(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>ae(r?.return)&&r.return()})}function Jd(n,e){if(!n)throw new Error("Iterable cannot be null");return new de(t=>{Kt(t,e,()=>{let r=n[Symbol.asyncIterator]();Kt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Fb(n,e){return Jd(Yd(n),e)}function Lb(n,e){if(n!=null){if(qd(n))return xb(n,e);if(Hd(n))return Ob(n,e);if(zd(n))return Pb(n,e);if(Gd(n))return Jd(n,e);if(Qd(n))return kb(n,e);if(Zd(n))return Fb(n,e)}throw Wd(n)}function Ve(n,e){return e?Lb(n,e):it(n)}function ee(...n){let e=Ri(n);return Ve(n,e)}function Qo(n,e){let t=ae(n)?n:()=>n,r=i=>i.error(t());return new de(e?i=>e.schedule(r,0,i):r)}function vm(n){return!!n&&(n instanceof de||ae(n.lift)&&ae(n.subscribe))}var Mr=jo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ie(n,e){return be((t,r)=>{let i=0;t.subscribe(ye(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:Rx}=Array;function Mx(n,e){return Rx(e)?n(...e):n(e)}function Xd(n){return ie(e=>Mx(n,e))}var{isArray:Nx}=Array,{getPrototypeOf:xx,prototype:Px,keys:Ox}=Object;function eh(n){if(n.length===1){let e=n[0];if(Nx(e))return{args:e,keys:null};if(kx(e)){let t=Ox(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function kx(n){return n&&typeof n=="object"&&xx(n)===Px}function th(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Qc(...n){let e=Ri(n),t=$d(n),{args:r,keys:i}=eh(n);if(r.length===0)return Ve([],e);let s=new de(Fx(r,e,i?o=>th(i,o):tn));return t?s.pipe(Xd(t)):s}function Fx(n,e,t=tn){return r=>{Vb(e,()=>{let{length:i}=n,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)Vb(e,()=>{let d=Ve(n[u],e),p=!1;d.subscribe(ye(r,g=>{s[u]=g,p||(p=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function Vb(n,e,t){n?Kt(t,n,e):e()}function jb(n,e,t,r,i,s,o,a){let u=[],d=0,p=0,g=!1,_=()=>{g&&!u.length&&!d&&e.complete()},I=k=>d<r?N(k):u.push(k),N=k=>{s&&e.next(k),d++;let x=!1;it(t(k,p++)).subscribe(ye(e,V=>{i?.(V),s?I(V):e.next(V)},()=>{x=!0},void 0,()=>{if(x)try{for(d--;u.length&&d<r;){let V=u.shift();o?Kt(e,o,()=>N(V)):N(V)}_()}catch(V){e.error(V)}}))};return n.subscribe(ye(e,I,()=>{g=!0,_()})),()=>{a?.()}}function st(n,e,t=1/0){return ae(e)?st((r,i)=>ie((s,o)=>e(r,s,i,o))(it(n(r,i))),t):(typeof e=="number"&&(t=e),be((r,i)=>jb(r,i,n,t)))}function Yo(n=1/0){return st(tn,n)}function Ub(){return Yo(1)}function Zo(...n){return Ub()(Ve(n,Ri(n)))}function nh(n){return new de(e=>{it(n()).subscribe(e)})}function wm(...n){let e=$d(n),{args:t,keys:r}=eh(n),i=new de(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),u=o,d=o;for(let p=0;p<o;p++){let g=!1;it(t[p]).subscribe(ye(s,_=>{g||(g=!0,d--),a[p]=_},()=>u--,void 0,()=>{(!u||!g)&&(d||s.next(r?th(r,a):a),s.complete())}))}});return e?i.pipe(Xd(e)):i}function Lt(n,e){return be((t,r)=>{let i=0;t.subscribe(ye(r,s=>n.call(e,s,i++)&&r.next(s)))})}function xi(n){return be((e,t)=>{let r=null,i=!1,s;r=e.subscribe(ye(t,void 0,void 0,o=>{s=it(n(o,xi(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Bb(n,e,t,r,i){return(s,o)=>{let a=t,u=e,d=0;s.subscribe(ye(o,p=>{let g=d++;u=a?n(u,p,g):(a=!0,p),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Nr(n,e){return ae(e)?st(n,e,1):st(n,1)}function Pi(n){return be((e,t)=>{let r=!1;e.subscribe(ye(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function xr(n){return n<=0?()=>nn:be((e,t)=>{let r=0;e.subscribe(ye(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function _m(n){return ie(()=>n)}function rh(n=Lx){return be((e,t)=>{let r=!1;e.subscribe(ye(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Lx(){return new Mr}function Ps(n){return be((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function nr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Lt((i,s)=>n(i,s,r)):tn,xr(1),t?Pi(e):rh(()=>new Mr))}function Jo(n){return n<=0?()=>nn:be((e,t)=>{let r=[];e.subscribe(ye(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Im(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Lt((i,s)=>n(i,s,r)):tn,Jo(1),t?Pi(e):rh(()=>new Mr))}function ih(n,e){return be(Bb(n,e,arguments.length>=2,!0))}function sh(...n){let e=Ri(n);return be((t,r)=>{(e?Zo(n,t,e):Zo(n,t)).subscribe(r)})}function Qt(n,e){return be((t,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();t.subscribe(ye(r,u=>{i?.unsubscribe();let d=0,p=s++;it(n(u,p)).subscribe(i=ye(r,g=>r.next(e?e(u,g,p,d++):g),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Em(n){return be((e,t)=>{it(n).subscribe(ye(t,()=>t.complete(),Wc)),!t.closed&&e.subscribe(t)})}function ot(n,e,t){let r=ae(n)||e||t?{next:n,error:e,complete:t}:n;return r?be((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ye(s,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,u),s.error(u)},()=>{var u,d;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):tn}var TD="https://g.co/ng/security#xss",Q=class extends Error{constructor(e,t){super(Uh(e,t)),this.code=e}};function Uh(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function su(n){return{toString:n}.toString()}var oh="__parameters__";function Vx(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function AD(n,e,t){return su(()=>{let r=Vx(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,d,p){let g=u.hasOwnProperty(oh)?u[oh]:Object.defineProperty(u,oh,{value:[]})[oh];for(;g.length<=p;)g.push(null);return(g[p]=g[p]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Yc=globalThis;function Fe(n){for(let e in n)if(n[e]===Fe)return e;throw Error("Could not find renamed property on target object.")}function jx(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function jt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(jt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function $b(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var Ux=Fe({__forward_ref__:Fe});function sn(n){return n.__forward_ref__=sn,n.toString=function(){return jt(this())},n}function Vt(n){return SD(n)?n():n}function SD(n){return typeof n=="function"&&n.hasOwnProperty(Ux)&&n.__forward_ref__===sn}function G(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ur(n){return{providers:n.providers||[],imports:n.imports||[]}}function Bh(n){return Hb(n,MD)||Hb(n,ND)}function RD(n){return Bh(n)!==null}function Hb(n,e){return n.hasOwnProperty(e)?n[e]:null}function Bx(n){let e=n&&(n[MD]||n[ND]);return e||null}function zb(n){return n&&(n.hasOwnProperty(qb)||n.hasOwnProperty($x))?n[qb]:null}var MD=Fe({\u0275prov:Fe}),qb=Fe({\u0275inj:Fe}),ND=Fe({ngInjectableDef:Fe}),$x=Fe({ngInjectorDef:Fe}),z=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=G({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function xD(n){return n&&!!n.\u0275providers}var Hx=Fe({\u0275cmp:Fe}),zx=Fe({\u0275dir:Fe}),qx=Fe({\u0275pipe:Fe}),Gx=Fe({\u0275mod:Fe}),gh=Fe({\u0275fac:Fe}),Jc=Fe({__NG_ELEMENT_ID__:Fe}),Gb=Fe({__NG_ENV_ID__:Fe});function $h(n){return typeof n=="string"?n:n==null?"":String(n)}function Wx(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():$h(n)}function Kx(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Q(-200,n)}function Ty(n,e){throw new Q(-201,!1)}var he=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(he||{}),Lm;function PD(){return Lm}function Yt(n){let e=Lm;return Lm=n,e}function OD(n,e,t){let r=Bh(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&he.Optional)return null;if(e!==void 0)return e;Ty(n,"Injector")}var Qx={},Xc=Qx,Vm="__NG_DI_FLAG__",mh="ngTempTokenPath",Yx="ngTokenPath",Zx=/\n/gm,Jx="\u0275",Wb="__source",ra;function Xx(){return ra}function Oi(n){let e=ra;return ra=n,e}function eP(n,e=he.Default){if(ra===void 0)throw new Q(-203,!1);return ra===null?OD(n,void 0,e):ra.get(n,e&he.Optional?null:void 0,e)}function Y(n,e=he.Default){return(PD()||eP)(Vt(n),e)}function L(n,e=he.Default){return Y(n,Hh(e))}function Hh(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function jm(n){let e=[];for(let t=0;t<n.length;t++){let r=Vt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new Q(900,!1);let i,s=he.Default;for(let o=0;o<r.length;o++){let a=r[o],u=tP(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(Y(i,s))}else e.push(Y(r))}return e}function kD(n,e){return n[Vm]=e,n.prototype[Vm]=e,n}function tP(n){return n[Vm]}function nP(n,e,t,r){let i=n[mh];throw e[Wb]&&i.unshift(e[Wb]),n.message=rP(`
`+n.message,i,t,r),n[Yx]=i,n[mh]=null,n}function rP(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==Jx?n.slice(2):n;let i=jt(e);if(Array.isArray(e))i=e.map(jt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):jt(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Zx,`
  `)}`}var xt=kD(AD("Optional"),8);var Ay=kD(AD("SkipSelf"),4);function Fs(n,e){let t=n.hasOwnProperty(gh);return t?n[gh]:null}function Sy(n,e){n.forEach(t=>Array.isArray(t)?Sy(t,e):e(t))}function FD(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function yh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function iP(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function sP(n,e,t){let r=ou(n,e);return r>=0?n[r|1]=t:(r=~r,iP(n,r,e,t)),r}function bm(n,e){let t=ou(n,e);if(t>=0)return n[t|1]}function ou(n,e){return oP(n,e,1)}function oP(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}var sa={},gn=[],oa=new z(""),LD=new z("",-1),VD=new z(""),vh=class{get(e,t=Xc){if(t===Xc){let r=new Error(`NullInjectorError: No provider for ${jt(e)}!`);throw r.name="NullInjectorError",r}return t}},jD=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(jD||{}),sr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(sr||{}),Li=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Li||{});function aP(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function Um(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{let s=i,o=t[++r];uP(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function cP(n){return n===3||n===4||n===6}function uP(n){return n.charCodeAt(0)===64}function eu(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Kb(n,t,i,null,e[++r]):Kb(n,t,i,null,null))}}return n}function Kb(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[s+1]=i);return}else if(r===n[s+1]){n[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),r!==null&&n.splice(s++,0,r),i!==null&&n.splice(s++,0,i)}var UD="ng-template";function lP(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&aP(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Ry(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function Ry(n){return n.type===4&&n.value!==UD}function dP(n,e,t){let r=n.type===4&&!t?UD:n.value;return e===r}function hP(n,e,t){let r=4,i=n.attrs,s=i!==null?gP(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!Fn(r)&&!Fn(u))return!1;if(o&&Fn(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!dP(n,u,t)||u===""&&e.length===1){if(Fn(r))return!1;o=!0}}else if(r&8){if(i===null||!lP(n,i,u,t)){if(Fn(r))return!1;o=!0}}else{let d=e[++a],p=fP(u,i,Ry(n),t);if(p===-1){if(Fn(r))return!1;o=!0;continue}if(d!==""){let g;if(p>s?g="":g=i[p+1].toLowerCase(),r&2&&d!==g){if(Fn(r))return!1;o=!0}}}}return Fn(r)||o}function Fn(n){return(n&1)===0}function fP(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return mP(e,n)}function pP(n,e,t=!1){for(let r=0;r<e.length;r++)if(hP(n,e[r],t))return!0;return!1}function gP(n){for(let e=0;e<n.length;e++){let t=n[e];if(cP(t))return e}return n.length}function mP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function Qb(n,e){return n?":not("+e.trim()+")":e}function yP(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Fn(o)&&(e+=Qb(s,i),i=""),r=o,s=s||!Fn(r);t++}return i!==""&&(e+=Qb(s,i)),e}function vP(n){return n.map(yP).join(",")}function wP(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!Fn(i))break;i=s}r++}return{attrs:e,classes:t}}function BD(n){return su(()=>{let e=WD(n),t=pe(B({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===jD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||sr.Emulated,styles:n.styles||gn,_:null,schemas:n.schemas||null,tView:null,id:""});KD(t);let r=n.dependencies;return t.directiveDefs=Zb(r,!1),t.pipeDefs=Zb(r,!0),t.id=EP(t),t})}function _P(n){return Vi(n)||HD(n)}function IP(n){return n!==null}function lr(n){return su(()=>({type:n.type,bootstrap:n.bootstrap||gn,declarations:n.declarations||gn,imports:n.imports||gn,exports:n.exports||gn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Yb(n,e){if(n==null)return sa;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,a=Li.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(t[s]=a!==Li.None?[r,a]:r,e[s]=o):t[s]=r}return t}function $e(n){return su(()=>{let e=WD(n);return KD(e),e})}function $D(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Vi(n){return n[Hx]||null}function HD(n){return n[zx]||null}function zD(n){return n[qx]||null}function qD(n){let e=Vi(n)||HD(n)||zD(n);return e!==null?e.standalone:!1}function GD(n,e){let t=n[Gx]||null;if(!t&&e===!0)throw new Error(`Type ${jt(n)} does not have '\u0275mod' property.`);return t}function WD(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||sa,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||gn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Yb(n.inputs,e),outputs:Yb(n.outputs),debugInfo:null}}function KD(n){n.features?.forEach(e=>e(n))}function Zb(n,e){if(!n)return null;let t=e?zD:_P;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(IP)}function EP(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function vn(n){return{\u0275providers:n}}function bP(...n){return{\u0275providers:QD(!0,n),\u0275fromNgModule:!0}}function QD(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return Sy(e,o=>{let a=o;Bm(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&YD(i,s),t}function YD(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];My(i,s=>{e(s,r)})}}function Bm(n,e,t,r){if(n=Vt(n),!n)return!1;let i=null,s=zb(n),o=!s&&Vi(n);if(!s&&!o){let u=n.ngModule;if(s=zb(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=n}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let d of u)Bm(d,e,t,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let d;try{Sy(s.imports,p=>{Bm(p,e,t,r)&&(d||=[],d.push(p))})}finally{}d!==void 0&&YD(d,e)}if(!a){let d=Fs(i)||(()=>new i);e({provide:i,useFactory:d,deps:gn},i),e({provide:VD,useValue:i,multi:!0},i),e({provide:oa,useValue:()=>Y(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let d=n;My(u,p=>{e(p,d)})}}else return!1;return i!==n&&n.providers!==void 0}function My(n,e){for(let t of n)xD(t)&&(t=t.\u0275providers),Array.isArray(t)?My(t,e):e(t)}var DP=Fe({provide:String,useValue:Fe});function ZD(n){return n!==null&&typeof n=="object"&&DP in n}function CP(n){return!!(n&&n.useExisting)}function TP(n){return!!(n&&n.useFactory)}function aa(n){return typeof n=="function"}function AP(n){return!!n.useClass}var zh=new z(""),lh={},SP={},Dm;function Ny(){return Dm===void 0&&(Dm=new vh),Dm}var Ut=class{},tu=class extends Ut{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Hm(e,o=>this.processProvider(o)),this.records.set(LD,Xo(void 0,this)),i.has("environment")&&this.records.set(Ut,Xo(void 0,this));let s=this.records.get(zh);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(VD,gn,he.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Te(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Te(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Oi(this),r=Yt(void 0),i;try{return e()}finally{Oi(t),Yt(r)}}get(e,t=Xc,r=he.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Gb))return e[Gb](this);r=Hh(r);let i,s=Oi(this),o=Yt(void 0);try{if(!(r&he.SkipSelf)){let u=this.records.get(e);if(u===void 0){let d=PP(e)&&Bh(e);d&&this.injectableDefInScope(d)?u=Xo($m(e),lh):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&he.Self?Ny():this.parent;return t=r&he.Optional&&t===Xc?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[mh]=a[mh]||[]).unshift(jt(e)),s)throw a;return nP(a,e,"R3InjectorError",this.source)}else throw a}finally{Yt(o),Oi(s)}}resolveInjectorInitializers(){let e=Te(null),t=Oi(this),r=Yt(void 0),i;try{let s=this.get(oa,gn,he.Self);for(let o of s)o()}finally{Oi(t),Yt(r),Te(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(jt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Q(205,!1)}processProvider(e){e=Vt(e);let t=aa(e)?e:Vt(e&&e.provide),r=MP(e);if(!aa(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Xo(void 0,lh,!0),i.factory=()=>jm(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=Te(null);try{return t.value===lh&&(t.value=SP,t.value=t.factory()),typeof t.value=="object"&&t.value&&xP(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Te(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Vt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function $m(n){let e=Bh(n),t=e!==null?e.factory:Fs(n);if(t!==null)return t;if(n instanceof z)throw new Q(204,!1);if(n instanceof Function)return RP(n);throw new Q(204,!1)}function RP(n){if(n.length>0)throw new Q(204,!1);let t=Bx(n);return t!==null?()=>t.factory(n):()=>new n}function MP(n){if(ZD(n))return Xo(void 0,n.useValue);{let e=JD(n);return Xo(e,lh)}}function JD(n,e,t){let r;if(aa(n)){let i=Vt(n);return Fs(i)||$m(i)}else if(ZD(n))r=()=>Vt(n.useValue);else if(TP(n))r=()=>n.useFactory(...jm(n.deps||[]));else if(CP(n))r=()=>Y(Vt(n.useExisting));else{let i=Vt(n&&(n.useClass||n.provide));if(NP(n))r=()=>new i(...jm(n.deps));else return Fs(i)||$m(i)}return r}function Xo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function NP(n){return!!n.deps}function xP(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function PP(n){return typeof n=="function"||typeof n=="object"&&n instanceof z}function Hm(n,e){for(let t of n)Array.isArray(t)?Hm(t,e):t&&xD(t)?Hm(t.\u0275providers,e):e(t)}function wn(n,e){n instanceof tu&&n.assertNotDestroyed();let t,r=Oi(n),i=Yt(void 0);try{return e()}finally{Oi(r),Yt(i)}}function XD(){return PD()!==void 0||Xx()!=null}function OP(n){if(!XD())throw new Q(-203,!1)}function kP(n){return typeof n=="function"}var Fr=0,ge=1,se=2,Bt=3,Ln=4,jn=5,wh=6,_h=7,Vn=8,ca=9,or=10,Ze=11,nu=12,Jb=13,va=14,ar=15,ua=16,ea=17,la=18,qh=19,eC=20,ki=21,Cm=22,mn=23,rn=25,tC=1;var Ls=7,Ih=8,Eh=9,yn=10,bh=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(bh||{});function Fi(n){return Array.isArray(n)&&typeof n[tC]=="object"}function Lr(n){return Array.isArray(n)&&n[tC]===!0}function xy(n){return(n.flags&4)!==0}function Gh(n){return n.componentOffset>-1}function Wh(n){return(n.flags&1)===1}function ji(n){return!!n.template}function zm(n){return(n[se]&512)!==0}var qm=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function nC(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Vr(){return rC}function rC(n){return n.type.prototype.ngOnChanges&&(n.setInput=LP),FP}Vr.ngInherit=!0;function FP(){let n=sC(this),e=n?.current;if(e){let t=n.previous;if(t===sa)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function LP(n,e,t,r,i){let s=this.declaredInputs[r],o=sC(n)||VP(n,{previous:sa,current:null}),a=o.current||(o.current={}),u=o.previous,d=u[s];a[s]=new qm(d&&d.currentValue,t,u===sa),nC(n,e,i,t)}var iC="__ngSimpleChanges__";function sC(n){return n[iC]||null}function VP(n,e){return n[iC]=e}var Xb=null;var rr=function(n,e,t){Xb?.(n,e,t)},jP="svg",UP="math";function cr(n){for(;Array.isArray(n);)n=n[Fr];return n}function oC(n,e){return cr(e[n])}function _n(n,e){return cr(e[n.index])}function aC(n,e){return n.data[e]}function Py(n,e){return n[e]}function Hi(n,e){let t=e[n];return Fi(t)?t:t[Fr]}function Oy(n){return(n[se]&128)===128}function BP(n){return Lr(n[Bt])}function da(n,e){return e==null?null:n[e]}function cC(n){n[ea]=0}function uC(n){n[se]&1024||(n[se]|=1024,Oy(n)&&Qh(n))}function $P(n,e){for(;n>0;)e=e[va],n--;return e}function Kh(n){return!!(n[se]&9216||n[mn]?.dirty)}function Gm(n){n[or].changeDetectionScheduler?.notify(8),n[se]&64&&(n[se]|=1024),Kh(n)&&Qh(n)}function Qh(n){n[or].changeDetectionScheduler?.notify(0);let e=Vs(n);for(;e!==null&&!(e[se]&8192||(e[se]|=8192,!Oy(e)));)e=Vs(e)}function lC(n,e){if((n[se]&256)===256)throw new Q(911,!1);n[ki]===null&&(n[ki]=[]),n[ki].push(e)}function HP(n,e){if(n[ki]===null)return;let t=n[ki].indexOf(e);t!==-1&&n[ki].splice(t,1)}function Vs(n){let e=n[Bt];return Lr(e)?e[Bt]:e}var fe={lFrame:wC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var dC=!1;function zP(){return fe.lFrame.elementDepthCount}function qP(){fe.lFrame.elementDepthCount++}function GP(){fe.lFrame.elementDepthCount--}function hC(){return fe.bindingsEnabled}function WP(){return fe.skipHydrationRootTNode!==null}function KP(n){return fe.skipHydrationRootTNode===n}function QP(){fe.skipHydrationRootTNode=null}function Re(){return fe.lFrame.lView}function At(){return fe.lFrame.tView}function V6(n){return fe.lFrame.contextLView=n,n[Vn]}function j6(n){return fe.lFrame.contextLView=null,n}function $t(){let n=fC();for(;n!==null&&n.type===64;)n=n.parent;return n}function fC(){return fe.lFrame.currentTNode}function YP(){let n=fe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Hs(n,e){let t=fe.lFrame;t.currentTNode=n,t.isParent=e}function ky(){return fe.lFrame.isParent}function pC(){fe.lFrame.isParent=!1}function ZP(){return fe.lFrame.contextLView}function gC(){return dC}function eD(n){dC=n}function Fy(){let n=fe.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function JP(n){return fe.lFrame.bindingIndex=n}function Yh(){return fe.lFrame.bindingIndex++}function XP(n){let e=fe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function eO(){return fe.lFrame.inI18n}function tO(n,e){let t=fe.lFrame;t.bindingIndex=t.bindingRootIndex=n,Wm(e)}function nO(){return fe.lFrame.currentDirectiveIndex}function Wm(n){fe.lFrame.currentDirectiveIndex=n}function rO(n){let e=fe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function mC(n){fe.lFrame.currentQueryIndex=n}function iO(n){let e=n[ge];return e.type===2?e.declTNode:e.type===1?n[jn]:null}function yC(n,e,t){if(t&he.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&he.Host);)if(i=iO(s),i===null||(s=s[va],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=fe.lFrame=vC();return r.currentTNode=e,r.lView=n,!0}function Ly(n){let e=vC(),t=n[ge];fe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function vC(){let n=fe.lFrame,e=n===null?null:n.child;return e===null?wC(n):e}function wC(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function _C(){let n=fe.lFrame;return fe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var IC=_C;function Vy(){let n=_C();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function sO(n){return(fe.lFrame.contextLView=$P(n,fe.lFrame.contextLView))[Vn]}function wa(){return fe.lFrame.selectedIndex}function js(n){fe.lFrame.selectedIndex=n}function Zh(){let n=fe.lFrame;return aC(n.tView,n.selectedIndex)}function oO(){return fe.lFrame.currentNamespace}var EC=!0;function Jh(){return EC}function Xh(n){EC=n}function aO(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=rC(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function ef(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:p}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),p!=null&&(n.destroyHooks??=[]).push(t,p)}}function dh(n,e,t){bC(n,e,3,t)}function hh(n,e,t,r){(n[se]&3)===t&&bC(n,e,t,r)}function Tm(n,e){let t=n[se];(t&3)===e&&(t&=16383,t+=1,n[se]=t)}function bC(n,e,t,r){let i=r!==void 0?n[ea]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[ea]+=65536),(a<s||s==-1)&&(cO(n,t,e,u),n[ea]=(n[ea]&4294901760)+u+2),u++}function tD(n,e){rr(4,n,e);let t=Te(null);try{e.call(n)}finally{Te(t),rr(5,n,e)}}function cO(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],a=n[o];i?n[se]>>14<n[ea]>>16&&(n[se]&3)===e&&(n[se]+=16384,tD(a,s)):tD(a,s)}var ia=-1,Us=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function uO(n){return n instanceof Us}function lO(n){return(n.flags&8)!==0}function dO(n){return(n.flags&16)!==0}var Am={},Km=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Hh(r);let i=this.injector.get(e,Am,r);return i!==Am||t===Am?i:this.parentInjector.get(e,t,r)}};function DC(n){return n!==ia}function Dh(n){return n&32767}function hO(n){return n>>16}function Ch(n,e){let t=hO(n),r=e;for(;t>0;)r=r[va],t--;return r}var Qm=!0;function Th(n){let e=Qm;return Qm=n,e}var fO=256,CC=fO-1,TC=5,pO=0,ir={};function gO(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Jc)&&(r=t[Jc]),r==null&&(r=t[Jc]=pO++);let i=r&CC,s=1<<i;e.data[n+(i>>TC)]|=s}function Ah(n,e){let t=AC(n,e);if(t!==-1)return t;let r=e[ge];r.firstCreatePass&&(n.injectorIndex=e.length,Sm(r.data,n),Sm(e,null),Sm(r.blueprint,null));let i=jy(n,e),s=n.injectorIndex;if(DC(i)){let o=Dh(i),a=Ch(i,e),u=a[ge].data;for(let d=0;d<8;d++)e[s+d]=a[o+d]|u[o+d]}return e[s+8]=i,s}function Sm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function AC(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function jy(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=xC(i),r===null)return ia;if(t++,i=i[va],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ia}function Ym(n,e,t){gO(n,e,t)}function SC(n,e,t){if(t&he.Optional||n!==void 0)return n;Ty(e,"NodeInjector")}function RC(n,e,t,r){if(t&he.Optional&&r===void 0&&(r=null),!(t&(he.Self|he.Host))){let i=n[ca],s=Yt(void 0);try{return i?i.get(e,r,t&he.Optional):OD(e,r,t&he.Optional)}finally{Yt(s)}}return SC(r,e,t)}function MC(n,e,t,r=he.Default,i){if(n!==null){if(e[se]&2048&&!(r&he.Self)){let o=_O(n,e,t,r,ir);if(o!==ir)return o}let s=NC(n,e,t,r,ir);if(s!==ir)return s}return RC(e,t,r,i)}function NC(n,e,t,r,i){let s=vO(t);if(typeof s=="function"){if(!yC(e,n,r))return r&he.Host?SC(i,t,r):RC(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&he.Optional))Ty(t);else return o}finally{IC()}}else if(typeof s=="number"){let o=null,a=AC(n,e),u=ia,d=r&he.Host?e[ar][jn]:null;for((a===-1||r&he.SkipSelf)&&(u=a===-1?jy(n,e):e[a+8],u===ia||!rD(r,!1)?a=-1:(o=e[ge],a=Dh(u),e=Ch(u,e)));a!==-1;){let p=e[ge];if(nD(s,a,p.data)){let g=mO(a,e,t,o,r,d);if(g!==ir)return g}u=e[a+8],u!==ia&&rD(r,e[ge].data[a+8]===d)&&nD(s,a,e)?(o=p,a=Dh(u),e=Ch(u,e)):a=-1}}return i}function mO(n,e,t,r,i,s){let o=e[ge],a=o.data[n+8],u=r==null?Gh(a)&&Qm:r!=o&&(a.type&3)!==0,d=i&he.Host&&s===a,p=yO(a,o,t,u,d);return p!==null?ha(e,o,p,a):ir}function yO(n,e,t,r,i){let s=n.providerIndexes,o=e.data,a=s&1048575,u=n.directiveStart,d=n.directiveEnd,p=s>>20,g=r?a:a+p,_=i?a+p:d;for(let I=g;I<_;I++){let N=o[I];if(I<u&&t===N||I>=u&&N.type===t)return I}if(i){let I=o[u];if(I&&ji(I)&&I.type===t)return u}return null}function ha(n,e,t,r){let i=n[t],s=e.data;if(uO(i)){let o=i;o.resolving&&Kx(Wx(s[t]));let a=Th(o.canSeeViewProviders);o.resolving=!0;let u,d=o.injectImpl?Yt(o.injectImpl):null,p=yC(n,r,he.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&aO(t,s[t],e)}finally{d!==null&&Yt(d),Th(a),o.resolving=!1,IC()}}return i}function vO(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Jc)?n[Jc]:void 0;return typeof e=="number"?e>=0?e&CC:wO:e}function nD(n,e,t){let r=1<<n;return!!(t[e+(n>>TC)]&r)}function rD(n,e){return!(n&he.Self)&&!(n&he.Host&&e)}var ks=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return MC(this._tNode,this._lView,e,Hh(r),t)}};function wO(){return new ks($t(),Re())}function dr(n){return su(()=>{let e=n.prototype.constructor,t=e[gh]||Zm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[gh]||Zm(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Zm(n){return SD(n)?()=>{let e=Zm(Vt(n));return e&&e()}:Fs(n)}function _O(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[se]&2048&&!(o[se]&512);){let a=NC(s,o,t,r|he.Self,ir);if(a!==ir)return a;let u=s.parent;if(!u){let d=o[eC];if(d){let p=d.get(t,ir,r);if(p!==ir)return p}u=xC(o),o=o[va]}s=u}return i}function xC(n){let e=n[ge],t=e.type;return t===2?e.declTNode:t===1?n[jn]:null}function iD(n,e=null,t=null,r){let i=PC(n,e,t,r);return i.resolveInjectorInitializers(),i}function PC(n,e=null,t=null,r,i=new Set){let s=[t||gn,bP(n)];return r=r||(typeof n=="object"?void 0:jt(n)),new tu(s,e||Ny(),r||null,i)}var Tt=class n{static{this.THROW_IF_NOT_FOUND=Xc}static{this.NULL=new vh}static create(e,t){if(Array.isArray(e))return iD({name:""},t,e,"");{let r=e.name??"";return iD({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=G({token:n,providedIn:"any",factory:()=>Y(LD)})}static{this.__NG_ELEMENT_ID__=-1}};var IO=new z("");IO.__NG_ELEMENT_ID__=n=>{let e=$t();if(e===null)throw new Q(204,!1);if(e.type&2)return e.value;if(n&he.Optional)return null;throw new Q(204,!1)};var EO="ngOriginalError";function Rm(n){return n[EO]}var OC=!0,Uy=(()=>{class n{static{this.__NG_ELEMENT_ID__=bO}static{this.__NG_ENV_ID__=t=>t}}return n})(),Jm=class extends Uy{constructor(e){super(),this._lView=e}onDestroy(e){return lC(this._lView,e),()=>HP(this._lView,e)}};function bO(){return new Jm(Re())}var zi=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new rt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}}return n})();var Xm=class extends Ct{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,XD()&&(this.destroyRef=L(Uy,{optional:!0})??void 0,this.pendingTasks=L(zi,{optional:!0})??void 0)}emit(e){let t=Te(null);try{super.next(e)}finally{Te(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof We&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ke=Xm;function Sh(...n){}function kC(n){let e,t;function r(){n=Sh;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function sD(n){return queueMicrotask(()=>n()),()=>{n=Sh}}var By="isAngularZone",Rh=By+"_ID",DO=0,Ae=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ke(!1),this.onMicrotaskEmpty=new Ke(!1),this.onStable=new Ke(!1),this.onError=new Ke(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=OC}=e;if(typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,AO(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(By)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new Q(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,CO,Sh,Sh);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},CO={};function $y(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function TO(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){kC(()=>{n.callbackScheduled=!1,ey(n),n.isCheckStableRunning=!0,$y(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),ey(n)}function AO(n){let e=()=>{TO(n)},t=DO++;n._inner=n._inner.fork({name:"angular",properties:{[By]:!0,[Rh]:t,[Rh+t]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(SO(u))return r.invokeTask(s,o,a,u);try{return oD(n),r.invokeTask(s,o,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),aD(n)}},onInvoke:(r,i,s,o,a,u,d)=>{try{return oD(n),r.invoke(s,o,a,u,d)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!RO(u)&&e(),aD(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,ey(n),$y(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function ey(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function oD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function aD(n){n._nesting--,$y(n)}var ty=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ke,this.onMicrotaskEmpty=new Ke,this.onStable=new Ke,this.onError=new Ke}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function SO(n){return FC(n,"__ignore_ng_zone__")}function RO(n){return FC(n,"__scheduler_tick__")}function FC(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Pr=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Rm(e);for(;t&&Rm(t);)t=Rm(t);return t||null}},MO=new z("",{providedIn:"root",factory:()=>{let n=L(Ae),e=L(Pr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function NO(){return tf($t(),Re())}function tf(n,e){return new hr(_n(n,e))}var hr=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=NO}}return n})();function LC(n){return(n.flags&128)===128}var VC=new Map,xO=0;function PO(){return xO++}function OO(n){VC.set(n[qh],n)}function ny(n){VC.delete(n[qh])}var cD="__ngContext__";function Ui(n,e){Fi(e)?(n[cD]=e[qh],OO(e)):n[cD]=e}function jC(n){return BC(n[nu])}function UC(n){return BC(n[Ln])}function BC(n){for(;n!==null&&!Lr(n);)n=n[Ln];return n}var ry;function $C(n){ry=n}function kO(){if(ry!==void 0)return ry;if(typeof document<"u")return document;throw new Q(210,!1)}var Hy=new z("",{providedIn:"root",factory:()=>FO}),FO="ng",zy=new z(""),In=new z("",{providedIn:"platform",factory:()=>"unknown"});var qy=new z("",{providedIn:"root",factory:()=>kO().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var LO="h",VO="b";var jO=()=>null;function Gy(n,e,t=!1){return jO(n,e,t)}var HC=!1,UO=new z("",{providedIn:"root",factory:()=>HC});var Mh=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${TD})`}};function nf(n){return n instanceof Mh?n.changingThisBreaksApplicationSecurity:n}function zC(n,e){let t=BO(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${TD})`)}return t===e}function BO(n){return n instanceof Mh&&n.getTypeName()||null}var $O=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function qC(n){return n=String(n),n.match($O)?n:"unsafe:"+n}var Wy=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Wy||{});function U6(n){let e=HO();return e?e.sanitize(Wy.URL,n)||"":zC(n,"URL")?nf(n):qC($h(n))}function HO(){let n=Re();return n&&n[or].sanitizer}var zO=/^>|^->|<!--|-->|--!>|<!-$/g,qO=/(<|>)/g,GO="\u200B$1\u200B";function WO(n){return n.replace(zO,e=>e.replace(qO,GO))}function GC(n){return n instanceof Function?n():n}function KO(n){return(n??L(Tt)).get(In)==="browser"}var Or=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Or||{}),QO;function Ky(n,e){return QO(n,e)}function ta(n,e,t,r,i){if(r!=null){let s,o=!1;Lr(r)?s=r:Fi(r)&&(o=!0,r=r[Fr]);let a=cr(r);n===0&&t!==null?i==null?ZC(e,t,a):Nh(e,t,a,i||null,!0):n===1&&t!==null?Nh(e,t,a,i||null,!0):n===2?dk(e,a,o):n===3&&e.destroyNode(a),s!=null&&fk(e,n,s,t,i)}}function YO(n,e){return n.createText(e)}function ZO(n,e,t){n.setValue(e,t)}function JO(n,e){return n.createComment(WO(e))}function WC(n,e,t){return n.createElement(e,t)}function XO(n,e){KC(n,e),e[Fr]=null,e[jn]=null}function ek(n,e,t,r,i,s){r[Fr]=i,r[jn]=e,sf(n,r,t,1,i,s)}function KC(n,e){e[or].changeDetectionScheduler?.notify(9),sf(n,e,e[Ze],2,null,null)}function tk(n){let e=n[nu];if(!e)return Mm(n[ge],n);for(;e;){let t=null;if(Fi(e))t=e[nu];else{let r=e[yn];r&&(t=r)}if(!t){for(;e&&!e[Ln]&&e!==n;)Fi(e)&&Mm(e[ge],e),e=e[Bt];e===null&&(e=n),Fi(e)&&Mm(e[ge],e),t=e&&e[Ln]}e=t}}function nk(n,e,t,r){let i=yn+r,s=t.length;r>0&&(t[i-1][Ln]=e),r<s-yn?(e[Ln]=t[i],FD(t,yn+r,e)):(t.push(e),e[Ln]=null),e[Bt]=t;let o=e[ua];o!==null&&t!==o&&QC(o,e);let a=e[la];a!==null&&a.insertView(n),Gm(e),e[se]|=128}function QC(n,e){let t=n[Eh],r=e[Bt];if(Fi(r))n[se]|=bh.HasTransplantedViews;else{let i=r[Bt][ar];e[ar]!==i&&(n[se]|=bh.HasTransplantedViews)}t===null?n[Eh]=[e]:t.push(e)}function Qy(n,e){let t=n[Eh],r=t.indexOf(e);t.splice(r,1)}function iy(n,e){if(n.length<=yn)return;let t=yn+e,r=n[t];if(r){let i=r[ua];i!==null&&i!==n&&Qy(i,r),e>0&&(n[t-1][Ln]=r[Ln]);let s=yh(n,yn+e);XO(r[ge],r);let o=s[la];o!==null&&o.detachView(s[ge]),r[Bt]=null,r[Ln]=null,r[se]&=-129}return r}function YC(n,e){if(!(e[se]&256)){let t=e[Ze];t.destroyNode&&sf(n,e,t,3,null,null),tk(e)}}function Mm(n,e){if(e[se]&256)return;let t=Te(null);try{e[se]&=-129,e[se]|=256,e[mn]&&im(e[mn]),ik(n,e),rk(n,e),e[ge].type===1&&e[Ze].destroy();let r=e[ua];if(r!==null&&Lr(e[Bt])){r!==e[Bt]&&Qy(r,e);let i=e[la];i!==null&&i.detachView(n)}ny(e)}finally{Te(t)}}function rk(n,e){let t=n.cleanup,r=e[_h];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[t[s+1]];t[s].call(o)}r!==null&&(e[_h]=null);let i=e[ki];if(i!==null){e[ki]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function ik(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Us)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];rr(4,a,u);try{u.call(a)}finally{rr(5,a,u)}}else{rr(4,i,s);try{s.call(i)}finally{rr(5,i,s)}}}}}function sk(n,e,t){return ok(n,e.parent,t)}function ok(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Fr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=n.data[r.directiveStart+i];if(s===sr.None||s===sr.Emulated)return null}return _n(r,t)}}function Nh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function ZC(n,e,t){n.appendChild(e,t)}function uD(n,e,t,r,i){r!==null?Nh(n,e,t,r,i):ZC(n,e,t)}function JC(n,e){return n.parentNode(e)}function ak(n,e){return n.nextSibling(e)}function ck(n,e,t){return lk(n,e,t)}function uk(n,e,t){return n.type&40?_n(n,t):null}var lk=uk,lD;function rf(n,e,t,r){let i=sk(n,r,e),s=e[Ze],o=r.parent||e[jn],a=ck(o,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)uD(s,i,t[u],a,!1);else uD(s,i,t,a,!1);lD!==void 0&&lD(s,r,e,t,i)}function Zc(n,e){if(e!==null){let t=e.type;if(t&3)return _n(e,n);if(t&4)return sy(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Zc(n,r);{let i=n[e.index];return Lr(i)?sy(-1,i):cr(i)}}else{if(t&128)return Zc(n,e.next);if(t&32)return Ky(e,n)()||cr(n[e.index]);{let r=XC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Vs(n[ar]);return Zc(i,r)}else return Zc(n,e.next)}}}return null}function XC(n,e){if(e!==null){let r=n[ar][jn],i=e.projection;return r.projection[i]}return null}function sy(n,e){let t=yn+n+1;if(t<e.length){let r=e[t],i=r[ge].firstChild;if(i!==null)return Zc(r,i)}return e[Ls]}function dk(n,e,t){n.removeChild(null,e,t)}function Yy(n,e,t,r,i,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(o&&e===0&&(a&&Ui(cr(a),r),t.flags|=2),(t.flags&32)!==32)if(u&8)Yy(n,e,t.child,r,i,s,!1),ta(e,n,i,a,s);else if(u&32){let d=Ky(t,r),p;for(;p=d();)ta(e,n,i,p,s);ta(e,n,i,a,s)}else u&16?hk(n,e,r,t,i,s):ta(e,n,i,a,s);t=o?t.projectionNext:t.next}}function sf(n,e,t,r,i,s){Yy(t,r,n.firstChild,e,i,s,!1)}function hk(n,e,t,r,i,s){let o=t[ar],u=o[jn].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let p=u[d];ta(e,n,i,p,s)}else{let d=u,p=o[Bt];LC(r)&&(d.flags|=128),Yy(n,e,d,p,i,s,!0)}}function fk(n,e,t,r,i){let s=t[Ls],o=cr(t);s!==o&&ta(e,n,r,s,i);for(let a=yn;a<t.length;a++){let u=t[a];sf(u[ge],u,n,e,r,s)}}function pk(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:Or.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Or.Important),n.setStyle(t,r,i,s))}}function gk(n,e,t){n.setAttribute(e,"style",t)}function eT(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function tT(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&Um(n,e,r),i!==null&&eT(n,e,i),s!==null&&gk(n,e,s)}var jr={};function B6(n=1){nT(At(),Re(),wa()+n,!1)}function nT(n,e,t,r){if(!r)if((e[se]&3)===3){let s=n.preOrderCheckHooks;s!==null&&dh(e,s,t)}else{let s=n.preOrderHooks;s!==null&&hh(e,s,0,t)}js(t)}function te(n,e=he.Default){let t=Re();if(t===null)return Y(n,e);let r=$t();return MC(r,t,Vt(n),e)}function rT(){let n="invalid";throw new Error(n)}function iT(n,e,t,r,i,s){let o=Te(null);try{let a=null;i&Li.SignalBased&&(a=e[r][Rr]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Li.HasDecoratorInputTransform&&(s=n.inputTransforms[r].call(e,s)),n.setInput!==null?n.setInput(e,a,s,t,r):nC(e,a,r,s)}finally{Te(o)}}function mk(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)js(~i);else{let s=i,o=t[++r],a=t[++r];tO(o,s);let u=e[s];a(2,u)}}}finally{js(-1)}}function of(n,e,t,r,i,s,o,a,u,d,p){let g=e.blueprint.slice();return g[Fr]=i,g[se]=r|4|128|8|64,(d!==null||n&&n[se]&2048)&&(g[se]|=2048),cC(g),g[Bt]=g[va]=n,g[Vn]=t,g[or]=o||n&&n[or],g[Ze]=a||n&&n[Ze],g[ca]=u||n&&n[ca]||null,g[jn]=s,g[qh]=PO(),g[wh]=p,g[eC]=d,g[ar]=e.type==2?n[ar]:g,g}function au(n,e,t,r,i){let s=n.data[e];if(s===null)s=yk(n,e,t,r,i),eO()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=YP();s.injectorIndex=o===null?-1:o.injectorIndex}return Hs(s,!0),s}function yk(n,e,t,r,i){let s=fC(),o=ky(),a=o?s:s&&s.parent,u=n.data[e]=Ek(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function sT(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function oT(n,e,t,r,i){let s=wa(),o=r&2;try{js(-1),o&&e.length>rn&&nT(n,e,rn,!1),rr(o?2:0,i),t(r,i)}finally{js(s),rr(o?3:1,i)}}function Zy(n,e,t){if(xy(e)){let r=Te(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=n.data[o];if(a.contentQueries){let u=t[o];a.contentQueries(1,u,o)}}}finally{Te(r)}}}function Jy(n,e,t){hC()&&(Sk(n,e,t,_n(t,e)),(t.flags&64)===64&&uT(n,e,t))}function Xy(n,e,t=_n){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?t(e,n):n[o];n[i++]=a}}}function aT(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=ev(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function ev(n,e,t,r,i,s,o,a,u,d,p){let g=rn+r,_=g+i,I=vk(g,_),N=typeof d=="function"?d():d;return I[ge]={type:n,blueprint:I,template:t,queries:null,viewQuery:a,declTNode:e,data:I.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:N,incompleteFirstPass:!1,ssrId:p}}function vk(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:jr);return t}function wk(n,e,t,r){let s=r.get(UO,HC)||t===sr.ShadowDom,o=n.selectRootElement(e,s);return _k(o),o}function _k(n){Ik(n)}var Ik=()=>null;function Ek(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return WP()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function dD(n,e,t,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=Li.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let d=s;if(i!==null){if(!i.hasOwnProperty(s))continue;d=i[s]}n===0?hD(r,t,d,a,u):hD(r,t,d,a)}return r}function hD(n,e,t,r,i){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,r):s=n[t]=[e,r],i!==void 0&&s.push(i)}function bk(n,e,t){let r=e.directiveStart,i=e.directiveEnd,s=n.data,o=e.attrs,a=[],u=null,d=null;for(let p=r;p<i;p++){let g=s[p],_=t?t.get(g):null,I=_?_.inputs:null,N=_?_.outputs:null;u=dD(0,g.inputs,p,u,I),d=dD(1,g.outputs,p,d,N);let k=u!==null&&o!==null&&!Ry(e)?jk(u,p,o):null;a.push(k)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=d}function Dk(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function tv(n,e,t,r,i,s,o,a){let u=_n(e,t),d=e.inputs,p;!a&&d!=null&&(p=d[r])?(rv(n,t,p,r,i),Gh(e)&&Ck(t,e.index)):e.type&3?(r=Dk(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function Ck(n,e){let t=Hi(e,n);t[se]&16||(t[se]|=64)}function nv(n,e,t,r){if(hC()){let i=r===null?null:{"":-1},s=Mk(n,t),o,a;s===null?o=a=null:[o,a]=s,o!==null&&cT(n,e,t,o,i,a),i&&Nk(t,r,i)}t.mergedAttrs=eu(t.mergedAttrs,t.attrs)}function cT(n,e,t,r,i,s){for(let d=0;d<r.length;d++)Ym(Ah(t,e),n,r[d].type);Pk(t,n.data.length,r.length);for(let d=0;d<r.length;d++){let p=r[d];p.providersResolver&&p.providersResolver(p)}let o=!1,a=!1,u=sT(n,e,r.length,null);for(let d=0;d<r.length;d++){let p=r[d];t.mergedAttrs=eu(t.mergedAttrs,p.hostAttrs),Ok(n,t,e,u,p),xk(u,p,i),p.contentQueries!==null&&(t.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(t.flags|=64);let g=p.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}bk(n,t,s)}function Tk(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;Ak(o)!=a&&o.push(a),o.push(t,r,s)}}function Ak(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Sk(n,e,t,r){let i=t.directiveStart,s=t.directiveEnd;Gh(t)&&kk(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Ah(t,e),Ui(r,e);let o=t.initialInputs;for(let a=i;a<s;a++){let u=n.data[a],d=ha(e,n,a,t);if(Ui(d,e),o!==null&&Vk(e,a-i,d,u,t,o),ji(u)){let p=Hi(t.index,e);p[Vn]=ha(e,n,a,t)}}}function uT(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=nO();try{js(s);for(let a=r;a<i;a++){let u=n.data[a],d=e[a];Wm(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Rk(u,d)}}finally{js(-1),Wm(o)}}function Rk(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Mk(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(pP(e,o.selectors,!1))if(r||(r=[]),ji(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;oy(n,e,u)}else r.unshift(o),oy(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function oy(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Nk(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new Q(-301,!1);r.push(e[i],s)}}}function xk(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ji(e)&&(t[""]=n)}}function Pk(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Ok(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=Fs(i.type,!0)),o=new Us(s,ji(i),te);n.blueprint[r]=o,t[r]=o,Tk(n,e,r,sT(n,t,i.hostVars,jr),i)}function kk(n,e,t){let r=_n(e,n),i=aT(t),s=n[or].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let a=af(n,of(n,i,null,o,r,e,null,s.createRenderer(r,t),null,null,null));n[e.index]=a}function Fk(n,e,t,r,i,s){let o=_n(n,e);Lk(e[Ze],o,s,n.value,t,r,i)}function Lk(n,e,t,r,i,s,o){if(s==null)n.removeAttribute(e,i,t);else{let a=o==null?$h(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}function Vk(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],d=o[a++],p=o[a++],g=o[a++];iT(r,t,u,d,p,g)}}function jk(n,e,t){let r=null,i=0;for(;i<t.length;){let s=t[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){r===null&&(r=[]);let o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],t[i+1]);break}}i+=2}return r}function lT(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function dT(n,e){let t=n.contentQueries;if(t!==null){let r=Te(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let a=n.data[o];mC(s),a.contentQueries(2,e[o],o)}}}finally{Te(r)}}}function af(n,e){return n[nu]?n[Jb][Ln]=e:n[nu]=e,n[Jb]=e,e}function ay(n,e,t){mC(0);let r=Te(null);try{e(n,t)}finally{Te(r)}}function Uk(n){return n[_h]??=[]}function Bk(n){return n.cleanup??=[]}function hT(n,e){let t=n[ca],r=t?t.get(Pr,null):null;r&&r.handleError(e)}function rv(n,e,t,r,i){for(let s=0;s<t.length;){let o=t[s++],a=t[s++],u=t[s++],d=e[o],p=n.data[o];iT(p,d,r,a,u,i)}}function $k(n,e,t){let r=oC(e,n);ZO(n[Ze],r,t)}function Hk(n,e){let t=Hi(e,n),r=t[ge];zk(r,t);let i=t[Fr];i!==null&&t[wh]===null&&(t[wh]=Gy(i,t[ca])),iv(r,t,t[Vn])}function zk(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function iv(n,e,t){Ly(e);try{let r=n.viewQuery;r!==null&&ay(1,r,t);let i=n.template;i!==null&&oT(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[la]?.finishViewCreation(n),n.staticContentQueries&&dT(n,e),n.staticViewQueries&&ay(2,n.viewQuery,t);let s=n.components;s!==null&&qk(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[se]&=-5,Vy()}}function qk(n,e){for(let t=0;t<e.length;t++)Hk(n,e[t])}function Gk(n,e,t,r){let i=Te(null);try{let s=e.tView,a=n[se]&4096?4096:16,u=of(n,s,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=n[e.index];u[ua]=d;let p=n[la];return p!==null&&(u[la]=p.createEmbeddedView(s)),iv(s,u,t),u}finally{Te(i)}}function fD(n,e){return!e||e.firstChild===null||LC(n)}function Wk(n,e,t,r=!0){let i=e[ge];if(nk(i,e,n,t),r){let o=sy(t,n),a=e[Ze],u=JC(a,n[Ls]);u!==null&&ek(i,n[jn],a,e,u,o)}let s=e[wh];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function xh(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(cr(s)),Lr(s)&&Kk(s,r);let o=t.type;if(o&8)xh(n,e,t.child,r);else if(o&32){let a=Ky(t,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=XC(e,t);if(Array.isArray(a))r.push(...a);else{let u=Vs(e[ar]);xh(u[ge],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Kk(n,e){for(let t=yn;t<n.length;t++){let r=n[t],i=r[ge].firstChild;i!==null&&xh(r[ge],r,i,e)}n[Ls]!==n[Fr]&&e.push(n[Ls])}var fT=[];function Qk(n){return n[mn]??Yk(n)}function Yk(n){let e=fT.pop()??Object.create(Jk);return e.lView=n,e}function Zk(n){n.lView[mn]!==n&&(n.lView=null,fT.push(n))}var Jk=pe(B({},Gc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Qh(n.lView)},consumerOnSignalRead(){this.lView[mn]=this}});function Xk(n){let e=n[mn]??Object.create(e1);return e.lView=n,e}var e1=pe(B({},Gc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Vs(n.lView);for(;e&&!pT(e[ge]);)e=Vs(e);e&&uC(e)},consumerOnSignalRead(){this.lView[mn]=this}});function pT(n){return n.type!==2}var t1=100;function gT(n,e=!0,t=0){let r=n[or],i=r.rendererFactory,s=!1;s||i.begin?.();try{n1(n,t)}catch(o){throw e&&hT(n,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function n1(n,e){let t=gC();try{eD(!0),cy(n,e);let r=0;for(;Kh(n);){if(r===t1)throw new Q(103,!1);r++,cy(n,1)}}finally{eD(t)}}function r1(n,e,t,r){let i=e[se];if((i&256)===256)return;let s=!1,o=!1;!s&&e[or].inlineEffectRunner?.flush(),Ly(e);let a=!0,u=null,d=null;s||(pT(n)?(d=Qk(e),u=Md(d)):ib()===null?(a=!1,d=Xk(e),u=Md(d)):e[mn]&&(im(e[mn]),e[mn]=null));try{cC(e),JP(n.bindingStartIndex),t!==null&&oT(n,e,t,2,r);let p=(i&3)===3;if(!s)if(p){let I=n.preOrderCheckHooks;I!==null&&dh(e,I,null)}else{let I=n.preOrderHooks;I!==null&&hh(e,I,0,null),Tm(e,0)}if(o||i1(e),mT(e,0),n.contentQueries!==null&&dT(n,e),!s)if(p){let I=n.contentCheckHooks;I!==null&&dh(e,I)}else{let I=n.contentHooks;I!==null&&hh(e,I,1),Tm(e,1)}mk(n,e);let g=n.components;g!==null&&vT(e,g,0);let _=n.viewQuery;if(_!==null&&ay(2,_,r),!s)if(p){let I=n.viewCheckHooks;I!==null&&dh(e,I)}else{let I=n.viewHooks;I!==null&&hh(e,I,2),Tm(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Cm]){for(let I of e[Cm])I();e[Cm]=null}s||(e[se]&=-73)}catch(p){throw s||Qh(e),p}finally{d!==null&&(nm(d,u),a&&Zk(d)),Vy()}}function mT(n,e){for(let t=jC(n);t!==null;t=UC(t))for(let r=yn;r<t.length;r++){let i=t[r];yT(i,e)}}function i1(n){for(let e=jC(n);e!==null;e=UC(e)){if(!(e[se]&bh.HasTransplantedViews))continue;let t=e[Eh];for(let r=0;r<t.length;r++){let i=t[r];uC(i)}}}function s1(n,e,t){let r=Hi(e,n);yT(r,t)}function yT(n,e){Oy(n)&&cy(n,e)}function cy(n,e){let r=n[ge],i=n[se],s=n[mn],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&rm(s)),o||=!1,s&&(s.dirty=!1),n[se]&=-9217,o)r1(r,n,r.template,n[Vn]);else if(i&8192){mT(n,1);let a=r.components;a!==null&&vT(n,a,1)}}function vT(n,e,t){for(let r=0;r<e.length;r++)s1(n,e[r],t)}function sv(n,e){let t=gC()?64:1088;for(n[or].changeDetectionScheduler?.notify(e);n;){n[se]|=t;let r=Vs(n);if(zm(n)&&!r)return n;n=r}return null}var Bs=class{get rootNodes(){let e=this._lView,t=e[ge];return xh(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Vn]}set context(e){this._lView[Vn]=e}get destroyed(){return(this._lView[se]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Bt];if(Lr(e)){let t=e[Ih],r=t?t.indexOf(this):-1;r>-1&&(iy(e,r),yh(t,r))}this._attachedToViewContainer=!1}YC(this._lView[ge],this._lView)}onDestroy(e){lC(this._lView,e)}markForCheck(){sv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[se]&=-129}reattach(){Gm(this._lView),this._lView[se]|=128}detectChanges(){this._lView[se]|=1024,gT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=zm(this._lView),t=this._lView[ua];t!==null&&!e&&Qy(t,this._lView),KC(this._lView[ge],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=e;let t=zm(this._lView),r=this._lView[ua];r!==null&&!t&&QC(r,this._lView),Gm(this._lView)}},cf=(()=>{class n{static{this.__NG_ELEMENT_ID__=c1}}return n})(),o1=cf,a1=class extends o1{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=Gk(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Bs(i)}};function c1(){return u1($t(),Re())}function u1(n,e){return n.type&4?new a1(e,n,tf(n,e)):null}var H6=new RegExp(`^(\\d+)*(${VO}|${LO})*(.*)`);var l1=()=>null;function pD(n,e){return l1(n,e)}var fa=class{},uf=new z("",{providedIn:"root",factory:()=>!1});var wT=new z(""),_T=new z(""),uy=class{},Ph=class{};function d1(n){let e=Error(`No component factory found for ${jt(n)}.`);return e[h1]=n,e}var h1="ngComponent";var ly=class{resolveComponentFactory(e){throw d1(e)}},pa=class{static{this.NULL=new ly}},ga=class{},Ur=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>f1()}}return n})();function f1(){let n=Re(),e=$t(),t=Hi(e.index,n);return(Fi(t)?t:n)[Ze]}var p1=(()=>{class n{static{this.\u0275prov=G({token:n,providedIn:"root",factory:()=>null})}}return n})();function Oh(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=$b(i,a);else if(s==2){let u=a,d=e[++o];r=$b(r,u+": "+d+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var kh=class extends pa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Vi(e);return new ma(t,this.ngModule)}};function gD(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:Li.None;e?t.push({propName:o,templateName:r,isSignal:(a&Li.SignalBased)!==0}):t.push({propName:o,templateName:r})}return t}function g1(n){let e=n.toLowerCase();return e==="svg"?jP:e==="math"?UP:null}var ma=class extends Ph{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=gD(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return gD(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=vP(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=Te(null);try{i=i||this.ngModule;let o=i instanceof Ut?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Km(e,o):e,u=a.get(ga,null);if(u===null)throw new Q(407,!1);let d=a.get(p1,null),p=a.get(fa,null),g={rendererFactory:u,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:p},_=u.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",N=r?wk(_,r,this.componentDef.encapsulation,a):WC(_,I,g1(I)),k=512;this.componentDef.signals?k|=4096:this.componentDef.onPush||(k|=16);let x=null;N!==null&&(x=Gy(N,a,!0));let V=ev(0,null,null,1,0,null,null,null,null,null,null),K=of(null,V,null,k,null,null,g,_,a,null,x);Ly(K);let H,re,_e=null;try{let Z=this.componentDef,T,E=null;Z.findHostDirectiveDefs?(T=[],E=new Map,Z.findHostDirectiveDefs(Z,T,E),T.push(Z)):T=[Z];let b=m1(K,N);_e=y1(b,N,Z,T,K,g,_),re=aC(V,rn),N&&_1(_,Z,N,r),t!==void 0&&I1(re,this.ngContentSelectors,t),H=w1(_e,Z,T,E,K,[E1]),iv(V,K,null)}catch(Z){throw _e!==null&&ny(_e),ny(K),Z}finally{Vy()}return new dy(this.componentType,H,tf(re,K),K,re)}finally{Te(s)}}},dy=class extends uy{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Bs(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;rv(s[ge],s,i,e,t),this.previousInputValues.set(e,t);let o=Hi(this._tNode.index,s);sv(o,1)}}get injector(){return new ks(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function m1(n,e){let t=n[ge],r=rn;return n[r]=e,au(t,r,2,"#host",null)}function y1(n,e,t,r,i,s,o){let a=i[ge];v1(r,n,e,o);let u=null;e!==null&&(u=Gy(e,i[ca]));let d=s.rendererFactory.createRenderer(e,t),p=16;t.signals?p=4096:t.onPush&&(p=64);let g=of(i,aT(t),null,p,i[n.index],n,s,d,null,null,u);return a.firstCreatePass&&oy(a,n,r.length-1),af(i,g),i[n.index]=g}function v1(n,e,t,r){for(let i of n)e.mergedAttrs=eu(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Oh(e,e.mergedAttrs,!0),t!==null&&tT(r,t,e))}function w1(n,e,t,r,i,s){let o=$t(),a=i[ge],u=_n(o,i);cT(a,i,o,t,null,r);for(let p=0;p<t.length;p++){let g=o.directiveStart+p,_=ha(i,a,g,o);Ui(_,i)}uT(a,i,o),u&&Ui(u,i);let d=ha(i,a,o.directiveStart+o.componentOffset,o);if(n[Vn]=i[Vn]=d,s!==null)for(let p of s)p(d,e);return Zy(a,o,i),d}function _1(n,e,t,r){if(r)Um(n,t,["ng-version","18.2.13"]);else{let{attrs:i,classes:s}=wP(e.selectors[0]);i&&Um(n,t,i),s&&s.length>0&&eT(n,t,s.join(" "))}}function I1(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null?Array.from(s):null)}}function E1(){let n=$t();ef(Re()[ge],n)}var _a=(()=>{class n{static{this.__NG_ELEMENT_ID__=b1}}return n})();function b1(){let n=$t();return C1(n,Re())}var D1=_a,IT=class extends D1{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return tf(this._hostTNode,this._hostLView)}get injector(){return new ks(this._hostTNode,this._hostLView)}get parentInjector(){let e=jy(this._hostTNode,this._hostLView);if(DC(e)){let t=Ch(e,this._hostLView),r=Dh(e),i=t[ge].data[r+8];return new ks(i,t)}else return new ks(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=mD(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-yn}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=pD(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,i,fD(this._hostTNode,o)),a}createComponent(e,t,r,i,s){let o=e&&!kP(e),a;if(o)a=t;else{let N=t||{};a=N.index,r=N.injector,i=N.projectableNodes,s=N.environmentInjector||N.ngModuleRef}let u=o?e:new ma(Vi(e)),d=r||this.parentInjector;if(!s&&u.ngModule==null){let k=(o?d:this.parentInjector).get(Ut,null);k&&(s=k)}let p=Vi(u.componentType??{}),g=pD(this._lContainer,p?.id??null),_=g?.firstChild??null,I=u.create(d,i,_,s);return this.insertImpl(I.hostView,a,fD(this._hostTNode,g)),I}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(BP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Bt],d=new IT(u,u[jn],u[Bt]);d.detach(d.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return Wk(o,i,s,r),e.attachToViewContainerRef(),FD(Nm(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=mD(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=iy(this._lContainer,t);r&&(yh(Nm(this._lContainer),t),YC(r[ge],r))}detach(e){let t=this._adjustIndex(e,-1),r=iy(this._lContainer,t);return r&&yh(Nm(this._lContainer),t)!=null?new Bs(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function mD(n){return n[Ih]}function Nm(n){return n[Ih]||(n[Ih]=[])}function C1(n,e){let t,r=e[n.index];return Lr(r)?t=r:(t=lT(r,e,null,n),e[n.index]=t,af(e,t)),A1(t,e,n,r),new IT(t,n,e)}function T1(n,e){let t=n[Ze],r=t.createComment(""),i=_n(e,n),s=JC(t,i);return Nh(t,s,r,ak(t,i),!1),r}var A1=M1,S1=()=>!1;function R1(n,e,t){return S1(n,e,t)}function M1(n,e,t,r){if(n[Ls])return;let i;t.type&8?i=cr(r):i=T1(e,t),n[Ls]=i}var yD=new Set;function zs(n){yD.has(n)||(yD.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function N1(n){return typeof n=="function"&&n[Rr]!==void 0}function Ia(n,e){zs("NgSignals");let t=gb(n),r=t[Rr];return e?.equal&&(r.equal=e.equal),t.set=i=>sm(r,i),t.update=i=>mb(r,i),t.asReadonly=x1.bind(t),t}function x1(){let n=this[Rr];if(n.readonlyFn===void 0){let e=()=>this();e[Rr]=n,n.readonlyFn=e}return n.readonlyFn}function ET(n){return N1(n)&&typeof n.set=="function"}function P1(n){return Object.getPrototypeOf(n.prototype).constructor}function Ht(n){let e=P1(n.type),t=!0,r=[n];for(;e;){let i;if(ji(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Q(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let o=n;o.inputs=ah(n.inputs),o.inputTransforms=ah(n.inputTransforms),o.declaredInputs=ah(n.declaredInputs),o.outputs=ah(n.outputs);let a=i.hostBindings;a&&V1(n,a);let u=i.viewQuery,d=i.contentQueries;if(u&&F1(n,u),d&&L1(n,d),O1(n,i),jx(n.outputs,i.outputs),ji(i)&&i.data.animation){let p=n.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===Ht&&(t=!1)}}e=Object.getPrototypeOf(e)}k1(r)}function O1(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function k1(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=eu(i.hostAttrs,t=eu(t,i.hostAttrs))}}function ah(n){return n===sa?{}:n===gn?[]:n}function F1(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function L1(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,s)=>{e(r,i,s),t(r,i,s)}:n.contentQueries=e}function V1(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}var Bi=class{},ru=class{};var hy=class extends Bi{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kh(this);let s=GD(e);this._bootstrapComponents=GC(s.bootstrap),this._r3Injector=PC(e,t,[{provide:Bi,useValue:this},{provide:pa,useValue:this.componentFactoryResolver},...r],jt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},fy=class extends ru{constructor(e){super(),this.moduleType=e}create(e){return new hy(this.moduleType,e,[])}};var Fh=class extends Bi{constructor(e){super(),this.componentFactoryResolver=new kh(this),this.instance=null;let t=new tu([...e.providers,{provide:Bi,useValue:this},{provide:pa,useValue:this.componentFactoryResolver}],e.parent||Ny(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function lf(n,e,t=null){return new Fh({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function bT(n){return U1(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function j1(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function U1(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function ov(n,e,t){return n[e]=t}function B1(n,e){return n[e]}function $i(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function DT(n,e,t,r){let i=$i(n,e,t);return $i(n,e+1,r)||i}function $1(n,e,t,r,i){let s=DT(n,e,t,r);return $i(n,e+2,i)||s}function H1(n){return(n.flags&32)===32}function z1(n,e,t,r,i,s,o,a,u){let d=e.consts,p=au(e,n,4,o||null,a||null);nv(e,t,p,da(d,u)),ef(e,p);let g=p.tView=ev(2,p,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,p),g.queries=e.queries.embeddedTView(p)),p}function q1(n,e,t,r,i,s,o,a,u,d){let p=t+rn,g=e.firstCreatePass?z1(p,e,n,r,i,s,o,a,u):e.data[p];Hs(g,!1);let _=W1(e,n,g,t);Jh()&&rf(e,n,_,g),Ui(_,n);let I=lT(_,n,_,g);return n[p]=I,af(n,I),R1(I,g,n),Wh(g)&&Jy(e,n,g),u!=null&&Xy(n,g,d),g}function G1(n,e,t,r,i,s,o,a){let u=Re(),d=At(),p=da(d.consts,s);return q1(u,d,n,e,t,r,i,p,o,a),G1}var W1=K1;function K1(n,e,t,r){return Xh(!0),e[Ze].createComment("")}var na=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(na||{}),CT=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}}return n})(),py=class n{constructor(){this.ngZone=L(Ae),this.scheduler=L(fa),this.errorHandler=L(Pr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[na.EarlyRead,na.Write,na.MixedReadWrite,na.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}},gy=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function av(n,e){!e?.injector&&OP(av);let t=e?.injector??L(Tt);return KO(t)?(zs("NgAfterNextRender"),Y1(n,t,e,!0)):Z1}function Q1(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function Y1(n,e,t,r){let i=e.get(CT);i.impl??=e.get(py);let s=t?.phase??na.MixedReadWrite,o=t?.manualCleanup!==!0?e.get(Uy):null,a=new gy(i.impl,Q1(n,s),r,o);return i.impl.register(a),a}var Z1={destroy(){}};function df(n,e,t,r){let i=Re(),s=Yh();if($i(i,s,e)){let o=At(),a=Zh();Fk(a,i,n,e,t,r)}return df}function TT(n,e,t,r){return $i(n,Yh(),t)?e+$h(t)+r:jr}function ch(n,e){return n<<17|e<<2}function $s(n){return n>>17&32767}function J1(n){return(n&2)==2}function X1(n,e){return n&131071|e<<17}function my(n){return n|2}function ya(n){return(n&131068)>>2}function xm(n,e){return n&-131069|e<<2}function eF(n){return(n&1)===1}function yy(n){return n|1}function tF(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=$s(o),u=ya(o);n[r]=t;let d=!1,p;if(Array.isArray(t)){let g=t;p=g[1],(p===null||ou(g,p)>0)&&(d=!0)}else p=t;if(i)if(u!==0){let _=$s(n[a+1]);n[r+1]=ch(_,a),_!==0&&(n[_+1]=xm(n[_+1],r)),n[a+1]=X1(n[a+1],r)}else n[r+1]=ch(a,0),a!==0&&(n[a+1]=xm(n[a+1],r)),a=r;else n[r+1]=ch(u,0),a===0?a=r:n[u+1]=xm(n[u+1],r),u=r;d&&(n[r+1]=my(n[r+1])),vD(n,p,r,!0),vD(n,p,r,!1),nF(e,p,n,r,s),o=ch(a,u),s?e.classBindings=o:e.styleBindings=o}function nF(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&ou(s,e)>=0&&(t[r+1]=yy(t[r+1]))}function vD(n,e,t,r){let i=n[t+1],s=e===null,o=r?$s(i):ya(i),a=!1;for(;o!==0&&(a===!1||s);){let u=n[o],d=n[o+1];rF(u,e)&&(a=!0,n[o+1]=r?yy(d):my(d)),o=r?$s(d):ya(d)}a&&(n[t+1]=r?my(i):yy(i))}function rF(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?ou(n,e)>=0:!1}function iF(n,e,t){let r=Re(),i=Yh();if($i(r,i,e)){let s=At(),o=Zh();tv(s,o,r,n,e,r[Ze],t,!1)}return iF}function wD(n,e,t,r,i){let s=e.inputs,o=i?"class":"style";rv(n,t,s[o],o,r)}function AT(n,e,t){return ST(n,e,t,!1),AT}function hf(n,e){return ST(n,e,null,!0),hf}function ST(n,e,t,r){let i=Re(),s=At(),o=XP(2);if(s.firstUpdatePass&&oF(s,n,o,r),e!==jr&&$i(i,o,e)){let a=s.data[wa()];dF(s,a,i,i[Ze],n,i[o+1]=hF(e,t),r,o)}}function sF(n,e){return e>=n.expandoStartIndex}function oF(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[wa()],o=sF(n,t);fF(s,r)&&e===null&&!o&&(e=!1),e=aF(i,s,e,r),tF(i,s,e,t,o,r)}}function aF(n,e,t,r){let i=rO(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Pm(null,n,e,t,r),t=iu(t,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==i)if(t=Pm(i,n,e,t,r),s===null){let u=cF(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Pm(null,n,e,u[1],r),u=iu(u,e.attrs,r),uF(n,e,r,u))}else s=lF(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function cF(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ya(r)!==0)return n[$s(r)]}function uF(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[$s(i)]=r}function lF(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=n[s].hostAttrs;r=iu(r,o,t)}return iu(r,e.attrs,t)}function Pm(n,e,t,r,i){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],r=iu(r,s.hostAttrs,i),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function iu(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),sP(n,o,t?!0:e[++s]))}return n===void 0?null:n}function dF(n,e,t,r,i,s,o,a){if(!(e.type&3))return;let u=n.data,d=u[a+1],p=eF(d)?_D(u,e,t,i,ya(d),o):void 0;if(!Lh(p)){Lh(s)||J1(d)&&(s=_D(u,null,t,i,a,o));let g=oC(wa(),t);pk(r,o,g,i,s)}}function _D(n,e,t,r,i,s){let o=e===null,a;for(;i>0;){let u=n[i],d=Array.isArray(u),p=d?u[1]:u,g=p===null,_=t[i+1];_===jr&&(_=g?gn:void 0);let I=g?bm(_,r):p===r?_:void 0;if(d&&!Lh(I)&&(I=bm(u,r)),Lh(I)&&(a=I,o))return a;let N=n[i+1];i=o?$s(N):ya(N)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=bm(u,r))}return a}function Lh(n){return n!==void 0}function hF(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=jt(nf(n)))),n}function fF(n,e){return(n.flags&(e?8:16))!==0}function pF(n,e,t,r,i,s){let o=e.consts,a=da(o,i),u=au(e,n,2,r,a);return nv(e,t,u,da(o,s)),u.attrs!==null&&Oh(u,u.attrs,!1),u.mergedAttrs!==null&&Oh(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function RT(n,e,t,r){let i=Re(),s=At(),o=rn+n,a=i[Ze],u=s.firstCreatePass?pF(o,s,i,e,t,r):s.data[o],d=gF(s,i,u,a,e,n);i[o]=d;let p=Wh(u);return Hs(u,!0),tT(a,d,u),!H1(u)&&Jh()&&rf(s,i,d,u),zP()===0&&Ui(d,i),qP(),p&&(Jy(s,i,u),Zy(s,u,i)),r!==null&&Xy(i,u),RT}function MT(){let n=$t();ky()?pC():(n=n.parent,Hs(n,!1));let e=n;KP(e)&&QP(),GP();let t=At();return t.firstCreatePass&&(ef(t,n),xy(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&lO(e)&&wD(t,e,Re(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&dO(e)&&wD(t,e,Re(),e.stylesWithoutHost,!1),MT}function cv(n,e,t,r){return RT(n,e,t,r),MT(),cv}var gF=(n,e,t,r,i,s)=>(Xh(!0),WC(r,i,oO()));function mF(n,e,t,r,i){let s=e.consts,o=da(s,r),a=au(e,n,8,"ng-container",o);o!==null&&Oh(a,o,!0);let u=da(s,i);return nv(e,t,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function yF(n,e,t){let r=Re(),i=At(),s=n+rn,o=i.firstCreatePass?mF(s,i,r,e,t):i.data[s];Hs(o,!0);let a=wF(i,r,o,n);return r[s]=a,Jh()&&rf(i,r,a,o),Ui(a,r),Wh(o)&&(Jy(i,r,o),Zy(i,o,r)),t!=null&&Xy(r,o),yF}function vF(){let n=$t(),e=At();return ky()?pC():(n=n.parent,Hs(n,!1)),e.firstCreatePass&&(ef(e,n),xy(n)&&e.queries.elementEnd(n)),vF}var wF=(n,e,t,r)=>(Xh(!0),JO(e[Ze],""));function q6(){return Re()}var Os=void 0;function _F(n){let e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}var IF=["en",[["a","p"],["AM","PM"],Os],[["AM","PM"],Os,Os],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Os,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Os,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Os,"{1} 'at' {0}",Os],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",_F],Om={};function En(n){let e=EF(n),t=ID(e);if(t)return t;let r=e.split("-")[0];if(t=ID(r),t)return t;if(r==="en")return IF;throw new Q(701,!1)}function ID(n){return n in Om||(Om[n]=Yc.ng&&Yc.ng.common&&Yc.ng.common.locales&&Yc.ng.common.locales[n]),Om[n]}var Je=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Je||{});function EF(n){return n.toLowerCase().replace(/_/g,"-")}var Vh="en-US";var bF=Vh;function DF(n){typeof n=="string"&&(bF=n.toLowerCase().replace(/_/g,"-"))}var CF=(n,e,t)=>{};function fr(n,e,t,r){let i=Re(),s=At(),o=$t();return NT(s,i,i[Ze],o,n,e,r),fr}function TF(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let a=e[_h],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function NT(n,e,t,r,i,s,o){let a=Wh(r),d=n.firstCreatePass&&Bk(n),p=e[Vn],g=Uk(e),_=!0;if(r.type&3||o){let k=_n(r,e),x=o?o(k):k,V=g.length,K=o?re=>o(cr(re[r.index])):r.index,H=null;if(!o&&a&&(H=TF(n,e,i,r.index)),H!==null){let re=H.__ngLastListenerFn__||H;re.__ngNextListenerFn__=s,H.__ngLastListenerFn__=s,_=!1}else{s=bD(r,e,p,s),CF(k,i,s);let re=t.listen(x,i,s);g.push(s,re),d&&d.push(i,K,V,V+1)}}else s=bD(r,e,p,s);let I=r.outputs,N;if(_&&I!==null&&(N=I[i])){let k=N.length;if(k)for(let x=0;x<k;x+=2){let V=N[x],K=N[x+1],_e=e[V][K].subscribe(s),Z=g.length;g.push(s,_e),d&&d.push(i,r.index,Z,-(Z+1))}}}function ED(n,e,t,r){let i=Te(null);try{return rr(6,e,t),t(r)!==!1}catch(s){return hT(n,s),!1}finally{rr(7,e,t),Te(i)}}function bD(n,e,t,r){return function i(s){if(s===Function)return r;let o=n.componentOffset>-1?Hi(n.index,e):e;sv(o,5);let a=ED(e,t,r,s),u=i.__ngNextListenerFn__;for(;u;)a=ED(e,t,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function G6(n=1){return sO(n)}function AF(n,e,t){return xT(n,"",e,"",t),AF}function xT(n,e,t,r,i){let s=Re(),o=TT(s,e,t,r);if(o!==jr){let a=At(),u=Zh();tv(a,u,s,n,o,s[Ze],i,!1)}return xT}function SF(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function W6(n){let e=ZP();return Py(e,rn+n)}function K6(n,e=""){let t=Re(),r=At(),i=n+rn,s=r.firstCreatePass?au(r,i,1,e,null):r.data[i],o=RF(r,t,s,e,n);t[i]=o,Jh()&&rf(r,t,o,s),Hs(s,!1)}var RF=(n,e,t,r,i)=>(Xh(!0),YO(e[Ze],r));function MF(n){return PT("",n,""),MF}function PT(n,e,t){let r=Re(),i=TT(r,n,e,t);return i!==jr&&$k(r,wa(),i),PT}function NF(n,e,t){ET(e)&&(e=e());let r=Re(),i=Yh();if($i(r,i,e)){let s=At(),o=Zh();tv(s,o,r,n,e,r[Ze],t,!1)}return NF}function Q6(n,e){let t=ET(n);return t&&n.set(e),t}function xF(n,e){let t=Re(),r=At(),i=$t();return NT(r,t,t[Ze],i,n,e),xF}function PF(n,e,t){let r=At();if(r.firstCreatePass){let i=ji(n);vy(t,r.data,r.blueprint,i,!0),vy(e,r.data,r.blueprint,i,!1)}}function vy(n,e,t,r,i){if(n=Vt(n),Array.isArray(n))for(let s=0;s<n.length;s++)vy(n[s],e,t,r,i);else{let s=At(),o=Re(),a=$t(),u=aa(n)?n:Vt(n.provide),d=JD(n),p=a.providerIndexes&1048575,g=a.directiveStart,_=a.providerIndexes>>20;if(aa(n)||!n.multi){let I=new Us(d,i,te),N=Fm(u,e,i?p:p+_,g);N===-1?(Ym(Ah(a,o),s,u),km(s,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(I),o.push(I)):(t[N]=I,o[N]=I)}else{let I=Fm(u,e,p+_,g),N=Fm(u,e,p,p+_),k=I>=0&&t[I],x=N>=0&&t[N];if(i&&!x||!i&&!k){Ym(Ah(a,o),s,u);let V=FF(i?kF:OF,t.length,i,r,d);!i&&x&&(t[N].providerFactory=V),km(s,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(V),o.push(V)}else{let V=OT(t[i?N:I],d,!i&&r);km(s,n,I>-1?I:N,V)}!i&&r&&x&&t[N].componentProviders++}}}function km(n,e,t,r){let i=aa(e),s=AP(e);if(i||s){let u=(s?Vt(e.useClass):e).prototype.ngOnDestroy;if(u){let d=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let p=d.indexOf(t);p===-1?d.push(t,[r,u]):d[p+1].push(r,u)}else d.push(t,u)}}}function OT(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Fm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function OF(n,e,t,r){return wy(this.multi,[])}function kF(n,e,t,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=ha(t,t[ge],this.providerFactory.index,r);s=a.slice(0,o),wy(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],wy(i,s);return s}function wy(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function FF(n,e,t,r,i){let s=new Us(n,t,te);return s.multi=[],s.index=e,s.componentProviders=0,OT(s,i,r&&!t),s}function Un(n,e=[]){return t=>{t.providersResolver=(r,i)=>PF(r,i?i(n):n,e)}}var LF=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=QD(!1,t.type),i=r.length>0?lf([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=G({token:n,providedIn:"environment",factory:()=>new n(Y(Ut))})}}return n})();function kT(n){zs("NgStandalone"),n.getStandaloneInjector=e=>e.get(LF).getOrCreateStandaloneInjector(n)}function Y6(n,e,t){let r=Fy()+n,i=Re();return i[r]===jr?ov(i,r,t?e.call(t):e()):B1(i,r)}function FT(n,e){let t=n[e];return t===jr?void 0:t}function VF(n,e,t,r,i,s,o){let a=e+t;return DT(n,a,i,s)?ov(n,a+2,o?r.call(o,i,s):r(i,s)):FT(n,a+2)}function jF(n,e,t,r,i,s,o,a){let u=e+t;return $1(n,u,i,s,o)?ov(n,u+3,a?r.call(a,i,s,o):r(i,s,o)):FT(n,u+3)}function Z6(n,e){let t=At(),r,i=n+rn;t.firstCreatePass?(r=UF(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let s=r.factory||(r.factory=Fs(r.type,!0)),o,a=Yt(te);try{let u=Th(!1),d=s();return Th(u),SF(t,Re(),i,d),d}finally{Yt(a)}}function UF(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function J6(n,e,t,r){let i=n+rn,s=Re(),o=Py(s,i);return LT(s,i)?VF(s,Fy(),e,o.transform,t,r,o):o.transform(t,r)}function X6(n,e,t,r,i){let s=n+rn,o=Re(),a=Py(o,s);return LT(o,s)?jF(o,Fy(),e,a.transform,t,r,i,a):a.transform(t,r,i)}function LT(n,e){return n[ge].data[e].pure}var kr=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},VT=new kr("18.2.13");var ff=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var jT=new z("");function qs(n){return!!n&&typeof n.then=="function"}function UT(n){return!!n&&typeof n.subscribe=="function"}var pf=new z(""),BT=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=L(pf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=i();if(qs(s))t.push(s);else if(UT(s)){let o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),cu=new z("");function BF(){pb(()=>{throw new Q(600,!1)})}function $F(n){return n.isBoundToModule}var HF=10;function zF(n,e,t){try{let r=t();return qs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var qi=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=L(MO),this.afterRenderManager=L(CT),this.zonelessEnabled=L(uf),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ct,this.afterTick=new Ct,this.componentTypes=[],this.components=[],this.isStable=L(zi).hasPendingTasks.pipe(ie(t=>!t)),this._injector=L(Ut)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Ph;if(!this._injector.get(BT).done){let _=!i&&qD(t),I=!1;throw new Q(405,I)}let o;i?o=t:o=this._injector.get(pa).resolveComponentFactory(t),this.componentTypes.push(o.componentType);let a=$F(o)?void 0:this._injector.get(Bi),u=r||o.selector,d=o.create(Tt.NULL,[],u,a),p=d.location.nativeElement,g=d.injector.get(jT,null);return g?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),fh(this.components,d),g?.unregisterApplication(p)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Q(101,!1);let t=Te(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Te(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(ga,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<HF;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)qF(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Kh(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;fh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(cu,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>fh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Q(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function fh(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function qF(n,e,t,r){if(!t&&!Kh(n))return;gT(n,e,t&&!r?0:1)}var _y=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},gf=(()=>{class n{compileModuleSync(t){return new fy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=GD(t),s=GC(i.declarations).reduce((o,a)=>{let u=Vi(a);return u&&o.push(new ma(u)),o},[]);return new _y(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var GF=(()=>{class n{constructor(){this.zone=L(Ae),this.changeDetectionScheduler=L(fa),this.applicationRef=L(qi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),WF=new z("",{factory:()=>!1});function $T({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ae(pe(B({},HT()),{scheduleInRootZone:t})),[{provide:Ae,useFactory:n},{provide:oa,multi:!0,useFactory:()=>{let r=L(GF,{optional:!0});return()=>r.initialize()}},{provide:oa,multi:!0,useFactory:()=>{let r=L(KF);return()=>{r.initialize()}}},e===!0?{provide:wT,useValue:!0}:[],{provide:_T,useValue:t??OC}]}function e8(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=$T({ngZoneFactory:()=>{let i=HT(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&zs("NgZone_CoalesceEvent"),new Ae(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return vn([{provide:WF,useValue:!0},{provide:uf,useValue:!1},r])}function HT(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var KF=(()=>{class n{constructor(){this.subscription=new We,this.initialized=!1,this.zone=L(Ae),this.pendingTasks=L(zi)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ae.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var QF=(()=>{class n{constructor(){this.appRef=L(qi),this.taskService=L(zi),this.ngZone=L(Ae),this.zonelessEnabled=L(uf),this.disableScheduling=L(wT,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new We,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Rh):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(L(_T,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ty||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?sD:kC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Rh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,sD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function YF(){return typeof $localize<"u"&&$localize.locale||Vh}var mf=new z("",{providedIn:"root",factory:()=>L(mf,he.Optional|he.SkipSelf)||YF()});var Iy=new z("");function uh(n){return!n.moduleRef}function ZF(n){let e=uh(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ae);return t.run(()=>{uh(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Pr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),uh(n)){let s=()=>e.destroy(),o=n.platformInjector.get(Iy);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(Iy);o.add(s),n.moduleRef.onDestroy(()=>{fh(n.allPlatformModules,n.moduleRef),i.unsubscribe(),o.delete(s)})}return zF(r,t,()=>{let s=e.get(BT);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(mf,Vh);if(DF(o||Vh),uh(n)){let a=e.get(qi);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return JF(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function JF(n,e){let t=n.injector.get(qi);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new Q(-403,!1);e.push(n)}var ph=null;function XF(n=[],e){return Tt.create({name:e,providers:[{provide:zh,useValue:"platform"},{provide:Iy,useValue:new Set([()=>ph=null])},...n]})}function eL(n=[]){if(ph)return ph;let e=XF(n);return ph=e,BF(),tL(e),e}function tL(n){n.get(zy,null)?.forEach(t=>t())}var Gs=(()=>{class n{static{this.__NG_ELEMENT_ID__=nL}}return n})();function nL(n){return rL($t(),Re(),(n&16)===16)}function rL(n,e,t){if(Gh(n)&&!t){let r=Hi(n.index,e);return new Bs(r,r)}else if(n.type&175){let r=e[ar];return new Bs(r,e)}return null}var Ey=class{constructor(){}supports(e){return bT(e)}create(e){return new by(e)}},iL=(n,e)=>e,by=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||iL}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){let o=!r||t&&t.currentIndex<DD(r,i,s)?t:r,a=DD(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,o.previousIndex==null)i++;else{s||(s=[]);let d=a-i,p=u-i;if(d!=p){for(let _=0;_<d;_++){let I=_<s.length?s[_]:s[_]=0,N=I+_;p<=N&&N<d&&(s[_]=I+1)}let g=o.previousIndex;s[g]=p-d}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!bT(e))throw new Q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),r=!0):(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else i=0,j1(e,a=>{o=this._trackByFn(i,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new Dy(t,r),s,i)),e}_verifyReinsertion(e,t,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new jh),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new jh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Dy=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Cy=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},jh=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Cy,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function DD(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function CD(){return new uv([new Ey])}var uv=(()=>{class n{static{this.\u0275prov=G({token:n,providedIn:"root",factory:CD})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||CD()),deps:[[n,new Ay,new xt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new Q(901,!1)}}return n})();function zT(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=eL(r),s=[$T({}),{provide:fa,useExisting:QF},...t||[]],o=new Fh({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return ZF({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function uu(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Ea(n,e){zs("NgSignals");let t=db(n);return e?.equal&&(t[Rr].equal=e.equal),t}function pr(n){let e=Te(null);try{return n()}finally{Te(e)}}function qT(n){let e=Vi(n);if(!e)return null;let t=new ma(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var JT=null;function zr(){return JT}function XT(n){JT??=n}var Cf=class{};var Pt=new z(""),vv=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=G({token:n,factory:()=>L(cL),providedIn:"platform"})}}return n})(),e0=new z(""),cL=(()=>{class n extends vv{constructor(){super(),this._doc=L(Pt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return zr().getBaseHref(this._doc)}onPopState(t){let r=zr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=zr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=G({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function wv(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function GT(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function $r(n){return n&&n[0]!=="?"?"?"+n:n}var Ws=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=G({token:n,factory:()=>L(_v),providedIn:"root"})}}return n})(),t0=new z(""),_v=(()=>{class n extends Ws{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??L(Pt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return wv(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+$r(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+$r(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+$r(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(Y(vv),Y(t0,8))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),n0=(()=>{class n extends Ws{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=wv(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+$r(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+$r(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(Y(vv),Y(t0,8))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})(),Da=(()=>{class n{constructor(t){this._subject=new Ke,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=dL(GT(WT(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+$r(r))}normalize(t){return n.stripTrailingSlash(lL(this._basePath,WT(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$r(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$r(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=$r}static{this.joinWithSlash=wv}static{this.stripTrailingSlash=GT}static{this.\u0275fac=function(r){return new(r||n)(Y(Ws))}}static{this.\u0275prov=G({token:n,factory:()=>uL(),providedIn:"root"})}}return n})();function uL(){return new Da(Y(Ws))}function lL(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function WT(n){return n.replace(/\/index.html$/,"")}function dL(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var zt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(zt||{}),Le=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Le||{}),on=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(on||{}),Wi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function hL(n){return En(n)[Je.LocaleId]}function fL(n,e,t){let r=En(n),i=[r[Je.DayPeriodsFormat],r[Je.DayPeriodsStandalone]],s=bn(i,e);return bn(s,t)}function pL(n,e,t){let r=En(n),i=[r[Je.DaysFormat],r[Je.DaysStandalone]],s=bn(i,e);return bn(s,t)}function gL(n,e,t){let r=En(n),i=[r[Je.MonthsFormat],r[Je.MonthsStandalone]],s=bn(i,e);return bn(s,t)}function mL(n,e){let r=En(n)[Je.Eras];return bn(r,e)}function yf(n,e){let t=En(n);return bn(t[Je.DateFormat],e)}function vf(n,e){let t=En(n);return bn(t[Je.TimeFormat],e)}function wf(n,e){let r=En(n)[Je.DateTimeFormat];return bn(r,e)}function Af(n,e){let t=En(n),r=t[Je.NumberSymbols][e];if(typeof r>"u"){if(e===Wi.CurrencyDecimal)return t[Je.NumberSymbols][Wi.Decimal];if(e===Wi.CurrencyGroup)return t[Je.NumberSymbols][Wi.Group]}return r}function r0(n){if(!n[Je.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Je.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function yL(n){let e=En(n);return r0(e),(e[Je.ExtraData][2]||[]).map(r=>typeof r=="string"?lv(r):[lv(r[0]),lv(r[1])])}function vL(n,e,t){let r=En(n);r0(r);let i=[r[Je.ExtraData][0],r[Je.ExtraData][1]],s=bn(i,e)||[];return bn(s,t)||[]}function bn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function lv(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var wL=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,_f={},_L=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Hr=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Hr||{}),Ne=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Ne||{}),Me=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Me||{});function IL(n,e,t,r){let i=ML(n);e=Br(t,e)||e;let o=[],a;for(;e;)if(a=_L.exec(e),a){o=o.concat(a.slice(1));let p=o.pop();if(!p)break;e=p}else{o.push(e);break}let u=i.getTimezoneOffset();r&&(u=s0(r,u),i=RL(i,r,!0));let d="";return o.forEach(p=>{let g=AL(p);d+=g?g(i,t,u):p==="''"?"'":p.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function Tf(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Br(n,e){let t=hL(n);if(_f[t]??={},_f[t][e])return _f[t][e];let r="";switch(e){case"shortDate":r=yf(n,on.Short);break;case"mediumDate":r=yf(n,on.Medium);break;case"longDate":r=yf(n,on.Long);break;case"fullDate":r=yf(n,on.Full);break;case"shortTime":r=vf(n,on.Short);break;case"mediumTime":r=vf(n,on.Medium);break;case"longTime":r=vf(n,on.Long);break;case"fullTime":r=vf(n,on.Full);break;case"short":let i=Br(n,"shortTime"),s=Br(n,"shortDate");r=If(wf(n,on.Short),[i,s]);break;case"medium":let o=Br(n,"mediumTime"),a=Br(n,"mediumDate");r=If(wf(n,on.Medium),[o,a]);break;case"long":let u=Br(n,"longTime"),d=Br(n,"longDate");r=If(wf(n,on.Long),[u,d]);break;case"full":let p=Br(n,"fullTime"),g=Br(n,"fullDate");r=If(wf(n,on.Full),[p,g]);break}return r&&(_f[t][e]=r),r}function If(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Bn(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function EL(n,e){return Bn(n,3).substring(0,e)}function at(n,e,t=0,r=!1,i=!1){return function(s,o){let a=bL(n,s);if((t>0||a>-t)&&(a+=t),n===Ne.Hours)a===0&&t===-12&&(a=12);else if(n===Ne.FractionalSeconds)return EL(a,e);let u=Af(o,Wi.MinusSign);return Bn(a,e,u,r,i)}}function bL(n,e){switch(n){case Ne.FullYear:return e.getFullYear();case Ne.Month:return e.getMonth();case Ne.Date:return e.getDate();case Ne.Hours:return e.getHours();case Ne.Minutes:return e.getMinutes();case Ne.Seconds:return e.getSeconds();case Ne.FractionalSeconds:return e.getMilliseconds();case Ne.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function je(n,e,t=zt.Format,r=!1){return function(i,s){return DL(i,s,n,e,t,r)}}function DL(n,e,t,r,i,s){switch(t){case Me.Months:return gL(e,i,r)[n.getMonth()];case Me.Days:return pL(e,i,r)[n.getDay()];case Me.DayPeriods:let o=n.getHours(),a=n.getMinutes();if(s){let d=yL(e),p=vL(e,i,r),g=d.findIndex(_=>{if(Array.isArray(_)){let[I,N]=_,k=o>=I.hours&&a>=I.minutes,x=o<N.hours||o===N.hours&&a<N.minutes;if(I.hours<N.hours){if(k&&x)return!0}else if(k||x)return!0}else if(_.hours===o&&_.minutes===a)return!0;return!1});if(g!==-1)return p[g]}return fL(e,i,r)[o<12?0:1];case Me.Eras:return mL(e,r)[n.getFullYear()<=0?0:1];default:let u=t;throw new Error(`unexpected translation type ${u}`)}}function Ef(n){return function(e,t,r){let i=-1*r,s=Af(t,Wi.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Hr.Short:return(i>=0?"+":"")+Bn(o,2,s)+Bn(Math.abs(i%60),2,s);case Hr.ShortGMT:return"GMT"+(i>=0?"+":"")+Bn(o,1,s);case Hr.Long:return"GMT"+(i>=0?"+":"")+Bn(o,2,s)+":"+Bn(Math.abs(i%60),2,s);case Hr.Extended:return r===0?"Z":(i>=0?"+":"")+Bn(o,2,s)+":"+Bn(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}var CL=0,Df=4;function TL(n){let e=Tf(n,CL,1).getDay();return Tf(n,0,1+(e<=Df?Df:Df+7)-e)}function i0(n){let e=n.getDay(),t=e===0?-3:Df-e;return Tf(n.getFullYear(),n.getMonth(),n.getDate()+t)}function dv(n,e=!1){return function(t,r){let i;if(e){let s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{let s=i0(t),o=TL(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Bn(i,n,Af(r,Wi.MinusSign))}}function bf(n,e=!1){return function(t,r){let s=i0(t).getFullYear();return Bn(s,n,Af(r,Wi.MinusSign),e)}}var hv={};function AL(n){if(hv[n])return hv[n];let e;switch(n){case"G":case"GG":case"GGG":e=je(Me.Eras,Le.Abbreviated);break;case"GGGG":e=je(Me.Eras,Le.Wide);break;case"GGGGG":e=je(Me.Eras,Le.Narrow);break;case"y":e=at(Ne.FullYear,1,0,!1,!0);break;case"yy":e=at(Ne.FullYear,2,0,!0,!0);break;case"yyy":e=at(Ne.FullYear,3,0,!1,!0);break;case"yyyy":e=at(Ne.FullYear,4,0,!1,!0);break;case"Y":e=bf(1);break;case"YY":e=bf(2,!0);break;case"YYY":e=bf(3);break;case"YYYY":e=bf(4);break;case"M":case"L":e=at(Ne.Month,1,1);break;case"MM":case"LL":e=at(Ne.Month,2,1);break;case"MMM":e=je(Me.Months,Le.Abbreviated);break;case"MMMM":e=je(Me.Months,Le.Wide);break;case"MMMMM":e=je(Me.Months,Le.Narrow);break;case"LLL":e=je(Me.Months,Le.Abbreviated,zt.Standalone);break;case"LLLL":e=je(Me.Months,Le.Wide,zt.Standalone);break;case"LLLLL":e=je(Me.Months,Le.Narrow,zt.Standalone);break;case"w":e=dv(1);break;case"ww":e=dv(2);break;case"W":e=dv(1,!0);break;case"d":e=at(Ne.Date,1);break;case"dd":e=at(Ne.Date,2);break;case"c":case"cc":e=at(Ne.Day,1);break;case"ccc":e=je(Me.Days,Le.Abbreviated,zt.Standalone);break;case"cccc":e=je(Me.Days,Le.Wide,zt.Standalone);break;case"ccccc":e=je(Me.Days,Le.Narrow,zt.Standalone);break;case"cccccc":e=je(Me.Days,Le.Short,zt.Standalone);break;case"E":case"EE":case"EEE":e=je(Me.Days,Le.Abbreviated);break;case"EEEE":e=je(Me.Days,Le.Wide);break;case"EEEEE":e=je(Me.Days,Le.Narrow);break;case"EEEEEE":e=je(Me.Days,Le.Short);break;case"a":case"aa":case"aaa":e=je(Me.DayPeriods,Le.Abbreviated);break;case"aaaa":e=je(Me.DayPeriods,Le.Wide);break;case"aaaaa":e=je(Me.DayPeriods,Le.Narrow);break;case"b":case"bb":case"bbb":e=je(Me.DayPeriods,Le.Abbreviated,zt.Standalone,!0);break;case"bbbb":e=je(Me.DayPeriods,Le.Wide,zt.Standalone,!0);break;case"bbbbb":e=je(Me.DayPeriods,Le.Narrow,zt.Standalone,!0);break;case"B":case"BB":case"BBB":e=je(Me.DayPeriods,Le.Abbreviated,zt.Format,!0);break;case"BBBB":e=je(Me.DayPeriods,Le.Wide,zt.Format,!0);break;case"BBBBB":e=je(Me.DayPeriods,Le.Narrow,zt.Format,!0);break;case"h":e=at(Ne.Hours,1,-12);break;case"hh":e=at(Ne.Hours,2,-12);break;case"H":e=at(Ne.Hours,1);break;case"HH":e=at(Ne.Hours,2);break;case"m":e=at(Ne.Minutes,1);break;case"mm":e=at(Ne.Minutes,2);break;case"s":e=at(Ne.Seconds,1);break;case"ss":e=at(Ne.Seconds,2);break;case"S":e=at(Ne.FractionalSeconds,1);break;case"SS":e=at(Ne.FractionalSeconds,2);break;case"SSS":e=at(Ne.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Ef(Hr.Short);break;case"ZZZZZ":e=Ef(Hr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ef(Hr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ef(Hr.Long);break;default:return null}return hv[n]=e,e}function s0(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function SL(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function RL(n,e,t){let r=t?-1:1,i=n.getTimezoneOffset(),s=s0(e,i);return SL(n,r*(s-i))}function ML(n){if(KT(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,s=1,o=1]=n.split("-").map(a=>+a);return Tf(i,s-1,o)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(wL))return NL(r)}let e=new Date(n);if(!KT(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function NL(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,u=Number(n[6]||0),d=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return s.call(e,o,a,u,d),e}function KT(n){return n instanceof Date&&!isNaN(n.valueOf())}function Sf(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var fv=/\s+/,QT=[],E8=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=QT,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(fv):QT}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(fv):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(fv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(te(hr),te(Ur))}}static{this.\u0275dir=$e({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var pv=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},b8=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new pv(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),YT(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);YT(s,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(te(_a),te(cf),te(uv))}}static{this.\u0275dir=$e({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function YT(n,e){n.context.$implicit=e.item}var D8=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new gv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ZT("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ZT("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(te(_a),te(cf))}}static{this.\u0275dir=$e({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),gv=class{constructor(){this.$implicit=null,this.ngIf=null}};function ZT(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${jt(e)}'.`)}function xL(n,e){return new Q(2100,!1)}var PL="mediumDate",OL=new z(""),kL=new z(""),C8=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,s){if(t==null||t===""||t!==t)return null;try{let o=r??this.defaultOptions?.dateFormat??PL,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return IL(t,o,s||this.locale,a)}catch(o){throw xL(n,o.message)}}static{this.\u0275fac=function(r){return new(r||n)(te(mf,16),te(OL,24),te(kL,24))}}static{this.\u0275pipe=$D({name:"date",type:n,pure:!0,standalone:!0})}}return n})();var FL=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=lr({type:n})}static{this.\u0275inj=ur({})}}return n})(),Iv="browser",LL="server";function VL(n){return n===Iv}function Rf(n){return n===LL}var o0=(()=>{class n{static{this.\u0275prov=G({token:n,providedIn:"root",factory:()=>VL(L(In))?new mv(L(Pt),window):new yv})}}return n})(),mv=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=jL(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function jL(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var yv=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},ba=class{};var du=class{},Nf=class{},qr=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var bv=class{encodeKey(e){return a0(e)}encodeValue(e){return a0(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function BL(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=t.get(o)||[];u.push(a),t.set(o,u)}),t}var $L=/%(\d[a-f0-9])/gi,HL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function a0(n){return encodeURIComponent(n).replace($L,(e,t)=>HL[t]??e)}function Mf(n){return`${n}`}var Qi=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new bv,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=BL(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Mf):[Mf(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Mf(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Mf(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Dv=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function zL(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function c0(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function u0(n){return typeof Blob<"u"&&n instanceof Blob}function l0(n){return typeof FormData<"u"&&n instanceof FormData}function qL(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var lu=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(zL(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new qr,this.context??=new Dv,!this.params)this.params=new Qi,this.urlWithParams=t;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||c0(this.body)||u0(this.body)||l0(this.body)||qL(this.body)?this.body:this.body instanceof Qi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||l0(this.body)?null:u0(this.body)?this.body.type||null:c0(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Qi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,d=e.headers||this.headers,p=e.params||this.params,g=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((_,I)=>_.set(I,e.setHeaders[I]),d)),e.setParams&&(p=Object.keys(e.setParams).reduce((_,I)=>_.set(I,e.setParams[I]),p)),new n(t,r,o,{params:p,headers:d,context:g,reportProgress:u,responseType:i,withCredentials:a,transferCache:s})}},Yi=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Yi||{}),hu=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new qr,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},xf=class n extends hu{constructor(e={}){super(e),this.type=Yi.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},fu=class n extends hu{constructor(e={}){super(e),this.type=Yi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ki=class extends hu{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},p0=200,GL=204;function Ev(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var WL=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof lu)s=t;else{let u;i.headers instanceof qr?u=i.headers:u=new qr(i.headers);let d;i.params&&(i.params instanceof Qi?d=i.params:d=new Qi({fromObject:i.params})),s=new lu(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=ee(s).pipe(Nr(u=>this.handler.handle(u)));if(t instanceof lu||i.observe==="events")return o;let a=o.pipe(Lt(u=>u instanceof fu));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ie(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(ie(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(ie(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(ie(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Qi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Ev(i,r))}post(t,r,i={}){return this.request("POST",t,Ev(i,r))}put(t,r,i={}){return this.request("PUT",t,Ev(i,r))}static{this.\u0275fac=function(r){return new(r||n)(Y(du))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})(),KL=/^\)\]\}',?\n/,QL="X-Request-URL";function d0(n){if(n.url)return n.url;let e=QL.toLocaleLowerCase();return n.headers.get(e)}var YL=(()=>{class n{constructor(){this.fetchImpl=L(Cv,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=L(Ae)}handle(t){return new de(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(Tv,s=>r.error(new Ki({error:s}))),()=>i.abort()})}doRequest(t,r,i){return C(this,null,function*(){let s=this.createRequestInit(t),o;try{let I=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,B({signal:r},s)));ZL(I),i.next({type:Yi.Sent}),o=yield I}catch(I){i.error(new Ki({error:I,status:I.status??0,statusText:I.statusText,url:t.urlWithParams,headers:I.headers}));return}let a=new qr(o.headers),u=o.statusText,d=d0(o)??t.urlWithParams,p=o.status,g=null;if(t.reportProgress&&i.next(new xf({headers:a,status:p,statusText:u,url:d})),o.body){let I=o.headers.get("content-length"),N=[],k=o.body.getReader(),x=0,V,K,H=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>C(this,null,function*(){for(;;){let{done:_e,value:Z}=yield k.read();if(_e)break;if(N.push(Z),x+=Z.length,t.reportProgress){K=t.responseType==="text"?(K??"")+(V??=new TextDecoder).decode(Z,{stream:!0}):void 0;let T=()=>i.next({type:Yi.DownloadProgress,total:I?+I:void 0,loaded:x,partialText:K});H?H.run(T):T()}}}));let re=this.concatChunks(N,x);try{let _e=o.headers.get("Content-Type")??"";g=this.parseBody(t,re,_e)}catch(_e){i.error(new Ki({error:_e,headers:new qr(o.headers),status:o.status,statusText:o.statusText,url:d0(o)??t.urlWithParams}));return}}p===0&&(p=g?p0:0),p>=200&&p<300?(i.next(new fu({body:g,headers:a,status:p,statusText:u,url:d})),i.complete()):i.error(new Ki({error:g,headers:a,status:p,statusText:u,url:d}))})}parseBody(t,r,i){switch(t.responseType){case"json":let s=new TextDecoder().decode(r).replace(KL,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((s,o)=>r[s]=o.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let s=t.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),s=0;for(let o of t)i.set(o,s),s+=o.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})(),Cv=class{};function Tv(){}function ZL(n){n.then(Tv,Tv)}function JL(n,e){return e(n)}function XL(n,e,t){return(r,i)=>wn(t,()=>e(r,s=>n(s,i)))}var g0=new z(""),eV=new z(""),tV=new z("",{providedIn:"root",factory:()=>!0});var h0=(()=>{class n extends du{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=L(zi),this.contributeToStability=L(tV)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(g0),...this.injector.get(eV,[])]));this.chain=r.reduceRight((i,s)=>XL(i,s,this.injector),JL)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Ps(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(Y(Nf),Y(Ut))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})();var nV=/^\)\]\}',?\n/;function rV(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var f0=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new Q(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ve(r.\u0275loadImpl()):ee(null)).pipe(Qt(()=>new de(s=>{let o=r.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((k,x)=>o.setRequestHeader(k,x.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let k=t.detectContentTypeHeader();k!==null&&o.setRequestHeader("Content-Type",k)}if(t.responseType){let k=t.responseType.toLowerCase();o.responseType=k!=="json"?k:"text"}let a=t.serializeBody(),u=null,d=()=>{if(u!==null)return u;let k=o.statusText||"OK",x=new qr(o.getAllResponseHeaders()),V=rV(o)||t.url;return u=new xf({headers:x,status:o.status,statusText:k,url:V}),u},p=()=>{let{headers:k,status:x,statusText:V,url:K}=d(),H=null;x!==GL&&(H=typeof o.response>"u"?o.responseText:o.response),x===0&&(x=H?p0:0);let re=x>=200&&x<300;if(t.responseType==="json"&&typeof H=="string"){let _e=H;H=H.replace(nV,"");try{H=H!==""?JSON.parse(H):null}catch(Z){H=_e,re&&(re=!1,H={error:Z,text:H})}}re?(s.next(new fu({body:H,headers:k,status:x,statusText:V,url:K||void 0})),s.complete()):s.error(new Ki({error:H,headers:k,status:x,statusText:V,url:K||void 0}))},g=k=>{let{url:x}=d(),V=new Ki({error:k,status:o.status||0,statusText:o.statusText||"Unknown Error",url:x||void 0});s.error(V)},_=!1,I=k=>{_||(s.next(d()),_=!0);let x={type:Yi.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(x.total=k.total),t.responseType==="text"&&o.responseText&&(x.partialText=o.responseText),s.next(x)},N=k=>{let x={type:Yi.UploadProgress,loaded:k.loaded};k.lengthComputable&&(x.total=k.total),s.next(x)};return o.addEventListener("load",p),o.addEventListener("error",g),o.addEventListener("timeout",g),o.addEventListener("abort",g),t.reportProgress&&(o.addEventListener("progress",I),a!==null&&o.upload&&o.upload.addEventListener("progress",N)),o.send(a),s.next({type:Yi.Sent}),()=>{o.removeEventListener("error",g),o.removeEventListener("abort",g),o.removeEventListener("load",p),o.removeEventListener("timeout",g),t.reportProgress&&(o.removeEventListener("progress",I),a!==null&&o.upload&&o.upload.removeEventListener("progress",N)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(Y(ba))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})(),m0=new z(""),iV="XSRF-TOKEN",sV=new z("",{providedIn:"root",factory:()=>iV}),oV="X-XSRF-TOKEN",aV=new z("",{providedIn:"root",factory:()=>oV}),Pf=class{},cV=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Sf(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(Y(Pt),Y(In),Y(sV))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})();function uV(n,e){let t=n.url.toLowerCase();if(!L(m0)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=L(Pf).getToken(),i=L(aV);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function j8(...n){let e=[WL,f0,h0,{provide:du,useExisting:h0},{provide:Nf,useFactory:()=>L(YL,{optional:!0})??L(f0)},{provide:g0,useValue:uV,multi:!0},{provide:m0,useValue:!0},{provide:Pf,useClass:cV}];for(let t of n)e.push(...t.\u0275providers);return vn(e)}var Rv=class extends Cf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Mv=class n extends Rv{static makeCurrent(){XT(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=lV();return t==null?null:dV(t)}resetBaseElement(){pu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Sf(document.cookie,e)}},pu=null;function lV(){return pu=pu||document.querySelector("base"),pu?pu.getAttribute("href"):null}function dV(n){return new URL(n,document.baseURI).pathname}var hV=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})(),Nv=new z(""),_0=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new Q(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(Y(Nv),Y(Ae))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})(),Of=class{constructor(e){this._doc=e}},Av="ng-app-id",I0=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Rf(s),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Av}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(Av),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Av,this.appId),t.appendChild(o),o}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(Y(Pt),Y(Hy),Y(qy,8),Y(In))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})(),Sv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Pv=/%COMP%/g,E0="%COMP%",fV=`_nghost-${E0}`,pV=`_ngcontent-${E0}`,gV=!0,mV=new z("",{providedIn:"root",factory:()=>gV});function yV(n){return pV.replace(Pv,n)}function vV(n){return fV.replace(Pv,n)}function b0(n,e){return e.map(t=>t.replace(Pv,n))}var y0=(()=>{class n{constructor(t,r,i,s,o,a,u,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Rf(a),this.defaultRenderer=new gu(t,o,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===sr.ShadowDom&&(r=pe(B({},r),{encapsulation:sr.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof kf?i.applyToHost(t):i instanceof mu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case sr.Emulated:s=new kf(u,d,r,this.appId,p,o,a,g);break;case sr.ShadowDom:return new xv(u,d,t,r,o,a,this.nonce,g);default:s=new mu(u,d,r,p,o,a,g);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(Y(_0),Y(I0),Y(Hy),Y(mV),Y(Pt),Y(In),Y(Ae),Y(qy))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})(),gu=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Sv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(v0(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(v0(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Q(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=Sv[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Sv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Or.DashCase|Or.Important)?e.style.setProperty(t,r,i&Or.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Or.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=zr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function v0(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var xv=class extends gu{constructor(e,t,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=b0(i.id,i.styles);for(let p of d){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=p,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},mu=class extends gu{constructor(e,t,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?b0(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},kf=class extends mu{constructor(e,t,r,i,s,o,a,u){let d=i+"-"+r.id;super(e,t,r,s,o,a,u,d),this.contentAttr=yV(d),this.hostAttr=vV(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},wV=(()=>{class n extends Of{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(Y(Pt))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})(),w0=["alt","control","meta","shift"],_V={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},IV={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},EV=(()=>{class n extends Of{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zr().onAndCancel(t,s.domEventName,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),w0.forEach(d=>{let p=r.indexOf(d);p>-1&&(r.splice(p,1),o+=d+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=_V[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),w0.forEach(o=>{if(o!==i){let a=IV[o];a(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(Y(Pt))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})();function d7(n,e){return zT(B({rootComponent:n},bV(e)))}function bV(n){return{appProviders:[...SV,...n?.providers??[]],platformProviders:AV}}function DV(){Mv.makeCurrent()}function CV(){return new Pr}function TV(){return $C(document),document}var AV=[{provide:In,useValue:Iv},{provide:zy,useValue:DV,multi:!0},{provide:Pt,useFactory:TV,deps:[]}];var SV=[{provide:zh,useValue:"root"},{provide:Pr,useFactory:CV,deps:[]},{provide:Nv,useClass:wV,multi:!0,deps:[Pt,Ae,In]},{provide:Nv,useClass:EV,multi:!0,deps:[Pt]},y0,I0,_0,{provide:ga,useExisting:y0},{provide:ba,useClass:hV,deps:[]},[]];var D0=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(Y(Pt))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ue="primary",xu=Symbol("RouteTitle"),Vv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ma(n){return new Vv(n)}function MV(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function NV(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!gr(n[t],e[t]))return!1;return!0}function gr(n,e){let t=n?jv(n):void 0,r=e?jv(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!k0(n[i],e[i]))return!1;return!0}function jv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function k0(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function F0(n){return n.length>0?n[n.length-1]:null}function Xi(n){return vm(n)?n:qs(n)?Ve(Promise.resolve(n)):ee(n)}var xV={exact:V0,subset:j0},L0={exact:PV,subset:OV,ignored:()=>!0};function C0(n,e,t){return xV[t.paths](n.root,e.root,t.matrixParams)&&L0[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function PV(n,e){return gr(n,e)}function V0(n,e,t){if(!Qs(n.segments,e.segments)||!Vf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!V0(n.children[r],e.children[r],t))return!1;return!0}function OV(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>k0(n[t],e[t]))}function j0(n,e,t){return U0(n,e,e.segments,t)}function U0(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Qs(i,t)||e.hasChildren()||!Vf(i,t,r))}else if(n.segments.length===t.length){if(!Qs(n.segments,t)||!Vf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!j0(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Qs(n.segments,i)||!Vf(n.segments,i,r)||!n.children[ue]?!1:U0(n.children[ue],e,s,r)}}function Vf(n,e,t){return e.every((r,i)=>L0[t](n[i].parameters,r.parameters))}var Wr=class{constructor(e=new Pe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ma(this.queryParams),this._queryParamMap}toString(){return LV.serialize(this)}},Pe=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jf(this)}},Ks=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ma(this.parameters),this._parameterMap}toString(){return $0(this)}};function kV(n,e){return Qs(n,e)&&n.every((t,r)=>gr(t.parameters,e[r].parameters))}function Qs(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function FV(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ue&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ue&&(t=t.concat(e(i,r)))}),t}var Pu=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=G({token:n,factory:()=>new Na,providedIn:"root"})}}return n})(),Na=class{parse(e){let t=new Bv(e);return new Wr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${yu(e.root,!0)}`,r=UV(e.queryParams),i=typeof e.fragment=="string"?`#${VV(e.fragment)}`:"";return`${t}${r}${i}`}},LV=new Na;function jf(n){return n.segments.map(e=>$0(e)).join("/")}function yu(n,e){if(!n.hasChildren())return jf(n);if(e){let t=n.children[ue]?yu(n.children[ue],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==ue&&r.push(`${i}:${yu(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=FV(n,(r,i)=>i===ue?[yu(n.children[ue],!1)]:[`${i}:${yu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ue]!=null?`${jf(n)}/${t[0]}`:`${jf(n)}/(${t.join("//")})`}}function B0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ff(n){return B0(n).replace(/%3B/gi,";")}function VV(n){return encodeURI(n)}function Uv(n){return B0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Uf(n){return decodeURIComponent(n)}function T0(n){return Uf(n.replace(/\+/g,"%20"))}function $0(n){return`${Uv(n.path)}${jV(n.parameters)}`}function jV(n){return Object.entries(n).map(([e,t])=>`;${Uv(e)}=${Uv(t)}`).join("")}function UV(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Ff(t)}=${Ff(i)}`).join("&"):`${Ff(t)}=${Ff(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var BV=/^[^\/()?;#]+/;function Ov(n){let e=n.match(BV);return e?e[0]:""}var $V=/^[^\/()?;=#]+/;function HV(n){let e=n.match($V);return e?e[0]:""}var zV=/^[^=?&#]+/;function qV(n){let e=n.match(zV);return e?e[0]:""}var GV=/^[^&#]+/;function WV(n){let e=n.match(GV);return e?e[0]:""}var Bv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pe([],{}):new Pe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ue]=new Pe(e,t)),r}parseSegment(){let e=Ov(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Q(4009,!1);return this.capture(e),new Ks(Uf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=HV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Ov(this.remaining);i&&(r=i,this.capture(r))}e[Uf(t)]=Uf(r)}parseQueryParam(e){let t=qV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=WV(this.remaining);o&&(r=o,this.capture(r))}let i=T0(t),s=T0(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ov(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Q(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ue);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[ue]:new Pe([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Q(4011,!1)}};function H0(n){return n.segments.length>0?new Pe([],{[ue]:n}):n}function z0(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=z0(i);if(r===ue&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new Pe(n.segments,e);return KV(t)}function KV(n){if(n.numberOfChildren===1&&n.children[ue]){let e=n.children[ue];return new Pe(n.segments.concat(e.segments),e.children)}return n}function bu(n){return n instanceof Wr}function QV(n,e,t=null,r=null){let i=q0(n);return G0(i,e,t,r)}function q0(n){let e;function t(s){let o={};for(let u of s.children){let d=t(u);o[u.outlet]=d}let a=new Pe(s.url,o);return s===n&&(e=a),a}let r=t(n.root),i=H0(r);return e??i}function G0(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return kv(i,i,i,t,r);let s=YV(e);if(s.toRoot())return kv(i,i,new Pe([],{}),t,r);let o=ZV(s,i,n),a=o.processChildren?_u(o.segmentGroup,o.index,s.commands):K0(o.segmentGroup,o.index,s.commands);return kv(i,o.segmentGroup,a,t,r)}function Bf(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Du(n){return typeof n=="object"&&n!=null&&n.outlets}function kv(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([u,d])=>{s[u]=Array.isArray(d)?d.map(p=>`${p}`):`${d}`});let o;n===e?o=t:o=W0(n,e,t);let a=H0(z0(o));return new Wr(a,s,i)}function W0(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=W0(s,e,t)}),new Pe(n.segments,r)}var $f=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Bf(r[0]))throw new Q(4003,!1);let i=r.find(Du);if(i&&i!==F0(r))throw new Q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function YV(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new $f(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,d])=>{a[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new $f(t,e,r)}var Aa=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function ZV(n,e,t){if(n.isAbsolute)return new Aa(e,!0,0);if(!t)return new Aa(e,!1,NaN);if(t.parent===null)return new Aa(t,!0,0);let r=Bf(n.commands[0])?0:1,i=t.segments.length-1+r;return JV(t,i,n.numberOfDoubleDots)}function JV(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Q(4005,!1);i=r.segments.length}return new Aa(r,!1,i-s)}function XV(n){return Du(n[0])?n[0].outlets:{[ue]:n}}function K0(n,e,t){if(n??=new Pe([],{}),n.segments.length===0&&n.hasChildren())return _u(n,e,t);let r=e2(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new Pe(n.segments.slice(0,r.pathIndex),{});return s.children[ue]=new Pe(n.segments.slice(r.pathIndex),n.children),_u(s,0,i)}else return r.match&&i.length===0?new Pe(n.segments,{}):r.match&&!n.hasChildren()?$v(n,e,t):r.match?_u(n,0,i):$v(n,e,t)}function _u(n,e,t){if(t.length===0)return new Pe(n.segments,{});{let r=XV(t),i={};if(Object.keys(r).some(s=>s!==ue)&&n.children[ue]&&n.numberOfChildren===1&&n.children[ue].segments.length===0){let s=_u(n.children[ue],e,t);return new Pe(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=K0(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Pe(n.segments,i)}}function e2(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],a=t[r];if(Du(a))break;let u=`${a}`,d=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!S0(u,d,o))return s;r+=2}else{if(!S0(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function $v(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(Du(s)){let u=t2(s.outlets);return new Pe(r,u)}if(i===0&&Bf(t[0])){let u=n.segments[e];r.push(new Ks(u.path,A0(t[0]))),i++;continue}let o=Du(s)?s.outlets[ue]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Bf(a)?(r.push(new Ks(o,A0(a))),i+=2):(r.push(new Ks(o,{})),i++)}return new Pe(r,{})}function t2(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=$v(new Pe([],{}),0,r))}),e}function A0(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function S0(n,e,t){return n==t.path&&gr(e,t.parameters)}var Iu="imperative",wt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(wt||{}),Dn=class{constructor(e,t){this.id=e,this.url=t}},xa=class extends Dn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=wt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Kr=class extends Dn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=wt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},cn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(cn||{}),Hf=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Hf||{}),Gr=class extends Dn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=wt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Zi=class extends Dn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=wt.NavigationSkipped}},Cu=class extends Dn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=wt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},zf=class extends Dn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=wt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hv=class extends Dn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=wt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zv=class extends Dn{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=wt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},qv=class extends Dn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=wt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gv=class extends Dn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=wt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wv=class{constructor(e){this.route=e,this.type=wt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Kv=class{constructor(e){this.route=e,this.type=wt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Qv=class{constructor(e){this.snapshot=e,this.type=wt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yv=class{constructor(e){this.snapshot=e,this.type=wt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zv=class{constructor(e){this.snapshot=e,this.type=wt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jv=class{constructor(e){this.snapshot=e,this.type=wt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qf=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=wt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Tu=class{},Pa=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function n2(n,e){return n.providers&&!n._injector&&(n._injector=lf(n.providers,e,`Route: ${n.path}`)),n._injector??e}function $n(n){return n.outlet||ue}function r2(n,e){let t=n.filter(r=>$n(r)===e);return t.push(...n.filter(r=>$n(r)!==e)),t}function Ou(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Xv=class{get injector(){return Ou(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new ku(this.rootInjector),this.attachRef=null}},ku=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Xv(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(Y(Ut))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Gf=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=ew(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=ew(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=tw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return tw(e,this._root).map(t=>t.value)}};function ew(n,e){if(n===e.value)return e;for(let t of e.children){let r=ew(n,t);if(r)return r}return null}function tw(n,e){if(n===e.value)return[e];for(let t of e.children){let r=tw(n,t);if(r.length)return r.unshift(e),r}return[]}var an=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ta(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Wf=class extends Gf{constructor(e,t){super(e),this.snapshot=t,lw(this,e)}toString(){return this.snapshot.toString()}};function Q0(n){let e=i2(n),t=new rt([new Ks("",{})]),r=new rt({}),i=new rt({}),s=new rt({}),o=new rt(""),a=new Ys(t,r,s,o,i,ue,n,e.root);return a.snapshot=e.root,new Wf(new an(a,[]),e)}function i2(n){let e={},t={},r={},i="",s=new Sa([],e,r,i,t,ue,n,null,{});return new Qf("",new an(s,[]))}var Ys=class{constructor(e,t,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ie(d=>d[xu]))??ee(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>Ma(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>Ma(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Kf(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:B(B({},e.params),n.params),data:B(B({},e.data),n.data),resolve:B(B(B(B({},n.data),e.data),i?.data),n._resolvedData)}:r={params:B({},n.params),data:B({},n.data),resolve:B(B({},n.data),n._resolvedData??{})},i&&Z0(i)&&(r.resolve[xu]=i.title),r}var Sa=class{get title(){return this.data?.[xu]}constructor(e,t,r,i,s,o,a,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ma(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ma(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Qf=class extends Gf{constructor(e,t){super(t),this.url=e,lw(this,t)}toString(){return Y0(this._root)}};function lw(n,e){e.value._routerState=n,e.children.forEach(t=>lw(n,t))}function Y0(n){let e=n.children.length>0?` { ${n.children.map(Y0).join(", ")} } `:"";return`${n.value}${e}`}function Fv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,gr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),gr(e.params,t.params)||n.paramsSubject.next(t.params),NV(e.url,t.url)||n.urlSubject.next(t.url),gr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function nw(n,e){let t=gr(n.params,e.params)&&kV(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||nw(n.parent,e.parent))}function Z0(n){return typeof n.title=="string"||n.title===null}var s2=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ue,this.activateEvents=new Ke,this.deactivateEvents=new Ke,this.attachEvents=new Ke,this.detachEvents=new Ke,this.parentContexts=L(ku),this.location=L(_a),this.changeDetector=L(Gs),this.inputBinder=L(Xf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Q(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new rw(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=$e({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Vr]})}}return n})(),rw=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ys?this.route:e===ku?this.childContexts:this.parent.get(e,t)}},Xf=new z(""),R0=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Qc([r.queryParams,r.params,r.data]).pipe(Qt(([s,o,a],u)=>(a=B(B(B({},s),o),a),u===0?ee(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let o=qT(r.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})();function o2(n,e,t){let r=Au(n,e._root,t?t._root:void 0);return new Wf(r,e)}function Au(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=a2(n,e,t);return new an(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Au(n,a)),o}}let r=c2(e.value),i=e.children.map(s=>Au(n,s));return new an(r,i)}}function a2(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Au(n,r,i);return Au(n,r)})}function c2(n){return new Ys(new rt(n.url),new rt(n.params),new rt(n.queryParams),new rt(n.fragment),new rt(n.data),n.outlet,n.component,n)}var Su=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},J0="ngNavigationCancelingError";function Yf(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=bu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=X0(!1,cn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function X0(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[J0]=!0,t.cancellationCode=e,t}function u2(n){return eA(n)&&bu(n.url)}function eA(n){return!!n&&n[J0]}var l2=(n,e,t,r)=>ie(i=>(new iw(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),iw=class{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Fv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Ta(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Ta(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Ta(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Ta(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Jv(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Yv(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(Fv(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Fv(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Zf=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ra=class{constructor(e,t){this.component=e,this.route=t}};function d2(n,e,t){let r=n._root,i=e?e._root:null;return vu(r,i,t,[r.value])}function h2(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ka(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!RD(n)?n:e.get(n):r}function vu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ta(e);return n.children.forEach(o=>{f2(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Eu(a,t.getContext(o),i)),i}function f2(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=p2(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Zf(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?vu(n,e,a?a.children:null,r,i):vu(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ra(a.outlet.component,o))}else o&&Eu(e,a,i),i.canActivateChecks.push(new Zf(r)),s.component?vu(n,null,a?a.children:null,r,i):vu(n,null,t,r,i);return i}function p2(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Qs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Qs(n.url,e.url)||!gr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nw(n,e)||!gr(n.queryParams,e.queryParams);case"paramsChange":default:return!nw(n,e)}}function Eu(n,e,t){let r=Ta(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Eu(o,e.children.getContext(s),t):Eu(o,null,t):Eu(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ra(e.outlet.component,i)):t.canDeactivateChecks.push(new Ra(null,i)):t.canDeactivateChecks.push(new Ra(null,i))}function Fu(n){return typeof n=="function"}function g2(n){return typeof n=="boolean"}function m2(n){return n&&Fu(n.canLoad)}function y2(n){return n&&Fu(n.canActivate)}function v2(n){return n&&Fu(n.canActivateChild)}function w2(n){return n&&Fu(n.canDeactivate)}function _2(n){return n&&Fu(n.canMatch)}function tA(n){return n instanceof Mr||n?.name==="EmptyError"}var Lf=Symbol("INITIAL_VALUE");function Oa(){return Qt(n=>Qc(n.map(e=>e.pipe(xr(1),sh(Lf)))).pipe(ie(e=>{for(let t of e)if(t!==!0){if(t===Lf)return Lf;if(t===!1||I2(t))return t}return!0}),Lt(e=>e!==Lf),xr(1)))}function I2(n){return bu(n)||n instanceof Su}function E2(n,e){return st(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?ee(pe(B({},t),{guardsResult:!0})):b2(o,r,i,n).pipe(st(a=>a&&g2(a)?D2(r,s,n,e):ee(a)),ie(a=>pe(B({},t),{guardsResult:a})))})}function b2(n,e,t,r){return Ve(n).pipe(st(i=>R2(i.component,i.route,t,e,r)),nr(i=>i!==!0,!0))}function D2(n,e,t,r){return Ve(e).pipe(Nr(i=>Zo(T2(i.route.parent,r),C2(i.route,r),S2(n,i.path,t),A2(n,i.route,t))),nr(i=>i!==!0,!0))}function C2(n,e){return n!==null&&e&&e(new Zv(n)),ee(!0)}function T2(n,e){return n!==null&&e&&e(new Qv(n)),ee(!0)}function A2(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ee(!0);let i=r.map(s=>nh(()=>{let o=Ou(e)??t,a=ka(s,o),u=y2(a)?a.canActivate(e,n):wn(o,()=>a(e,n));return Xi(u).pipe(nr())}));return ee(i).pipe(Oa())}function S2(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>h2(o)).filter(o=>o!==null).map(o=>nh(()=>{let a=o.guards.map(u=>{let d=Ou(o.node)??t,p=ka(u,d),g=v2(p)?p.canActivateChild(r,n):wn(d,()=>p(r,n));return Xi(g).pipe(nr())});return ee(a).pipe(Oa())}));return ee(s).pipe(Oa())}function R2(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return ee(!0);let o=s.map(a=>{let u=Ou(e)??i,d=ka(a,u),p=w2(d)?d.canDeactivate(n,e,t,r):wn(u,()=>d(n,e,t,r));return Xi(p).pipe(nr())});return ee(o).pipe(Oa())}function M2(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ee(!0);let s=i.map(o=>{let a=ka(o,n),u=m2(a)?a.canLoad(e,t):wn(n,()=>a(e,t));return Xi(u)});return ee(s).pipe(Oa(),nA(r))}function nA(n){return Ld(ot(e=>{if(typeof e!="boolean")throw Yf(n,e)}),ie(e=>e===!0))}function N2(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ee(!0);let s=i.map(o=>{let a=ka(o,n),u=_2(a)?a.canMatch(e,t):wn(n,()=>a(e,t));return Xi(u)});return ee(s).pipe(Oa(),nA(r))}var Ru=class{constructor(e){this.segmentGroup=e||null}},Mu=class extends Error{constructor(e){super(),this.urlTree=e}};function Ca(n){return Qo(new Ru(n))}function x2(n){return Qo(new Q(4e3,!1))}function P2(n){return Qo(X0(!1,cn.GuardRejected))}var sw=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ee(r);if(i.numberOfChildren>1||!i.children[ue])return x2(`${e.redirectTo}`);i=i.children[ue]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let a=t,{queryParams:u,fragment:d,routeConfig:p,url:g,outlet:_,params:I,data:N,title:k}=i,x=wn(s,()=>a({params:I,data:N,queryParams:u,fragment:d,routeConfig:p,url:g,outlet:_,title:k}));if(x instanceof Wr)throw new Mu(x);t=x}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Mu(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new Wr(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Pe(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new Q(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},ow={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function O2(n,e,t,r,i){let s=rA(n,e,t);return s.matched?(r=n2(e,r),N2(r,e,t,i).pipe(ie(o=>o===!0?s:B({},ow)))):ee(s)}function rA(n,e,t){if(e.path==="**")return k2(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?B({},ow):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||MV)(t,n,e);if(!i)return B({},ow);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?B(B({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function k2(n){return{matched:!0,parameters:n.length>0?F0(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function M0(n,e,t,r){return t.length>0&&V2(n,t,r)?{segmentGroup:new Pe(e,L2(r,new Pe(t,n.children))),slicedSegments:[]}:t.length===0&&j2(n,t,r)?{segmentGroup:new Pe(n.segments,F2(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Pe(n.segments,n.children),slicedSegments:t}}function F2(n,e,t,r){let i={};for(let s of t)if(ep(n,e,s)&&!r[$n(s)]){let o=new Pe([],{});i[$n(s)]=o}return B(B({},r),i)}function L2(n,e){let t={};t[ue]=e;for(let r of n)if(r.path===""&&$n(r)!==ue){let i=new Pe([],{});t[$n(r)]=i}return t}function V2(n,e,t){return t.some(r=>ep(n,e,r)&&$n(r)!==ue)}function j2(n,e,t){return t.some(r=>ep(n,e,r))}function ep(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function U2(n,e,t){return e.length===0&&!n.children[t]}var aw=class{};function B2(n,e,t,r,i,s,o="emptyOnly"){return new cw(n,e,t,r,i,o,s).recognize()}var $2=31,cw=class{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new sw(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Q(4002,`'${e.segmentGroup}'`)}recognize(){let e=M0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(({children:t,rootSnapshot:r})=>{let i=new an(r,t),s=new Qf("",i),o=QV(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new Sa([],Object.freeze({}),Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ue,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ue,t).pipe(ie(r=>({children:r,rootSnapshot:t})),xi(r=>{if(r instanceof Mu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ru?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(ie(o=>o instanceof an?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ve(s).pipe(Nr(o=>{let a=r.children[o],u=r2(t,o);return this.processSegmentGroup(e,u,a,o,i)}),ih((o,a)=>(o.push(...a),o)),Pi(null),Im(),st(o=>{if(o===null)return Ca(r);let a=iA(o);return H2(a),ee(a)}))}processSegment(e,t,r,i,s,o,a){return Ve(t).pipe(Nr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,s,o,a).pipe(xi(d=>{if(d instanceof Ru)return ee(null);throw d}))),nr(u=>!!u),xi(u=>{if(tA(u))return U2(r,i,s)?ee(new aw):Ca(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,s,o,a,u){return $n(r)!==o&&(o===ue||!ep(i,s,r))?Ca(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,u):Ca(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,a){let{matched:u,parameters:d,consumedSegments:p,positionalParamSegments:g,remainingSegments:_}=rA(t,i,s);if(!u)return Ca(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>$2&&(this.allowRedirects=!1));let I=new Sa(s,d,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,N0(i),$n(i),i.component??i._loadedComponent??null,i,x0(i)),N=Kf(I,a,this.paramsInheritanceStrategy);I.params=Object.freeze(N.params),I.data=Object.freeze(N.data);let k=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,g,I,e);return this.applyRedirects.lineralizeSegments(i,k).pipe(st(x=>this.processSegment(e,r,t,x.concat(_),o,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a=O2(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Qt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Qt(({routes:d})=>{let p=r._loadedInjector??e,{parameters:g,consumedSegments:_,remainingSegments:I}=u,N=new Sa(_,g,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,N0(r),$n(r),r.component??r._loadedComponent??null,r,x0(r)),k=Kf(N,o,this.paramsInheritanceStrategy);N.params=Object.freeze(k.params),N.data=Object.freeze(k.data);let{segmentGroup:x,slicedSegments:V}=M0(t,_,I,d);if(V.length===0&&x.hasChildren())return this.processChildren(p,d,x,N).pipe(ie(H=>new an(N,H)));if(d.length===0&&V.length===0)return ee(new an(N,[]));let K=$n(r)===s;return this.processSegment(p,d,x,V,K?ue:s,!0,N).pipe(ie(H=>new an(N,H instanceof an?[H]:[])))}))):Ca(t)))}getChildConfig(e,t,r){return t.children?ee({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ee({routes:t._loadedRoutes,injector:t._loadedInjector}):M2(e,t,r,this.urlSerializer).pipe(st(i=>i?this.configLoader.loadChildren(e,t).pipe(ot(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):P2(t))):ee({routes:[],injector:e})}};function H2(n){n.sort((e,t)=>e.value.outlet===ue?-1:t.value.outlet===ue?1:e.value.outlet.localeCompare(t.value.outlet))}function z2(n){let e=n.value.routeConfig;return e&&e.path===""}function iA(n){let e=[],t=new Set;for(let r of n){if(!z2(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=iA(r.children);e.push(new an(r.value,i))}return e.filter(r=>!t.has(r))}function N0(n){return n.data||{}}function x0(n){return n.resolve||{}}function q2(n,e,t,r,i,s){return st(o=>B2(n,e,t,r,o.extractedUrl,i,s).pipe(ie(({state:a,tree:u})=>pe(B({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function G2(n,e){return st(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ee(t);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let d of sA(u))o.add(d);let a=0;return Ve(o).pipe(Nr(u=>s.has(u)?W2(u,r,n,e):(u.data=Kf(u,u.parent,n).resolve,ee(void 0))),ot(()=>a++),Jo(1),st(u=>a===o.size?ee(t):nn))})}function sA(n){let e=n.children.map(t=>sA(t)).flat();return[n,...e]}function W2(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!Z0(i)&&(s[xu]=i.title),K2(s,n,e,r).pipe(ie(o=>(n._resolvedData=o,n.data=Kf(n,n.parent,t).resolve,null)))}function K2(n,e,t,r){let i=jv(n);if(i.length===0)return ee({});let s={};return Ve(i).pipe(st(o=>Q2(n[o],e,t,r).pipe(nr(),ot(a=>{if(a instanceof Su)throw Yf(new Na,a);s[o]=a}))),Jo(1),_m(s),xi(o=>tA(o)?nn:Qo(o)))}function Q2(n,e,t,r){let i=Ou(e)??r,s=ka(n,i),o=s.resolve?s.resolve(e,t):wn(i,()=>s(e,t));return Xi(o)}function Lv(n){return Qt(e=>{let t=n(e);return t?Ve(t).pipe(ie(()=>e)):ee(e)})}var oA=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ue);return r}getResolvedTitleForRoute(t){return t.data[xu]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=G({token:n,factory:()=>L(Y2),providedIn:"root"})}}return n})(),Y2=(()=>{class n extends oA{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(Y(D0))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Lu=new z("",{providedIn:"root",factory:()=>({})}),Z2=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=BD({type:n,selectors:[["ng-component"]],standalone:!0,features:[kT],decls:1,vars:0,template:function(r,i){r&1&&cv(0,"router-outlet")},dependencies:[s2],encapsulation:2})}}return n})();function dw(n){let e=n.children&&n.children.map(dw),t=e?pe(B({},n),{children:e}):B({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ue&&(t.component=Z2),t}var Nu=new z(""),hw=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=L(gf)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ee(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Xi(t.loadComponent()).pipe(ie(aA),ot(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Ps(()=>{this.componentLoaders.delete(t)})),i=new qo(r,()=>new Ct).pipe(zo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ee({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=J2(r,this.compiler,t,this.onLoadEndListener).pipe(Ps(()=>{this.childrenLoaders.delete(r)})),o=new qo(s,()=>new Ct).pipe(zo());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function J2(n,e,t,r){return Xi(n.loadChildren()).pipe(ie(aA),st(i=>i instanceof ru||Array.isArray(i)?ee(i):Ve(e.compileModuleAsync(i))),ie(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(t).injector,o=s.get(Nu,[],{optional:!0,self:!0}).flat()),{routes:o.map(dw),injector:s}}))}function X2(n){return n&&typeof n=="object"&&"default"in n}function aA(n){return X2(n)?n.default:n}var fw=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=G({token:n,factory:()=>L(ej),providedIn:"root"})}}return n})(),ej=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),cA=new z(""),uA=new z("");function tj(n,e,t){let r=n.get(uA),i=n.get(Pt);return n.get(Ae).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(d=>setTimeout(d));let s,o=new Promise(d=>{s=d}),a=i.startViewTransition(()=>(s(),nj(n))),{onViewTransitionCreated:u}=r;return u&&wn(n,()=>u({transition:a,from:e,to:t})),o})}function nj(n){return new Promise(e=>{av({read:()=>setTimeout(e)},{injector:n})})}var rj=new z(""),pw=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ct,this.transitionAbortSubject=new Ct,this.configLoader=L(hw),this.environmentInjector=L(Ut),this.urlSerializer=L(Pu),this.rootContexts=L(ku),this.location=L(Da),this.inputBindingEnabled=L(Xf,{optional:!0})!==null,this.titleStrategy=L(oA),this.options=L(Lu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=L(fw),this.createViewTransition=L(cA,{optional:!0}),this.navigationErrorHandler=L(rj,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null;let t=i=>this.events.next(new Wv(i)),r=i=>this.events.next(new Kv(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(pe(B(B({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new rt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Iu,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Lt(s=>s.id!==0),ie(s=>pe(B({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Qt(s=>{let o=!1,a=!1;return ee(s).pipe(Qt(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",cn.SupersededByNewNavigation),nn;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?pe(B({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!d&&p!=="reload"){let g="";return this.events.next(new Zi(u.id,this.urlSerializer.serialize(u.rawUrl),g,Hf.IgnoredSameUrlNavigation)),u.resolve(!1),nn}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ee(u).pipe(Qt(g=>{let _=this.transitions?.getValue();return this.events.next(new xa(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions?.getValue()?nn:Promise.resolve(g)}),q2(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ot(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=pe(B({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let _=new zf(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:g,extractedUrl:_,source:I,restoredState:N,extras:k}=u,x=new xa(g,this.urlSerializer.serialize(_),I,N);this.events.next(x);let V=Q0(this.rootComponentType).snapshot;return this.currentTransition=s=pe(B({},u),{targetSnapshot:V,urlAfterRedirects:_,extras:pe(B({},k),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,ee(s)}else{let g="";return this.events.next(new Zi(u.id,this.urlSerializer.serialize(u.extractedUrl),g,Hf.IgnoredByUrlHandlingStrategy)),u.resolve(!1),nn}}),ot(u=>{let d=new Hv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),ie(u=>(this.currentTransition=s=pe(B({},u),{guards:d2(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),E2(this.environmentInjector,u=>this.events.next(u)),ot(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Yf(this.urlSerializer,u.guardsResult);let d=new zv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),Lt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",cn.GuardRejected),!1)),Lv(u=>{if(u.guards.canActivateChecks.length)return ee(u).pipe(ot(d=>{let p=new qv(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),Qt(d=>{let p=!1;return ee(d).pipe(G2(this.paramsInheritanceStrategy,this.environmentInjector),ot({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(d,"",cn.NoDataFromResolver)}}))}),ot(d=>{let p=new Gv(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),Lv(u=>{let d=p=>{let g=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(p.routeConfig).pipe(ot(_=>{p.component=_}),ie(()=>{})));for(let _ of p.children)g.push(...d(_));return g};return Qc(d(u.targetSnapshot.root)).pipe(Pi(null),xr(1))}),Lv(()=>this.afterPreactivation()),Qt(()=>{let{currentSnapshot:u,targetSnapshot:d}=s,p=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return p?Ve(p).pipe(ie(()=>s)):ee(s)}),ie(u=>{let d=o2(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=pe(B({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,s}),ot(()=>{this.events.next(new Tu)}),l2(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),xr(1),ot({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Kr(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),Em(this.transitionAbortSubject.pipe(ot(u=>{throw u}))),Ps(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",cn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),xi(u=>{if(a=!0,eA(u))this.events.next(new Gr(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),u2(u)?this.events.next(new Pa(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let d=new Cu(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let p=wn(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(p instanceof Su){let{message:g,cancellationCode:_}=Yf(this.urlSerializer,p);this.events.next(new Gr(s.id,this.urlSerializer.serialize(s.extractedUrl),g,_)),this.events.next(new Pa(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(d);let g=t.errorHandler(u);s.resolve(!!g)}}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return nn}))}))}cancelNavigationTransition(t,r,i){let s=new Gr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ij(n){return n!==Iu}var sj=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=G({token:n,factory:()=>L(oj),providedIn:"root"})}}return n})(),uw=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},oj=(()=>{class n extends uw{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=dr(n)))(i||n)}})()}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),lA=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=G({token:n,factory:()=>L(aj),providedIn:"root"})}}return n})(),aj=(()=>{class n extends lA{constructor(){super(...arguments),this.location=L(Da),this.urlSerializer=L(Pu),this.options=L(Lu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=L(fw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Wr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Q0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof xa)this.stateMemento=this.createStateMemento();else if(t instanceof Zi)this.rawUrlTree=r.initialUrl;else if(t instanceof zf){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Tu?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Gr&&(t.code===cn.GuardRejected||t.code===cn.NoDataFromResolver)?this.restoreHistory(r):t instanceof Cu?this.restoreHistory(r,!0):t instanceof Kr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Wr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=B(B({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=B(B({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=dr(n)))(i||n)}})()}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),wu=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(wu||{});function dA(n,e){n.events.pipe(Lt(t=>t instanceof Kr||t instanceof Gr||t instanceof Cu||t instanceof Zi),ie(t=>t instanceof Kr||t instanceof Zi?wu.COMPLETE:(t instanceof Gr?t.code===cn.Redirect||t.code===cn.SupersededByNewNavigation:!1)?wu.REDIRECTING:wu.FAILED),Lt(t=>t!==wu.REDIRECTING),xr(1)).subscribe(()=>{e()})}function cj(n){throw n}var uj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ji=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=L(ff),this.stateManager=L(lA),this.options=L(Lu,{optional:!0})||{},this.pendingTasks=L(zi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=L(pw),this.urlSerializer=L(Pu),this.location=L(Da),this.urlHandlingStrategy=L(fw),this._events=new Ct,this.errorHandler=this.options.errorHandler||cj,this.navigated=!1,this.routeReuseStrategy=L(sj),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=L(Nu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!L(Xf,{optional:!0}),this.eventsSubscription=new We,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Gr&&r.code!==cn.Redirect&&r.code!==cn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Kr)this.navigated=!0;else if(r instanceof Pa){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=B({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||ij(i.source)},o);this.scheduleNavigation(a,Iu,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}hj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Iu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=B({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(dw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:o,p=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":p=B(B({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let g;try{let _=i?i.snapshot:this.routerState.snapshot.root;g=q0(_)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),g=this.currentUrlTree.root}return G0(g,t,p,d??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=bu(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Iu,null,r)}navigate(t,r={skipLocationChange:!1}){return dj(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=B({},uj):r===!1?i=B({},lj):i=r,bu(t))return C0(this.currentUrlTree,t,i);let s=this.parseUrl(t);return C0(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,d;o?(a=o.resolve,u=o.reject,d=o.promise):d=new Promise((g,_)=>{a=g,u=_});let p=this.pendingTasks.add();return dA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function dj(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Q(4008,!1)}function hj(n){return!(n instanceof Tu)&&!(n instanceof Pa)}var Jf=class{};var fj=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Lt(t=>t instanceof Kr),Nr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=lf(s.providers,t,`Route: ${s.path}`));let o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Ve(i).pipe(Yo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=ee(null);let s=i.pipe(st(o=>o===null?ee(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Ve([s,o]).pipe(Yo())}else return s})}static{this.\u0275fac=function(r){return new(r||n)(Y(Ji),Y(gf),Y(Ut),Y(Jf),Y(hw))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),hA=new z(""),pj=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof xa?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Kr?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Zi&&t.code===Hf.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof qf&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new qf(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){rT()}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})();function P7(n,...e){return vn([{provide:Nu,multi:!0,useValue:n},[],{provide:Ys,useFactory:fA,deps:[Ji]},{provide:cu,multi:!0,useFactory:pA},e.map(t=>t.\u0275providers)])}function fA(n){return n.routerState.root}function Vu(n,e){return{\u0275kind:n,\u0275providers:e}}function pA(){let n=L(Tt);return e=>{let t=n.get(qi);if(e!==t.components[0])return;let r=n.get(Ji),i=n.get(gA);n.get(gw)===1&&r.initialNavigation(),n.get(mA,null,he.Optional)?.setUpPreloading(),n.get(hA,null,he.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var gA=new z("",{factory:()=>new Ct}),gw=new z("",{providedIn:"root",factory:()=>1});function gj(){return Vu(2,[{provide:gw,useValue:0},{provide:pf,multi:!0,deps:[Tt],useFactory:e=>{let t=e.get(e0,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(Ji),s=e.get(gA);dA(i,()=>{r(!0)}),e.get(pw).afterPreactivation=()=>(r(!0),s.closed?ee(void 0):s),i.initialNavigation()}))}}])}function mj(){return Vu(3,[{provide:pf,multi:!0,useFactory:()=>{let e=L(Ji);return()=>{e.setUpLocationChangeListener()}}},{provide:gw,useValue:2}])}var mA=new z("");function yj(n){return Vu(0,[{provide:mA,useExisting:fj},{provide:Jf,useExisting:n}])}function vj(){return Vu(8,[R0,{provide:Xf,useExisting:R0}])}function wj(n){let e=[{provide:cA,useValue:tj},{provide:uA,useValue:B({skipNextTransition:!!n?.skipInitialTransition},n)}];return Vu(9,e)}var P0=new z("ROUTER_FORROOT_GUARD"),_j=[Da,{provide:Pu,useClass:Na},Ji,ku,{provide:Ys,useFactory:fA,deps:[Ji]},hw,[]],O7=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[_j,[],{provide:Nu,multi:!0,useValue:t},{provide:P0,useFactory:Dj,deps:[[Ji,new xt,new Ay]]},{provide:Lu,useValue:r||{}},r?.useHash?Ej():bj(),Ij(),r?.preloadingStrategy?yj(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Cj(r):[],r?.bindToComponentInputs?vj().\u0275providers:[],r?.enableViewTransitions?wj().\u0275providers:[],Tj()]}}static forChild(t){return{ngModule:n,providers:[{provide:Nu,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(Y(P0,8))}}static{this.\u0275mod=lr({type:n})}static{this.\u0275inj=ur({})}}return n})();function Ij(){return{provide:hA,useFactory:()=>{let n=L(o0),e=L(Ae),t=L(Lu),r=L(pw),i=L(Pu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new pj(i,r,n,e,t)}}}function Ej(){return{provide:Ws,useClass:n0}}function bj(){return{provide:Ws,useClass:_v}}function Dj(n){return"guarded"}function Cj(n){return[n.initialNavigation==="disabled"?mj().\u0275providers:[],n.initialNavigation==="enabledBlocking"?gj().\u0275providers:[]]}var O0=new z("");function Tj(){return[{provide:O0,useFactory:pA},{provide:cu,multi:!0,useExisting:O0}]}var vA=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Aj=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},wA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,d=u?n[i+2]:0,p=s>>2,g=(s&3)<<4|a>>4,_=(a&15)<<2|d>>6,I=d&63;u||(I=64,o||(_=64)),r.push(t[p],t[g],t[_],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(vA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Aj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let d=i<n.length?t[n.charAt(i)]:64;++i;let g=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||d==null||g==null)throw new yw;let _=s<<2|a>>4;if(r.push(_),d!==64){let I=a<<4&240|d>>2;if(r.push(I),g!==64){let N=d<<6&192|g;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},yw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Sj=function(n){let e=vA(n);return wA.encodeByteArray(e,!0)},ju=function(n){return Sj(n).replace(/\./g,"")},ww=function(n){try{return wA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Rj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Mj=()=>Rj().__FIREBASE_DEFAULTS__,Nj=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},xj=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&ww(n[1]);return e&&JSON.parse(e)},np=()=>{try{return Mj()||Nj()||xj()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},_w=n=>{var e,t;return(t=(e=np())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},_A=n=>{let e=_w(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Iw=()=>{var n;return(n=np())===null||n===void 0?void 0:n.config},Ew=n=>{var e;return(e=np())===null||e===void 0?void 0:e[`_${n}`]};var tp=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function IA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ju(JSON.stringify(t)),ju(JSON.stringify(o)),""].join(".")}function _t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function Pj(){var n;let e=(n=np())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DA(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function CA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TA(){let n=_t();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function AA(){return!Pj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bw(){try{return typeof indexedDB=="object"}catch{return!1}}function SA(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var Oj="FirebaseError",un=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Oj,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qr.prototype.create)}},Qr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?kj(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new un(i,a,r)}};function kj(n,e){return n.replace(Fj,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Fj=/\{\$([^}]+)}/g;function RA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Zs(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(yA(s)&&yA(o)){if(!Zs(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function yA(n){return n!==null&&typeof n=="object"}function Uu(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Fa(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function La(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function MA(n,e){let t=new vw(n,e);return t.subscribe.bind(t)}var vw=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Lj(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=mw),i.error===void 0&&(i.error=mw),i.complete===void 0&&(i.complete=mw);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Lj(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function mw(){}var L7=4*60*60*1e3;function Xe(n){return n&&n._delegate?n._delegate:n}var Cn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Js="[DEFAULT]";var Dw=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new tp;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jj(e))try{this.getOrInitializeService({instanceIdentifier:Js})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Js){return this.instances.has(e)}getOptions(e=Js){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Vj(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Js){return this.component?this.component.multipleInstances?e:Js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Vj(n){return n===Js?void 0:n}function jj(n){return n.instantiationMode==="EAGER"}var rp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Dw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Uj=[],ve=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ve||{}),Bj={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},$j=ve.INFO,Hj={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},zj=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=Hj[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},es=class{constructor(e){this.name=e,this._logLevel=$j,this._logHandler=zj,this._userLogHandler=null,Uj.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Bj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}};var qj=(n,e)=>e.some(t=>n instanceof t),NA,xA;function Gj(){return NA||(NA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Wj(){return xA||(xA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var PA=new WeakMap,Tw=new WeakMap,OA=new WeakMap,Cw=new WeakMap,Sw=new WeakMap;function Kj(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(mr(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&PA.set(t,n)}).catch(()=>{}),Sw.set(e,n),e}function Qj(n){if(Tw.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Tw.set(n,e)}var Aw={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Tw.get(n);if(e==="objectStoreNames")return n.objectStoreNames||OA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return mr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function kA(n){Aw=n(Aw)}function Yj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(ip(this),e,...t);return OA.set(r,e.sort?e.sort():[e]),mr(r)}:Wj().includes(n)?function(...e){return n.apply(ip(this),e),mr(PA.get(this))}:function(...e){return mr(n.apply(ip(this),e))}}function Zj(n){return typeof n=="function"?Yj(n):(n instanceof IDBTransaction&&Qj(n),qj(n,Gj())?new Proxy(n,Aw):n)}function mr(n){if(n instanceof IDBRequest)return Kj(n);if(Cw.has(n))return Cw.get(n);let e=Zj(n);return e!==n&&(Cw.set(n,e),Sw.set(e,n)),e}var ip=n=>Sw.get(n);function LA(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),a=mr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(mr(o.result),u.oldVersion,u.newVersion,mr(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var Jj=["get","getKey","getAll","getAllKeys","count"],Xj=["put","add","delete","clear"],Rw=new Map;function FA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Rw.get(e))return Rw.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=Xj.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Jj.includes(t)))return;let s=function(o,...a){return C(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(a.shift())),(yield Promise.all([d[t](...a),i&&u.done]))[0]})};return Rw.set(e,s),s}kA(n=>pe(B({},n),{get:(e,t,r)=>FA(e,t)||n.get(e,t,r),has:(e,t)=>!!FA(e,t)||n.has(e,t)}));var Nw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(eU(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function eU(n){let e=n.getComponent();return e?.type==="VERSION"}var xw="@firebase/app",VA="0.10.13";var Yr=new es("@firebase/app"),tU="@firebase/app-compat",nU="@firebase/analytics-compat",rU="@firebase/analytics",iU="@firebase/app-check-compat",sU="@firebase/app-check",oU="@firebase/auth",aU="@firebase/auth-compat",cU="@firebase/database",uU="@firebase/data-connect",lU="@firebase/database-compat",dU="@firebase/functions",hU="@firebase/functions-compat",fU="@firebase/installations",pU="@firebase/installations-compat",gU="@firebase/messaging",mU="@firebase/messaging-compat",yU="@firebase/performance",vU="@firebase/performance-compat",wU="@firebase/remote-config",_U="@firebase/remote-config-compat",IU="@firebase/storage",EU="@firebase/storage-compat",bU="@firebase/firestore",DU="@firebase/vertexai-preview",CU="@firebase/firestore-compat",TU="firebase",AU="10.14.1";var Pw="[DEFAULT]",SU={[xw]:"fire-core",[tU]:"fire-core-compat",[rU]:"fire-analytics",[nU]:"fire-analytics-compat",[sU]:"fire-app-check",[iU]:"fire-app-check-compat",[oU]:"fire-auth",[aU]:"fire-auth-compat",[cU]:"fire-rtdb",[uU]:"fire-data-connect",[lU]:"fire-rtdb-compat",[dU]:"fire-fn",[hU]:"fire-fn-compat",[fU]:"fire-iid",[pU]:"fire-iid-compat",[gU]:"fire-fcm",[mU]:"fire-fcm-compat",[yU]:"fire-perf",[vU]:"fire-perf-compat",[wU]:"fire-rc",[_U]:"fire-rc-compat",[IU]:"fire-gcs",[EU]:"fire-gcs-compat",[bU]:"fire-fst",[CU]:"fire-fst-compat",[DU]:"fire-vertex","fire-js":"fire-js",[TU]:"fire-js-all"};var Bu=new Map,RU=new Map,Ow=new Map;function jA(n,e){try{n.container.addComponent(e)}catch(t){Yr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ns(n){let e=n.name;if(Ow.has(e))return Yr.debug(`There were multiple attempts to register component ${e}.`),!1;Ow.set(e,n);for(let t of Bu.values())jA(t,n);for(let t of RU.values())jA(t,n);return!0}function Hu(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Hn(n){return n.settings!==void 0}var MU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new Qr("app","Firebase",MU);var kw=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}};var rs=AU;function Vw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Pw,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ts.create("bad-app-name",{appName:String(i)});if(t||(t=Iw()),!t)throw ts.create("no-options");let s=Bu.get(i);if(s){if(Zs(t,s.options)&&Zs(r,s.config))return s;throw ts.create("duplicate-app",{appName:i})}let o=new rp(i);for(let u of Ow.values())o.addComponent(u);let a=new kw(t,r,o);return Bu.set(i,a),a}function Va(n=Pw){let e=Bu.get(n);if(!e&&n===Pw&&Iw())return Vw();if(!e)throw ts.create("no-app",{appName:n});return e}function sp(){return Array.from(Bu.values())}function gt(n,e,t){var r;let i=(r=SU[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yr.warn(a.join(" "));return}ns(new Cn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var NU="firebase-heartbeat-database",xU=1,$u="firebase-heartbeat-store",Mw=null;function HA(){return Mw||(Mw=LA(NU,xU,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore($u)}catch(t){console.warn(t)}}}}).catch(n=>{throw ts.create("idb-open",{originalErrorMessage:n.message})})),Mw}function PU(n){return C(this,null,function*(){try{let t=(yield HA()).transaction($u),r=yield t.objectStore($u).get(zA(n));return yield t.done,r}catch(e){if(e instanceof un)Yr.warn(e.message);else{let t=ts.create("idb-get",{originalErrorMessage:e?.message});Yr.warn(t.message)}}})}function UA(n,e){return C(this,null,function*(){try{let r=(yield HA()).transaction($u,"readwrite");yield r.objectStore($u).put(e,zA(n)),yield r.done}catch(t){if(t instanceof un)Yr.warn(t.message);else{let r=ts.create("idb-set",{originalErrorMessage:t?.message});Yr.warn(r.message)}}})}function zA(n){return`${n.name}!${n.options.appId}`}var OU=1024,kU=30*24*60*60*1e3,Fw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Lw(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return C(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=BA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=kU}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Yr.warn(r)}})}getHeartbeatsHeader(){return C(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=BA(),{heartbeatsToSend:r,unsentEntries:i}=FU(this._heartbeatsCache.heartbeats),s=ju(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Yr.warn(t),""}})}};function BA(){return new Date().toISOString().substring(0,10)}function FU(n,e=OU){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),$A(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),$A(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Lw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return bw()?SA().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield PU(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return UA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return UA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function $A(n){return ju(JSON.stringify({version:2,heartbeats:n})).length}function LU(n){ns(new Cn("platform-logger",e=>new Nw(e),"PRIVATE")),ns(new Cn("heartbeat",e=>new Fw(e),"PRIVATE")),gt(xw,VA,n),gt(xw,VA,"esm2017"),gt("fire-js","")}LU("");var VU="firebase",jU="10.14.1";gt(VU,jU,"app");var eo=new kr("ANGULARFIRE2_VERSION");function ap(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var zu=(n,e)=>{let t=e?[e]:sp(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Ua=class{constructor(){return zu(UU)}},UU="app-check";function ja(){}var op=class{zone;delegate;constructor(e,t=mm){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,r)}},jw=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ja,{},ja,ja)),t.pipe(ot({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ba=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new op(Zone.current)),this.insideAngular=t.run(()=>new op(Zone.current,gm)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(Y(Ae))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cp(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function BU(n){return cp().ngZone.runOutsideAngular(()=>n())}function Xs(n){return cp().ngZone.run(()=>n())}function $U(n){return HU(cp())(n)}function HU(n){return function(t){return t=t.lift(new jw(n.ngZone)),t.pipe(Ni(n.outsideAngular),Mi(n.insideAngular))}}var zU=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Xs(()=>n.apply(void 0,r))},ln=(n,e)=>function(){let t,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(t||=Xs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ja,{},ja,ja))),r[s]=zU(r[s],t));let i=BU(()=>n.apply(this,r));if(!e)if(i instanceof de){let s=cp();return i.pipe(Ni(s.outsideAngular),Mi(s.insideAngular))}else return Xs(()=>i);return i instanceof de?i.pipe($U):i instanceof Promise?Xs(()=>new Promise((s,o)=>i.then(a=>Xs(()=>s(a)),a=>Xs(()=>o(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Xs(()=>i)};var Zr=class{constructor(e){return e}},to=class{constructor(){return sp()}};function qU(n){return n&&n.length===1?n[0]:new Zr(Va())}var Uw=new z("angularfire2._apps"),GU={provide:Zr,useFactory:qU,deps:[[new xt,Uw]]},WU={provide:to,deps:[[new xt,Uw]]};function KU(n){return(e,t)=>{let r=t.get(In);gt("angularfire",eo.full,"core"),gt("angularfire",eo.full,"app"),gt("angular",VT.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Zr(i)}}function bK(n,...e){return vn([GU,WU,{provide:Uw,useFactory:KU(n),multi:!0,deps:[Ae,Tt,Ba,...e]}])}var DK=ln(Vw,!0);function aS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var cS=aS,uS=new Qr("auth","Firebase",aS());var pp=new es("@firebase/auth");function QU(n,...e){pp.logLevel<=ve.WARN&&pp.warn(`Auth (${rs}): ${n}`,...e)}function lp(n,...e){pp.logLevel<=ve.ERROR&&pp.error(`Auth (${rs}): ${n}`,...e)}function vr(n,...e){throw u_(n,...e)}function no(n,...e){return u_(n,...e)}function lS(n,e,t){let r=Object.assign(Object.assign({},cS()),{[e]:t});return new Qr("auth","Firebase",r).create(e,{appName:n.name})}function ei(n){return lS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function u_(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return uS.create(n,...e)}function X(n,e,...t){if(!n)throw u_(e,...t)}function Jr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw lp(e),new Error(e)}function ss(n,e){n||Jr(e)}function zw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function YU(){return qA()==="http:"||qA()==="https:"}function qA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function ZU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YU()||DA()||"connection"in navigator)?navigator.onLine:!0}function JU(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ro=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,ss(t>e,"Short delay should be less than long delay!"),this.isMobile=EA()||CA()}get(){return ZU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function l_(n,e){ss(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var gp=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var XU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var eB=new ro(3e4,6e4);function ti(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ni(s,o,a,u){return C(this,arguments,function*(n,e,t,r,i={}){return dS(n,i,()=>C(this,null,function*(){let d={},p={};r&&(e==="GET"?p=r:d={body:JSON.stringify(r)});let g=Uu(Object.assign({key:n.config.apiKey},p)).slice(1),_=yield n._getAdditionalHeaders();_["Content-Type"]="application/json",n.languageCode&&(_["X-Firebase-Locale"]=n.languageCode);let I=Object.assign({method:e,headers:_},d);return bA()||(I.referrerPolicy="no-referrer"),gp.fetch()(hS(n,n.config.apiHost,t,g),I)}))})}function dS(n,e,t){return C(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},XU),e);try{let i=new qw(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw up(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,d]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw up(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw up(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw up(n,"user-disabled",o);let p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw lS(n,p,d);vr(n,p)}}catch(i){if(i instanceof un)throw i;vr(n,"network-request-failed",{message:String(i)})}})}function Ju(s,o,a,u){return C(this,arguments,function*(n,e,t,r,i={}){let d=yield ni(n,e,t,r,i);return"mfaPendingCredential"in d&&vr(n,"multi-factor-auth-required",{_serverResponse:d}),d})}function hS(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?l_(n.config,i):`${n.config.apiScheme}://${i}`}function tB(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var qw=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(no(this.auth,"network-request-failed")),eB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function up(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=no(n,e,r);return i.customData._tokenResponse=t,i}function GA(n){return n!==void 0&&n.enterprise!==void 0}var Gw=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return tB(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function nB(n,e){return C(this,null,function*(){return ni(n,"GET","/v2/recaptchaConfig",ti(n,e))})}function rB(n,e){return C(this,null,function*(){return ni(n,"POST","/v1/accounts:delete",e)})}function fS(n,e){return C(this,null,function*(){return ni(n,"POST","/v1/accounts:lookup",e)})}function qu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function d_(n,e=!1){return C(this,null,function*(){let t=Xe(n),r=yield t.getIdToken(e),i=h_(r);X(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:qu(Bw(i.auth_time)),issuedAtTime:qu(Bw(i.iat)),expirationTime:qu(Bw(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Bw(n){return Number(n)*1e3}function h_(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return lp("JWT malformed, contained fewer than 3 sections"),null;try{let i=ww(t);return i?JSON.parse(i):(lp("Failed to decode base64 JWT payload"),null)}catch(i){return lp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function WA(n){let e=h_(n);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Wu(n,e,t=!1){return C(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof un&&iB(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function iB({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Ww=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),t)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ku=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qu(this.lastLoginAt),this.creationTime=qu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function mp(n){return C(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Wu(n,fS(t,{idToken:r}));X(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?pS(s.providerUserInfo):[],a=sB(n.providerData,o),u=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!a?.length,p=u?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ku(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,g)})}function f_(n){return C(this,null,function*(){let e=Xe(n);yield mp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function sB(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function pS(n){return n.map(e=>{var{providerId:t}=e,r=ym(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function oB(n,e){return C(this,null,function*(){let t=yield dS(n,{},()=>C(this,null,function*(){let r=Uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=hS(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",gp.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function aB(n,e){return C(this,null,function*(){return ni(n,"POST","/v2/accounts:revokeToken",ti(n,e))})}var Gu=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):WA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){X(e.length!==0,"internal-error");let t=WA(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return C(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return C(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield oB(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(X(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(X(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(X(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Jr("not implemented")}};function is(n,e){X(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var $a=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=ym(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ww(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ku(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let t=yield Wu(this,this.stsTokenManager.getToken(this.auth,e));return X(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return d_(this,e)}reload(){return f_(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return C(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield mp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){if(Hn(this.auth.app))return Promise.reject(ei(this.auth));let e=yield this.getIdToken();return yield Wu(this,rB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,d,p;let g=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,I=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,N=(o=t.photoURL)!==null&&o!==void 0?o:void 0,k=(a=t.tenantId)!==null&&a!==void 0?a:void 0,x=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,V=(d=t.createdAt)!==null&&d!==void 0?d:void 0,K=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:H,emailVerified:re,isAnonymous:_e,providerData:Z,stsTokenManager:T}=t;X(H&&T,e,"internal-error");let E=Gu.fromJSON(this.name,T);X(typeof H=="string",e,"internal-error"),is(g,e.name),is(_,e.name),X(typeof re=="boolean",e,"internal-error"),X(typeof _e=="boolean",e,"internal-error"),is(I,e.name),is(N,e.name),is(k,e.name),is(x,e.name),is(V,e.name),is(K,e.name);let b=new n({uid:H,auth:e,email:_,emailVerified:re,displayName:g,isAnonymous:_e,photoURL:N,phoneNumber:I,tenantId:k,stsTokenManager:E,createdAt:V,lastLoginAt:K});return Z&&Array.isArray(Z)&&(b.providerData=Z.map(A=>Object.assign({},A))),x&&(b._redirectEventId=x),b}static _fromIdTokenResponse(e,t,r=!1){return C(this,null,function*(){let i=new Gu;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield mp(s),s})}static _fromGetAccountInfoResponse(e,t,r){return C(this,null,function*(){let i=t.users[0];X(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?pS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Gu;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ku(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,d),u})}};var KA=new Map;function Xr(n){ss(n instanceof Function,"Expected a class definition");let e=KA.get(n);return e?(ss(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,KA.set(n,e),e)}var cB=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(t,r){return C(this,null,function*(){this.storage[t]=r})}_get(t){return C(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return C(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Kw=cB;function dp(n,e,t){return`firebase:${n}:${e}:${t}`}var yp=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=dp(this.userKey,i.apiKey,s),this.fullPersistenceKey=dp("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?$a._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return C(this,null,function*(){if(!t.length)return new n(Xr(Kw),e,r);let i=(yield Promise.all(t.map(d=>C(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),s=i[0]||Xr(Kw),o=dp(r,e.config.apiKey,e.name),a=null;for(let d of t)try{let p=yield d._get(o);if(p){let g=$a._fromJSON(e,p);d!==s&&(a=g),s=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new n(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(d=>C(this,null,function*(){if(d!==s)try{yield d._remove(o)}catch{}}))),new n(s,e,r))})}};function QA(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_S(e))return"Blackberry";if(IS(e))return"Webos";if(mS(e))return"Safari";if((e.includes("chrome/")||yS(e))&&!e.includes("edge/"))return"Chrome";if(wS(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function gS(n=_t()){return/firefox\//i.test(n)}function mS(n=_t()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yS(n=_t()){return/crios\//i.test(n)}function vS(n=_t()){return/iemobile/i.test(n)}function wS(n=_t()){return/android/i.test(n)}function _S(n=_t()){return/blackberry/i.test(n)}function IS(n=_t()){return/webos/i.test(n)}function p_(n=_t()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function uB(n=_t()){var e;return p_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lB(){return TA()&&document.documentMode===10}function ES(n=_t()){return p_(n)||wS(n)||IS(n)||_S(n)||/windows phone/i.test(n)||vS(n)}function bS(n,e=[]){let t;switch(n){case"Browser":t=QA(_t());break;case"Worker":t=`${QA(_t())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${rs}/${r}`}var Qw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function dB(t){return C(this,arguments,function*(n,e={}){return ni(n,"GET","/v2/passwordPolicy",ti(n,e))})}var hB=6,Yw=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:hB,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Zw=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vp(this),this.idTokenSubscription=new vp(this),this.beforeStateQueue=new Qw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Xr(t)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield yp.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return C(this,null,function*(){try{let t=yield fS(this,{idToken:e}),r=yield $a._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return C(this,null,function*(){var t;if(Hn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return C(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield mp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=JU()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){if(Hn(this.app))return Promise.reject(ei(this));let t=e?Xe(e):null;return t&&X(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return C(this,null,function*(){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return Hn(this.app)?Promise.reject(ei(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Hn(this.app)?Promise.reject(ei(this)):this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(Xr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield dB(this),t=new Yw(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield aB(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return C(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Xr(e)||this._popupRedirectResolver;X(t,this,"argument-error"),this.redirectPersistenceManager=yield yp.create(this,[Xr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(t);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return C(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&QU(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function so(n){return Xe(n)}var vp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=MA(t=>this.observer=t)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Cp={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fB(n){Cp=n}function DS(n){return Cp.loadJS(n)}function pB(){return Cp.recaptchaEnterpriseScript}function gB(){return Cp.gapiScript}function CS(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var mB="recaptcha-enterprise",yB="NO_RECAPTCHA",Jw=class{constructor(e){this.type=mB,this.auth=so(e)}verify(e="verify",t=!1){return C(this,null,function*(){function r(s){return C(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>C(this,null,function*(){nB(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let d=new Gw(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;GA(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(yB)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&GA(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=pB();u.length!==0&&(u+=a),DS(u).then(()=>{i(a,s,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})})}};function YA(n,e,t,r=!1){return C(this,null,function*(){let i=new Jw(n),s;try{s=yield i.verify(t)}catch{s=yield i.verify(t,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Xw(n,e,t,r){return C(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield YA(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(s=>C(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield YA(n,e,t,t==="getOobCode");return r(n,o)}else return Promise.reject(s)}))})}function g_(n,e){let t=Hu(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(Zs(s,e??{}))return i;vr(i,"already-initialized")}return t.initialize({options:e})}function vB(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Xr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function m_(n,e,t){let r=so(n);X(r._canInitEmulator,r,"emulator-config-failed"),X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=TS(e),{host:o,port:a}=wB(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||_B()}function TS(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function wB(n){let e=TS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:ZA(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:ZA(o)}}}function ZA(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function _B(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Qu=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,t){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}};function IB(n,e){return C(this,null,function*(){return ni(n,"POST","/v1/accounts:signUp",e)})}function EB(n,e){return C(this,null,function*(){return Ju(n,"POST","/v1/accounts:signInWithPassword",ti(n,e))})}function bB(n,e){return C(this,null,function*(){return ni(n,"POST","/v1/accounts:sendOobCode",ti(n,e))})}function DB(n,e){return C(this,null,function*(){return bB(n,e)})}function CB(n,e){return C(this,null,function*(){return Ju(n,"POST","/v1/accounts:signInWithEmailLink",ti(n,e))})}function TB(n,e){return C(this,null,function*(){return Ju(n,"POST","/v1/accounts:signInWithEmailLink",ti(n,e))})}var Yu=class n extends Qu{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return C(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xw(e,t,"signInWithPassword",EB);case"emailLink":return CB(e,{email:this._email,oobCode:this._password});default:vr(e,"internal-error")}})}_linkToIdToken(e,t){return C(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xw(e,r,"signUpPassword",IB);case"emailLink":return TB(e,{idToken:t,email:this._email,oobCode:this._password});default:vr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function $w(n,e){return C(this,null,function*(){return Ju(n,"POST","/v1/accounts:signInWithIdp",ti(n,e))})}function AB(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SB(n){let e=Fa(La(n)).link,t=e?Fa(La(e)).deep_link_id:null,r=Fa(La(n)).deep_link_id;return(r?Fa(La(r)).link:null)||r||t||e||n}var wp=class n{constructor(e){var t,r,i,s,o,a;let u=Fa(La(e)),d=(t=u.apiKey)!==null&&t!==void 0?t:null,p=(r=u.oobCode)!==null&&r!==void 0?r:null,g=AB((i=u.mode)!==null&&i!==void 0?i:null);X(d&&p&&g,"argument-error"),this.apiKey=d,this.operation=g,this.code=p,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=SB(e);try{return new n(t)}catch{return null}}};var AS=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Yu._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=wp.parseLink(r);return X(i,"argument-error"),Yu._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),_p=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var e_=class extends _p{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function RB(n,e){return C(this,null,function*(){return Ju(n,"POST","/v1/accounts:signUp",ti(n,e))})}var Ha=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return C(this,null,function*(){let s=yield $a._fromIdTokenResponse(e,r,i),o=JA(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return C(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=JA(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function JA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var t_=class n extends un{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function SS(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?t_._fromErrorAndOperation(n,s,e,r):s})}function MB(n,e,t=!1){return C(this,null,function*(){let r=yield Wu(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Ha._forOperation(n,"link",r)})}function NB(n,e,t=!1){return C(this,null,function*(){let{auth:r}=n;if(Hn(r.app))return Promise.reject(ei(r));let i="reauthenticate";try{let s=yield Wu(n,SS(r,i,e,n),t);X(s.idToken,r,"internal-error");let o=h_(s.idToken);X(o,r,"internal-error");let{sub:a}=o;return X(n.uid===a,r,"user-mismatch"),Ha._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&vr(r,"user-mismatch"),s}})}function RS(n,e,t=!1){return C(this,null,function*(){if(Hn(n.app))return Promise.reject(ei(n));let r="signIn",i=yield SS(n,r,e),s=yield Ha._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function y_(n,e){return C(this,null,function*(){return RS(so(n),e)})}function xB(n,e,t){var r;X(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),X(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(X(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(X(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function MS(n){return C(this,null,function*(){let e=so(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function v_(n,e,t){return C(this,null,function*(){if(Hn(n.app))return Promise.reject(ei(n));let r=so(n),o=yield Xw(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",RB).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&MS(n),u}),a=yield Ha._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function w_(n,e,t){return Hn(n.app)?Promise.reject(ei(n)):y_(Xe(n),AS.credential(e,t)).catch(r=>C(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&MS(n),r}))}function NS(n,e){return C(this,null,function*(){let t=Xe(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&xB(t.auth,i,e);let{email:s}=yield DB(t.auth,i);s!==n.email&&(yield n.reload())})}function xS(n,e){return Xe(n).setPersistence(e)}function __(n,e,t,r){return Xe(n).onIdTokenChanged(e,t,r)}function I_(n,e,t){return Xe(n).beforeAuthStateChanged(e,t)}var Ip="__sak";var Ep=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ip,"1"),this.storage.removeItem(Ip),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var PB=1e3,OB=10,kB=(()=>{class n extends Ep{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ES(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,d)=>{this.notifyListeners(a,d)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);lB()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,OB):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},PB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return C(this,null,function*(){yield Si(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return C(this,null,function*(){let r=yield Si(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return C(this,null,function*(){yield Si(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),PS=kB;var FB=(()=>{class n extends Ep{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),E_=FB;function LB(n){return Promise.all(n.map(e=>C(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var VB=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return C(this,null,function*(){let r=t,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(p=>C(this,null,function*(){return p(r.origin,o)})),d=yield LB(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function OS(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var n_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return C(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let d=OS("",20);i.port1.start();let p=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){let _=g;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(_.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function yr(){return window}function jB(n){yr().location.href=n}function kS(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}function UB(){return C(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function BB(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function $B(){return kS()?self:null}var FS="firebaseLocalStorageDb",HB=1,bp="firebaseLocalStorage",LS="fbase_key",io=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Tp(n,e){return n.transaction([bp],e?"readwrite":"readonly").objectStore(bp)}function zB(){let n=indexedDB.deleteDatabase(FS);return new io(n).toPromise()}function r_(){let n=indexedDB.open(FS,HB);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(bp,{keyPath:LS})}catch(i){t(i)}}),n.addEventListener("success",()=>C(this,null,function*(){let r=n.result;r.objectStoreNames.contains(bp)?e(r):(r.close(),yield zB(),e(yield r_()))}))})}function XA(n,e,t){return C(this,null,function*(){let r=Tp(n,!0).put({[LS]:e,value:t});return new io(r).toPromise()})}function qB(n,e){return C(this,null,function*(){let t=Tp(n,!1).get(e),r=yield new io(t).toPromise();return r===void 0?null:r.value})}function eS(n,e){let t=Tp(n,!0).delete(e);return new io(t).toPromise()}var GB=800,WB=3,KB=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return C(this,null,function*(){return this.db?this.db:(this.db=yield r_(),this.db)})}_withRetries(t){return C(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>WB)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return C(this,null,function*(){return kS()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return C(this,null,function*(){this.receiver=VB._getInstance($B()),this.receiver._subscribe("keyChanged",(t,r)=>C(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>C(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return C(this,null,function*(){var t,r;if(this.activeServiceWorker=yield UB(),!this.activeServiceWorker)return;this.sender=new n_(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return C(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||BB()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return C(this,null,function*(){try{if(!indexedDB)return!1;let t=yield r_();return yield XA(t,Ip,"1"),yield eS(t,Ip),!0}catch{}return!1})}_withPendingWrite(t){return C(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(i=>XA(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return C(this,null,function*(){let r=yield this._withRetries(i=>qB(i,t));return this.localCache[t]=r,r})}_remove(t){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(r=>eS(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return C(this,null,function*(){let t=yield this._withRetries(s=>{let o=Tp(s,!1).getAll();return new io(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>C(this,null,function*(){return this._poll()}),GB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),VS=KB;var xK=CS("rcb"),PK=new ro(3e4,6e4);function QB(n,e){return e?Xr(e):(X(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Zu=class extends Qu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $w(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $w(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $w(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function YB(n){return RS(n.auth,new Zu(n),n.bypassAuthState)}function ZB(n){let{auth:e,user:t}=n;return X(t,e,"internal-error"),NB(t,new Zu(n),n.bypassAuthState)}function JB(n){return C(this,null,function*(){let{auth:e,user:t}=n;return X(t,e,"internal-error"),MB(t,new Zu(n),n.bypassAuthState)})}var i_=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>C(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return C(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YB;case"linkViaPopup":case"linkViaRedirect":return JB;case"reauthViaPopup":case"reauthViaRedirect":return ZB;default:vr(this.auth,"internal-error")}}resolve(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var OK=new ro(2e3,1e4);var XB="pendingRedirect",hp=new Map,s_=class n extends i_{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return C(this,null,function*(){let e=hp.get(this.auth._key());if(!e){try{let r=(yield e$(this.resolver,this.auth))?yield Si(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}hp.set(this.auth._key(),e)}return this.bypassAuthState||hp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return C(this,null,function*(){if(e.type==="signInViaRedirect")return Si(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Si(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return C(this,null,function*(){})}cleanUp(){}};function e$(n,e){return C(this,null,function*(){let t=r$(e),r=n$(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function t$(n,e){hp.set(n._key(),e)}function n$(n){return Xr(n._redirectPersistence)}function r$(n){return dp(XB,n.config.apiKey,n.name)}function i$(n,e,t=!1){return C(this,null,function*(){if(Hn(n.app))return Promise.reject(ei(n));let r=so(n),i=QB(r,e),o=yield new s_(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var s$=10*60*1e3,o_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!o$(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!jS(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(no(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=s$&&this.cachedEventUids.clear(),this.cachedEventUids.has(tS(e))}saveEventToCache(e){this.cachedEventUids.add(tS(e)),this.lastProcessedEventTime=Date.now()}};function tS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function jS({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function o$(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jS(n);default:return!1}}function a$(t){return C(this,arguments,function*(n,e={}){return ni(n,"GET","/v1/projects",e)})}var c$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,u$=/^https?/;function l$(n){return C(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield a$(n);for(let t of e)try{if(d$(t))return}catch{}vr(n,"unauthorized-domain")})}function d$(n){let e=zw(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!u$.test(t))return!1;if(c$.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var h$=new ro(3e4,6e4);function nS(){let n=yr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function f$(n){return new Promise((e,t)=>{var r,i,s;function o(){nS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nS(),t(no(n,"network-request-failed"))},timeout:h$.get()})}if(!((i=(r=yr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=yr().gapi)===null||s===void 0)&&s.load)o();else{let a=CS("iframefcb");return yr()[a]=()=>{gapi.load?o():t(no(n,"network-request-failed"))},DS(`${gB()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw fp=null,e})}var fp=null;function p$(n){return fp=fp||f$(n),fp}var g$=new ro(5e3,15e3),m$="__/auth/iframe",y$="emulator/auth/iframe",v$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _$(n){let e=n.config;X(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?l_(e,y$):`https://${n.config.authDomain}/${m$}`,r={apiKey:e.apiKey,appName:n.name,v:rs},i=w$.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Uu(r).slice(1)}`}function I$(n){return C(this,null,function*(){let e=yield p$(n),t=yr().gapi;return X(t,n,"internal-error"),e.open({where:document.body,url:_$(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v$,dontclear:!0},r=>new Promise((i,s)=>C(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=no(n,"network-request-failed"),a=yr().setTimeout(()=>{s(o)},g$.get());function u(){yr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var E$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},b$=500,D$=600,C$="_blank",T$="http://localhost",Dp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function A$(n,e,t,r=b$,i=D$){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},E$),{width:r.toString(),height:i.toString(),top:s,left:o}),d=_t().toLowerCase();t&&(a=yS(d)?C$:t),gS(d)&&(e=e||T$,u.scrollbars="yes");let p=Object.entries(u).reduce((_,[I,N])=>`${_}${I}=${N},`,"");if(uB(d)&&a!=="_self")return S$(e||"",a),new Dp(null);let g=window.open(e||"",a,p);X(g,n,"popup-blocked");try{g.focus()}catch{}return new Dp(g)}function S$(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var R$="__/auth/handler",M$="emulator/auth/handler",N$=encodeURIComponent("fac");function rS(n,e,t,r,i,s){return C(this,null,function*(){X(n.config.authDomain,n,"auth-domain-config-required"),X(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:rs,eventId:i};if(e instanceof _p){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",RA(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[p,g]of Object.entries(s||{}))o[p]=g}if(e instanceof e_){let p=e.getScopes().filter(g=>g!=="");p.length>0&&(o.scopes=p.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let p of Object.keys(a))a[p]===void 0&&delete a[p];let u=yield n._getAppCheckToken(),d=u?`#${N$}=${encodeURIComponent(u)}`:"";return`${x$(n)}?${Uu(a).slice(1)}${d}`})}function x$({config:n}){return n.emulator?l_(n,M$):`https://${n.authDomain}/${R$}`}var Hw="webStorageSupport",a_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=E_,this._completeRedirectFn=i$,this._overrideRedirectResult=t$}_openPopup(e,t,r,i){return C(this,null,function*(){var s;ss((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield rS(e,t,r,zw(),i);return A$(e,o,OS())})}_openRedirect(e,t,r,i){return C(this,null,function*(){yield this._originValidation(e);let s=yield rS(e,t,r,zw(),i);return jB(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(ss(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return C(this,null,function*(){let t=yield I$(e),r=new o_(e);return t.register("authEvent",i=>(X(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Hw,{type:Hw},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Hw];o!==void 0&&t(!!o),vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=l$(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ES()||mS()||p_()}},US=a_;var iS="@firebase/auth",sS="1.7.9";var c_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function P$(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function O$(n){ns(new Cn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;X(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bS(n)},d=new Zw(r,i,s,u);return vB(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ns(new Cn("auth-internal",e=>{let t=so(e.getProvider("auth").getImmediate());return(r=>new c_(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),gt(iS,sS,P$(n)),gt(iS,sS,"esm2017")}var k$=5*60,F$=Ew("authIdTokenMaxAge")||k$,oS=null,L$=n=>e=>C(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>F$)return;let i=t?.token;oS!==i&&(oS=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function b_(n=Va()){let e=Hu(n,"auth");if(e.isInitialized())return e.getImmediate();let t=g_(n,{popupRedirectResolver:US,persistence:[VS,PS,E_]}),r=Ew("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=L$(s.toString());I_(t,o,()=>o(t.currentUser)),__(t,a=>o(a))}}let i=_w("auth");return i&&m_(t,`http://${i}`),t}function V$(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}fB({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=no("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",V$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});O$("Browser");var BS="auth",oo=class{constructor(e){return e}},Xu=class{constructor(){return zu(BS)}};var D_=new z("angularfire2.auth-instances");function AH(n,e){let t=ap(BS,n,e);return t&&new oo(t)}function SH(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new oo(r)}}var RH={provide:Xu,deps:[[new xt,D_]]},MH={provide:oo,useFactory:AH,deps:[[new xt,D_],Zr]};function yQ(n,...e){return gt("angularfire",eo.full,"auth"),vn([MH,RH,{provide:D_,useFactory:SH(n),multi:!0,deps:[Ae,Tt,Ba,to,[new xt,Ua],...e]}])}var vQ=ln(v_,!0);var wQ=ln(b_,!0);var _Q=ln(w_,!0);var $S=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},HS={};var os,C_;(function(){var n;function e(T,E){function b(){}b.prototype=E.prototype,T.D=E.prototype,T.prototype=new b,T.prototype.constructor=T,T.C=function(A,S,R){for(var D=Array(arguments.length-2),Sn=2;Sn<arguments.length;Sn++)D[Sn-2]=arguments[Sn];return E.prototype[S].apply(A,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,E,b){b||(b=0);var A=Array(16);if(typeof E=="string")for(var S=0;16>S;++S)A[S]=E.charCodeAt(b++)|E.charCodeAt(b++)<<8|E.charCodeAt(b++)<<16|E.charCodeAt(b++)<<24;else for(S=0;16>S;++S)A[S]=E[b++]|E[b++]<<8|E[b++]<<16|E[b++]<<24;E=T.g[0],b=T.g[1],S=T.g[2];var R=T.g[3],D=E+(R^b&(S^R))+A[0]+3614090360&4294967295;E=b+(D<<7&4294967295|D>>>25),D=R+(S^E&(b^S))+A[1]+3905402710&4294967295,R=E+(D<<12&4294967295|D>>>20),D=S+(b^R&(E^b))+A[2]+606105819&4294967295,S=R+(D<<17&4294967295|D>>>15),D=b+(E^S&(R^E))+A[3]+3250441966&4294967295,b=S+(D<<22&4294967295|D>>>10),D=E+(R^b&(S^R))+A[4]+4118548399&4294967295,E=b+(D<<7&4294967295|D>>>25),D=R+(S^E&(b^S))+A[5]+1200080426&4294967295,R=E+(D<<12&4294967295|D>>>20),D=S+(b^R&(E^b))+A[6]+2821735955&4294967295,S=R+(D<<17&4294967295|D>>>15),D=b+(E^S&(R^E))+A[7]+4249261313&4294967295,b=S+(D<<22&4294967295|D>>>10),D=E+(R^b&(S^R))+A[8]+1770035416&4294967295,E=b+(D<<7&4294967295|D>>>25),D=R+(S^E&(b^S))+A[9]+2336552879&4294967295,R=E+(D<<12&4294967295|D>>>20),D=S+(b^R&(E^b))+A[10]+4294925233&4294967295,S=R+(D<<17&4294967295|D>>>15),D=b+(E^S&(R^E))+A[11]+2304563134&4294967295,b=S+(D<<22&4294967295|D>>>10),D=E+(R^b&(S^R))+A[12]+1804603682&4294967295,E=b+(D<<7&4294967295|D>>>25),D=R+(S^E&(b^S))+A[13]+4254626195&4294967295,R=E+(D<<12&4294967295|D>>>20),D=S+(b^R&(E^b))+A[14]+2792965006&4294967295,S=R+(D<<17&4294967295|D>>>15),D=b+(E^S&(R^E))+A[15]+1236535329&4294967295,b=S+(D<<22&4294967295|D>>>10),D=E+(S^R&(b^S))+A[1]+4129170786&4294967295,E=b+(D<<5&4294967295|D>>>27),D=R+(b^S&(E^b))+A[6]+3225465664&4294967295,R=E+(D<<9&4294967295|D>>>23),D=S+(E^b&(R^E))+A[11]+643717713&4294967295,S=R+(D<<14&4294967295|D>>>18),D=b+(R^E&(S^R))+A[0]+3921069994&4294967295,b=S+(D<<20&4294967295|D>>>12),D=E+(S^R&(b^S))+A[5]+3593408605&4294967295,E=b+(D<<5&4294967295|D>>>27),D=R+(b^S&(E^b))+A[10]+38016083&4294967295,R=E+(D<<9&4294967295|D>>>23),D=S+(E^b&(R^E))+A[15]+3634488961&4294967295,S=R+(D<<14&4294967295|D>>>18),D=b+(R^E&(S^R))+A[4]+3889429448&4294967295,b=S+(D<<20&4294967295|D>>>12),D=E+(S^R&(b^S))+A[9]+568446438&4294967295,E=b+(D<<5&4294967295|D>>>27),D=R+(b^S&(E^b))+A[14]+3275163606&4294967295,R=E+(D<<9&4294967295|D>>>23),D=S+(E^b&(R^E))+A[3]+4107603335&4294967295,S=R+(D<<14&4294967295|D>>>18),D=b+(R^E&(S^R))+A[8]+1163531501&4294967295,b=S+(D<<20&4294967295|D>>>12),D=E+(S^R&(b^S))+A[13]+2850285829&4294967295,E=b+(D<<5&4294967295|D>>>27),D=R+(b^S&(E^b))+A[2]+4243563512&4294967295,R=E+(D<<9&4294967295|D>>>23),D=S+(E^b&(R^E))+A[7]+1735328473&4294967295,S=R+(D<<14&4294967295|D>>>18),D=b+(R^E&(S^R))+A[12]+2368359562&4294967295,b=S+(D<<20&4294967295|D>>>12),D=E+(b^S^R)+A[5]+4294588738&4294967295,E=b+(D<<4&4294967295|D>>>28),D=R+(E^b^S)+A[8]+2272392833&4294967295,R=E+(D<<11&4294967295|D>>>21),D=S+(R^E^b)+A[11]+1839030562&4294967295,S=R+(D<<16&4294967295|D>>>16),D=b+(S^R^E)+A[14]+4259657740&4294967295,b=S+(D<<23&4294967295|D>>>9),D=E+(b^S^R)+A[1]+2763975236&4294967295,E=b+(D<<4&4294967295|D>>>28),D=R+(E^b^S)+A[4]+1272893353&4294967295,R=E+(D<<11&4294967295|D>>>21),D=S+(R^E^b)+A[7]+4139469664&4294967295,S=R+(D<<16&4294967295|D>>>16),D=b+(S^R^E)+A[10]+3200236656&4294967295,b=S+(D<<23&4294967295|D>>>9),D=E+(b^S^R)+A[13]+681279174&4294967295,E=b+(D<<4&4294967295|D>>>28),D=R+(E^b^S)+A[0]+3936430074&4294967295,R=E+(D<<11&4294967295|D>>>21),D=S+(R^E^b)+A[3]+3572445317&4294967295,S=R+(D<<16&4294967295|D>>>16),D=b+(S^R^E)+A[6]+76029189&4294967295,b=S+(D<<23&4294967295|D>>>9),D=E+(b^S^R)+A[9]+3654602809&4294967295,E=b+(D<<4&4294967295|D>>>28),D=R+(E^b^S)+A[12]+3873151461&4294967295,R=E+(D<<11&4294967295|D>>>21),D=S+(R^E^b)+A[15]+530742520&4294967295,S=R+(D<<16&4294967295|D>>>16),D=b+(S^R^E)+A[2]+3299628645&4294967295,b=S+(D<<23&4294967295|D>>>9),D=E+(S^(b|~R))+A[0]+4096336452&4294967295,E=b+(D<<6&4294967295|D>>>26),D=R+(b^(E|~S))+A[7]+1126891415&4294967295,R=E+(D<<10&4294967295|D>>>22),D=S+(E^(R|~b))+A[14]+2878612391&4294967295,S=R+(D<<15&4294967295|D>>>17),D=b+(R^(S|~E))+A[5]+4237533241&4294967295,b=S+(D<<21&4294967295|D>>>11),D=E+(S^(b|~R))+A[12]+1700485571&4294967295,E=b+(D<<6&4294967295|D>>>26),D=R+(b^(E|~S))+A[3]+2399980690&4294967295,R=E+(D<<10&4294967295|D>>>22),D=S+(E^(R|~b))+A[10]+4293915773&4294967295,S=R+(D<<15&4294967295|D>>>17),D=b+(R^(S|~E))+A[1]+2240044497&4294967295,b=S+(D<<21&4294967295|D>>>11),D=E+(S^(b|~R))+A[8]+1873313359&4294967295,E=b+(D<<6&4294967295|D>>>26),D=R+(b^(E|~S))+A[15]+4264355552&4294967295,R=E+(D<<10&4294967295|D>>>22),D=S+(E^(R|~b))+A[6]+2734768916&4294967295,S=R+(D<<15&4294967295|D>>>17),D=b+(R^(S|~E))+A[13]+1309151649&4294967295,b=S+(D<<21&4294967295|D>>>11),D=E+(S^(b|~R))+A[4]+4149444226&4294967295,E=b+(D<<6&4294967295|D>>>26),D=R+(b^(E|~S))+A[11]+3174756917&4294967295,R=E+(D<<10&4294967295|D>>>22),D=S+(E^(R|~b))+A[2]+718787259&4294967295,S=R+(D<<15&4294967295|D>>>17),D=b+(R^(S|~E))+A[9]+3951481745&4294967295,T.g[0]=T.g[0]+E&4294967295,T.g[1]=T.g[1]+(S+(D<<21&4294967295|D>>>11))&4294967295,T.g[2]=T.g[2]+S&4294967295,T.g[3]=T.g[3]+R&4294967295}r.prototype.u=function(T,E){E===void 0&&(E=T.length);for(var b=E-this.blockSize,A=this.B,S=this.h,R=0;R<E;){if(S==0)for(;R<=b;)i(this,T,R),R+=this.blockSize;if(typeof T=="string"){for(;R<E;)if(A[S++]=T.charCodeAt(R++),S==this.blockSize){i(this,A),S=0;break}}else for(;R<E;)if(A[S++]=T[R++],S==this.blockSize){i(this,A),S=0;break}}this.h=S,this.o+=E},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var E=1;E<T.length-8;++E)T[E]=0;var b=8*this.o;for(E=T.length-8;E<T.length;++E)T[E]=b&255,b/=256;for(this.u(T),T=Array(16),E=b=0;4>E;++E)for(var A=0;32>A;A+=8)T[b++]=this.g[E]>>>A&255;return T};function s(T,E){var b=a;return Object.prototype.hasOwnProperty.call(b,T)?b[T]:b[T]=E(T)}function o(T,E){this.h=E;for(var b=[],A=!0,S=T.length-1;0<=S;S--){var R=T[S]|0;A&&R==E||(b[S]=R,A=!1)}this.g=b}var a={};function u(T){return-128<=T&&128>T?s(T,function(E){return new o([E|0],0>E?-1:0)}):new o([T|0],0>T?-1:0)}function d(T){if(isNaN(T)||!isFinite(T))return g;if(0>T)return x(d(-T));for(var E=[],b=1,A=0;T>=b;A++)E[A]=T/b|0,b*=4294967296;return new o(E,0)}function p(T,E){if(T.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(T.charAt(0)=="-")return x(p(T.substring(1),E));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=d(Math.pow(E,8)),A=g,S=0;S<T.length;S+=8){var R=Math.min(8,T.length-S),D=parseInt(T.substring(S,S+R),E);8>R?(R=d(Math.pow(E,R)),A=A.j(R).add(d(D))):(A=A.j(b),A=A.add(d(D)))}return A}var g=u(0),_=u(1),I=u(16777216);n=o.prototype,n.m=function(){if(k(this))return-x(this).m();for(var T=0,E=1,b=0;b<this.g.length;b++){var A=this.i(b);T+=(0<=A?A:4294967296+A)*E,E*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(N(this))return"0";if(k(this))return"-"+x(this).toString(T);for(var E=d(Math.pow(T,6)),b=this,A="";;){var S=re(b,E).g;b=V(b,S.j(E));var R=((0<b.g.length?b.g[0]:b.h)>>>0).toString(T);if(b=S,N(b))return R+A;for(;6>R.length;)R="0"+R;A=R+A}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function N(T){if(T.h!=0)return!1;for(var E=0;E<T.g.length;E++)if(T.g[E]!=0)return!1;return!0}function k(T){return T.h==-1}n.l=function(T){return T=V(this,T),k(T)?-1:N(T)?0:1};function x(T){for(var E=T.g.length,b=[],A=0;A<E;A++)b[A]=~T.g[A];return new o(b,~T.h).add(_)}n.abs=function(){return k(this)?x(this):this},n.add=function(T){for(var E=Math.max(this.g.length,T.g.length),b=[],A=0,S=0;S<=E;S++){var R=A+(this.i(S)&65535)+(T.i(S)&65535),D=(R>>>16)+(this.i(S)>>>16)+(T.i(S)>>>16);A=D>>>16,R&=65535,D&=65535,b[S]=D<<16|R}return new o(b,b[b.length-1]&-2147483648?-1:0)};function V(T,E){return T.add(x(E))}n.j=function(T){if(N(this)||N(T))return g;if(k(this))return k(T)?x(this).j(x(T)):x(x(this).j(T));if(k(T))return x(this.j(x(T)));if(0>this.l(I)&&0>T.l(I))return d(this.m()*T.m());for(var E=this.g.length+T.g.length,b=[],A=0;A<2*E;A++)b[A]=0;for(A=0;A<this.g.length;A++)for(var S=0;S<T.g.length;S++){var R=this.i(A)>>>16,D=this.i(A)&65535,Sn=T.i(S)>>>16,li=T.i(S)&65535;b[2*A+2*S]+=D*li,K(b,2*A+2*S),b[2*A+2*S+1]+=R*li,K(b,2*A+2*S+1),b[2*A+2*S+1]+=D*Sn,K(b,2*A+2*S+1),b[2*A+2*S+2]+=R*Sn,K(b,2*A+2*S+2)}for(A=0;A<E;A++)b[A]=b[2*A+1]<<16|b[2*A];for(A=E;A<2*E;A++)b[A]=0;return new o(b,0)};function K(T,E){for(;(T[E]&65535)!=T[E];)T[E+1]+=T[E]>>>16,T[E]&=65535,E++}function H(T,E){this.g=T,this.h=E}function re(T,E){if(N(E))throw Error("division by zero");if(N(T))return new H(g,g);if(k(T))return E=re(x(T),E),new H(x(E.g),x(E.h));if(k(E))return E=re(T,x(E)),new H(x(E.g),E.h);if(30<T.g.length){if(k(T)||k(E))throw Error("slowDivide_ only works with positive integers.");for(var b=_,A=E;0>=A.l(T);)b=_e(b),A=_e(A);var S=Z(b,1),R=Z(A,1);for(A=Z(A,2),b=Z(b,2);!N(A);){var D=R.add(A);0>=D.l(T)&&(S=S.add(b),R=D),A=Z(A,1),b=Z(b,1)}return E=V(T,S.j(E)),new H(S,E)}for(S=g;0<=T.l(E);){for(b=Math.max(1,Math.floor(T.m()/E.m())),A=Math.ceil(Math.log(b)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),R=d(b),D=R.j(E);k(D)||0<D.l(T);)b-=A,R=d(b),D=R.j(E);N(R)&&(R=_),S=S.add(R),T=V(T,D)}return new H(S,T)}n.A=function(T){return re(this,T).h},n.and=function(T){for(var E=Math.max(this.g.length,T.g.length),b=[],A=0;A<E;A++)b[A]=this.i(A)&T.i(A);return new o(b,this.h&T.h)},n.or=function(T){for(var E=Math.max(this.g.length,T.g.length),b=[],A=0;A<E;A++)b[A]=this.i(A)|T.i(A);return new o(b,this.h|T.h)},n.xor=function(T){for(var E=Math.max(this.g.length,T.g.length),b=[],A=0;A<E;A++)b[A]=this.i(A)^T.i(A);return new o(b,this.h^T.h)};function _e(T){for(var E=T.g.length+1,b=[],A=0;A<E;A++)b[A]=T.i(A)<<1|T.i(A-1)>>>31;return new o(b,T.h)}function Z(T,E){var b=E>>5;E%=32;for(var A=T.g.length-b,S=[],R=0;R<A;R++)S[R]=0<E?T.i(R+b)>>>E|T.i(R+b+1)<<32-E:T.i(R+b);return new o(S,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,C_=HS.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=p,os=HS.Integer=o}).apply(typeof $S<"u"?$S:typeof self<"u"?self:typeof window<"u"?window:{});var Ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ri={};var T_,xH,za,A_,el,Sp,S_,R_,M_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,m){return c==Array.prototype||c==Object.prototype||(c[f]=m.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ap=="object"&&Ap];for(var f=0;f<c.length;++f){var m=c[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=t(this);function i(c,f){if(f)e:{var m=r;c=c.split(".");for(var v=0;v<c.length-1;v++){var M=c[v];if(!(M in m))break e;m=m[M]}c=c[c.length-1],v=m[c],f=f(v),f!=v&&f!=null&&e(m,c,{configurable:!0,writable:!0,value:f})}}function s(c,f){c instanceof String&&(c+="");var m=0,v=!1,M={next:function(){if(!v&&m<c.length){var O=m++;return{value:f(O,c[O]),done:!1}}return v=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(c){return c||function(){return s(this,function(f,m){return m})}});var o=o||{},a=this||self;function u(c){var f=typeof c;return f=f!="object"?f:c?Array.isArray(c)?"array":f:"null",f=="array"||f=="object"&&typeof c.length=="number"}function d(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function p(c,f,m){return c.call.apply(c.bind,arguments)}function g(c,f,m){if(!c)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,v),c.apply(f,M)}}return function(){return c.apply(f,arguments)}}function _(c,f,m){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,_.apply(null,arguments)}function I(c,f){var m=Array.prototype.slice.call(arguments,1);return function(){var v=m.slice();return v.push.apply(v,arguments),c.apply(this,v)}}function N(c,f){function m(){}m.prototype=f.prototype,c.aa=f.prototype,c.prototype=new m,c.prototype.constructor=c,c.Qb=function(v,M,O){for(var U=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)U[xe-2]=arguments[xe];return f.prototype[M].apply(v,U)}}function k(c){let f=c.length;if(0<f){let m=Array(f);for(let v=0;v<f;v++)m[v]=c[v];return m}return[]}function x(c,f){for(let m=1;m<arguments.length;m++){let v=arguments[m];if(u(v)){let M=c.length||0,O=v.length||0;c.length=M+O;for(let U=0;U<O;U++)c[M+U]=v[U]}else c.push(v)}}class V{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function K(c){return/^[\s\xa0]*$/.test(c)}function H(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function re(c){return re[" "](c),c}re[" "]=function(){};var _e=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function Z(c,f,m){for(let v in c)f.call(m,c[v],v,c)}function T(c,f){for(let m in c)f.call(void 0,c[m],m,c)}function E(c){let f={};for(let m in c)f[m]=c[m];return f}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(c,f){let m,v;for(let M=1;M<arguments.length;M++){v=arguments[M];for(m in v)c[m]=v[m];for(let O=0;O<b.length;O++)m=b[O],Object.prototype.hasOwnProperty.call(v,m)&&(c[m]=v[m])}}function S(c){var f=1;c=c.split(":");let m=[];for(;0<f&&c.length;)m.push(c.shift()),f--;return c.length&&m.push(c.join(":")),m}function R(c){a.setTimeout(()=>{throw c},0)}function D(){var c=hi;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class Sn{constructor(){this.h=this.g=null}add(f,m){let v=li.get();v.set(f,m),this.h?this.h.next=v:this.g=v,this.h=v}}var li=new V(()=>new vc,c=>c.reset());class vc{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let di,Ar=!1,hi=new Sn,Zt=()=>{let c=a.Promise.resolve(void 0);di=()=>{c.then(fi)}};var fi=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(m){R(m)}var f=li;f.j(c),100>f.h&&(f.h++,c.next=f.g,f.g=c)}Ar=!1};function Mt(){this.s=this.s,this.C=this.C}Mt.prototype.s=!1,Mt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Mt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function mt(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}mt.prototype.h=function(){this.defaultPrevented=!0};var pi=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return c}();function Rn(c,f){if(mt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var m=this.type=c.type,v=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget){if(_e){e:{try{re(f.nodeName);var M=!0;break e}catch{}M=!1}M||(f=null)}}else m=="mouseover"?f=c.fromElement:m=="mouseout"&&(f=c.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:kl[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Rn.aa.h.call(this)}}N(Rn,mt);var kl={2:"touch",3:"pen",4:"mouse"};Rn.prototype.h=function(){Rn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Wn="closure_listenable_"+(1e6*Math.random()|0),wc=0;function Og(c,f,m,v,M){this.listener=c,this.proxy=null,this.src=f,this.type=m,this.capture=!!v,this.ha=M,this.key=++wc,this.da=this.fa=!1}function gi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function mi(c){this.src=c,this.g={},this.h=0}mi.prototype.add=function(c,f,m,v,M){var O=c.toString();c=this.g[O],c||(c=this.g[O]=[],this.h++);var U=_c(c,f,v,M);return-1<U?(f=c[U],m||(f.fa=!1)):(f=new Og(f,this.src,O,!!v,M),f.fa=m,c.push(f)),f};function yi(c,f){var m=f.type;if(m in c.g){var v=c.g[m],M=Array.prototype.indexOf.call(v,f,void 0),O;(O=0<=M)&&Array.prototype.splice.call(v,M,1),O&&(gi(f),c.g[m].length==0&&(delete c.g[m],c.h--))}}function _c(c,f,m,v){for(var M=0;M<c.length;++M){var O=c[M];if(!O.da&&O.listener==f&&O.capture==!!m&&O.ha==v)return M}return-1}var bt="closure_lm_"+(1e6*Math.random()|0),Jt={};function Fl(c,f,m,v,M){if(v&&v.once)return Ic(c,f,m,v,M);if(Array.isArray(f)){for(var O=0;O<f.length;O++)Fl(c,f[O],m,v,M);return null}return m=et(m),c&&c[Wn]?c.K(f,m,d(v)?!!v.capture:!!v,M):Nt(c,f,m,!1,v,M)}function Nt(c,f,m,v,M,O){if(!f)throw Error("Invalid event type");var U=d(M)?!!M.capture:!!M,xe=Mn(c);if(xe||(c[bt]=xe=new mi(c)),m=xe.add(f,m,v,U,O),m.proxy)return m;if(v=Co(),m.proxy=v,v.src=c,v.listener=m,c.addEventListener)pi||(M=U),M===void 0&&(M=!1),c.addEventListener(f.toString(),v,M);else if(c.attachEvent)c.attachEvent(Xt(f.toString()),v);else if(c.addListener&&c.removeListener)c.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Co(){function c(m){return f.call(c.src,c.listener,m)}let f=Kn;return c}function Ic(c,f,m,v,M){if(Array.isArray(f)){for(var O=0;O<f.length;O++)Ic(c,f[O],m,v,M);return null}return m=et(m),c&&c[Wn]?c.L(f,m,d(v)?!!v.capture:!!v,M):Nt(c,f,m,!0,v,M)}function Ec(c,f,m,v,M){if(Array.isArray(f))for(var O=0;O<f.length;O++)Ec(c,f[O],m,v,M);else v=d(v)?!!v.capture:!!v,m=et(m),c&&c[Wn]?(c=c.i,f=String(f).toString(),f in c.g&&(O=c.g[f],m=_c(O,m,v,M),-1<m&&(gi(O[m]),Array.prototype.splice.call(O,m,1),O.length==0&&(delete c.g[f],c.h--)))):c&&(c=Mn(c))&&(f=c.g[f.toString()],c=-1,f&&(c=_c(f,m,v,M)),(m=-1<c?f[c]:null)&&me(m))}function me(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[Wn])yi(f.i,c);else{var m=c.type,v=c.proxy;f.removeEventListener?f.removeEventListener(m,v,c.capture):f.detachEvent?f.detachEvent(Xt(m),v):f.addListener&&f.removeListener&&f.removeListener(v),(m=Mn(f))?(yi(m,c),m.h==0&&(m.src=null,f[bt]=null)):gi(c)}}}function Xt(c){return c in Jt?Jt[c]:Jt[c]="on"+c}function Kn(c,f){if(c.da)c=!0;else{f=new Rn(f,this);var m=c.listener,v=c.ha||c.src;c.fa&&me(c),c=m.call(v,f)}return c}function Mn(c){return c=c[bt],c instanceof mi?c:null}var Ge="__closure_events_fn_"+(1e9*Math.random()>>>0);function et(c){return typeof c=="function"?c:(c[Ge]||(c[Ge]=function(f){return c.handleEvent(f)}),c[Ge])}function tt(){Mt.call(this),this.i=new mi(this),this.M=this,this.F=null}N(tt,Mt),tt.prototype[Wn]=!0,tt.prototype.removeEventListener=function(c,f,m,v){Ec(this,c,f,m,v)};function yt(c,f){var m,v=c.F;if(v)for(m=[];v;v=v.F)m.push(v);if(c=c.M,v=f.type||f,typeof f=="string")f=new mt(f,c);else if(f instanceof mt)f.target=f.target||c;else{var M=f;f=new mt(v,c),A(f,M)}if(M=!0,m)for(var O=m.length-1;0<=O;O--){var U=f.g=m[O];M=Qn(U,v,!0,f)&&M}if(U=f.g=c,M=Qn(U,v,!0,f)&&M,M=Qn(U,v,!1,f)&&M,m)for(O=0;O<m.length;O++)U=f.g=m[O],M=Qn(U,v,!1,f)&&M}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var c=this.i,f;for(f in c.g){for(var m=c.g[f],v=0;v<m.length;v++)gi(m[v]);delete c.g[f],c.h--}}this.F=null},tt.prototype.K=function(c,f,m,v){return this.i.add(String(c),f,!1,m,v)},tt.prototype.L=function(c,f,m,v){return this.i.add(String(c),f,!0,m,v)};function Qn(c,f,m,v){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();for(var M=!0,O=0;O<f.length;++O){var U=f[O];if(U&&!U.da&&U.capture==m){var xe=U.listener,ht=U.ha||U.src;U.fa&&yi(c.i,U),M=xe.call(ht,v)!==!1&&M}}return M&&!v.defaultPrevented}function Dt(c,f,m){if(typeof c=="function")m&&(c=_(c,m));else if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(c,f||0)}function Ll(c){c.g=Dt(()=>{c.g=null,c.i&&(c.i=!1,Ll(c))},c.l);let f=c.h;c.h=null,c.m.apply(null,f)}class Vl extends Mt{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Ll(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vi(c){Mt.call(this),this.h=c,this.g={}}N(vi,Mt);var To=[];function jl(c){Z(c.g,function(f,m){this.g.hasOwnProperty(m)&&me(f)},c),c.g={}}vi.prototype.N=function(){vi.aa.N.call(this),jl(this)},vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bc=a.JSON.stringify,kg=a.JSON.parse,Fg=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Nn(){}Nn.prototype.h=null;function Ul(c){return c.h||(c.h=c.i())}function Bl(){}var fs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dc(){mt.call(this,"d")}N(Dc,mt);function Cc(){mt.call(this,"c")}N(Cc,mt);var xn={},$l=null;function Ao(){return $l=$l||new tt}xn.La="serverreachability";function Hl(c){mt.call(this,xn.La,c)}N(Hl,mt);function ps(c){let f=Ao();yt(f,new Hl(f))}xn.STAT_EVENT="statevent";function zl(c,f){mt.call(this,xn.STAT_EVENT,c),this.stat=f}N(zl,mt);function dt(c){let f=Ao();yt(f,new zl(f,c))}xn.Ma="timingevent";function ql(c,f){mt.call(this,xn.Ma,c),this.size=f}N(ql,mt);function gs(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},f)}function ms(){this.g=!0}ms.prototype.xa=function(){this.g=!1};function Lg(c,f,m,v,M,O){c.info(function(){if(c.g)if(O)for(var U="",xe=O.split("&"),ht=0;ht<xe.length;ht++){var Ie=xe[ht].split("=");if(1<Ie.length){var vt=Ie[0];Ie=Ie[1];var ft=vt.split("_");U=2<=ft.length&&ft[1]=="type"?U+(vt+"="+Ie+"&"):U+(vt+"=redacted&")}}else U=null;else U=O;return"XMLHTTP REQ ("+v+") [attempt "+M+"]: "+f+`
`+m+`
`+U})}function Vg(c,f,m,v,M,O,U){c.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+M+"]: "+f+`
`+m+`
`+O+" "+U})}function Ce(c,f,m,v){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+Ug(c,m)+(v?" "+v:"")})}function jg(c,f){c.info(function(){return"TIMEOUT: "+f})}ms.prototype.info=function(){};function Ug(c,f){if(!c.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(c=0;c<m.length;c++)if(Array.isArray(m[c])){var v=m[c];if(!(2>v.length)){var M=v[1];if(Array.isArray(M)&&!(1>M.length)){var O=M[0];if(O!="noop"&&O!="stop"&&O!="close")for(var U=1;U<M.length;U++)M[U]=""}}}}return bc(m)}catch{return f}}var So={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tc;function Ro(){}N(Ro,Nn),Ro.prototype.g=function(){return new XMLHttpRequest},Ro.prototype.i=function(){return{}},Tc=new Ro;function fn(c,f,m,v){this.j=c,this.i=f,this.l=m,this.R=v||1,this.U=new vi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wi}function wi(){this.i=null,this.g="",this.h=!1}var Ac={},_i={};function Ue(c,f,m){c.L=1,c.v=No(pn(f)),c.m=m,c.P=!0,Wl(c,null)}function Wl(c,f){c.F=Date.now(),ys(c),c.A=pn(c.v);var m=c.A,v=c.R;Array.isArray(v)||(v=[String(v)]),ud(m.i,"t",v),c.C=0,m=c.j.J,c.h=new wi,c.g=$c(c.j,m?f:null,!c.m),0<c.O&&(c.M=new Vl(_(c.Y,c,c.g),c.O)),f=c.U,m=c.g,v=c.ca;var M="readystatechange";Array.isArray(M)||(M&&(To[0]=M.toString()),M=To);for(var O=0;O<M.length;O++){var U=Fl(m,M[O],v||f.handleEvent,!1,f.h||f);if(!U)break;f.g[U.key]=U}f=c.H?E(c.H):{},c.m?(c.u||(c.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,f)):(c.u="GET",c.g.ea(c.A,c.u,null,f)),ps(),Lg(c.i,c.u,c.A,c.l,c.R,c.m)}fn.prototype.ca=function(c){c=c.target;let f=this.M;f&&On(c)==3?f.j():this.Y(c)},fn.prototype.Y=function(c){try{if(c==this.g)e:{let ft=On(this.g);var f=this.g.Ba();let er=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||md(this.g)))){this.J||ft!=4||f==7||(f==8||0>=er?ps(3):ps(2)),Sc(this);var m=this.g.Z();this.X=m;t:if(Kl(this)){var v=md(this.g);c="";var M=v.length,O=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yn(this),vs(this);var U="";break t}this.h.i=new a.TextDecoder}for(f=0;f<M;f++)this.h.h=!0,c+=this.h.i.decode(v[f],{stream:!(O&&f==M-1)});v.length=0,this.h.g+=c,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=m==200,Vg(this.i,this.u,this.A,this.l,this.R,ft,m),this.o){if(this.T&&!this.K){t:{if(this.g){var xe,ht=this.g;if((xe=ht.g?ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(xe)){var Ie=xe;break t}}Ie=null}if(m=Ie)Ce(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rc(this,m);else{this.o=!1,this.s=3,dt(12),Yn(this),vs(this);break e}}if(this.P){m=!0;let en;for(;!this.J&&this.C<U.length;)if(en=Bg(this,U),en==_i){ft==4&&(this.s=4,dt(14),m=!1),Ce(this.i,this.l,null,"[Incomplete Response]");break}else if(en==Ac){this.s=4,dt(15),Ce(this.i,this.l,U,"[Invalid Chunk]"),m=!1;break}else Ce(this.i,this.l,en,null),Rc(this,en);if(Kl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||U.length!=0||this.h.h||(this.s=1,dt(16),m=!1),this.o=this.o&&m,!m)Ce(this.i,this.l,U,"[Invalid Chunked Response]"),Yn(this),vs(this);else if(0<U.length&&!this.W){this.W=!0;var vt=this.j;vt.g==this&&vt.ba&&!vt.M&&(vt.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),Ti(vt),vt.M=!0,dt(11))}}else Ce(this.i,this.l,U,null),Rc(this,U);ft==4&&Yn(this),this.o&&!this.J&&(ft==4?Vc(this.j,this):(this.o=!1,ys(this)))}else Yg(this.g),m==400&&0<U.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Yn(this),vs(this)}}}catch{}finally{}};function Kl(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Bg(c,f){var m=c.C,v=f.indexOf(`
`,m);return v==-1?_i:(m=Number(f.substring(m,v)),isNaN(m)?Ac:(v+=1,v+m>f.length?_i:(f=f.slice(v,v+m),c.C=v+m,f)))}fn.prototype.cancel=function(){this.J=!0,Yn(this)};function ys(c){c.S=Date.now()+c.I,Ql(c,c.I)}function Ql(c,f){if(c.B!=null)throw Error("WatchDog timer not null");c.B=gs(_(c.ba,c),f)}function Sc(c){c.B&&(a.clearTimeout(c.B),c.B=null)}fn.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(jg(this.i,this.A),this.L!=2&&(ps(),dt(17)),Yn(this),this.s=2,vs(this)):Ql(this,this.S-c)};function vs(c){c.j.G==0||c.J||Vc(c.j,c)}function Yn(c){Sc(c);var f=c.M;f&&typeof f.ma=="function"&&f.ma(),c.M=null,jl(c.U),c.g&&(f=c.g,c.g=null,f.abort(),f.ma())}function Rc(c,f){try{var m=c.j;if(m.G!=0&&(m.g==c||Mc(m.h,c))){if(!c.K&&Mc(m.h,c)&&m.G==3){try{var v=m.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var M=v;if(M[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<c.F)Ts(m),ko(m);else break e;Cs(m),dt(18)}}else m.za=M[1],0<m.za-m.T&&37500>M[2]&&m.F&&m.v==0&&!m.C&&(m.C=gs(_(m.Za,m),6e3));if(1>=Xl(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Xn(m,11)}else if((c.K||m.g==c)&&Ts(m),!K(f))for(M=m.Da.g.parse(f),f=0;f<M.length;f++){let Ie=M[f];if(m.T=Ie[0],Ie=Ie[1],m.G==2)if(Ie[0]=="c"){m.K=Ie[1],m.ia=Ie[2];let vt=Ie[3];vt!=null&&(m.la=vt,m.j.info("VER="+m.la));let ft=Ie[4];ft!=null&&(m.Aa=ft,m.j.info("SVER="+m.Aa));let er=Ie[5];er!=null&&typeof er=="number"&&0<er&&(v=1.5*er,m.L=v,m.j.info("backChannelRequestTimeoutMs_="+v)),v=m;let en=c.g;if(en){let Lo=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lo){var O=v.h;O.g||Lo.indexOf("spdy")==-1&&Lo.indexOf("quic")==-1&&Lo.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Nc(O,O.h),O.h=null))}if(v.D){let zc=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;zc&&(v.ya=zc,ke(v.I,v.D,zc))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-c.F,m.j.info("Handshake RTT: "+m.R+"ms")),v=m;var U=c;if(v.qa=Bc(v,v.J?v.ia:null,v.W),U.K){ed(v.h,U);var xe=U,ht=v.L;ht&&(xe.I=ht),xe.B&&(Sc(xe),ys(xe)),v.g=U}else Lc(v);0<m.i.length&&Fo(m)}else Ie[0]!="stop"&&Ie[0]!="close"||Xn(m,7);else m.G==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?Xn(m,7):Oo(m):Ie[0]!="noop"&&m.l&&m.l.ta(Ie),m.v=0)}}ps(4)}catch{}}var Yl=class{constructor(c,f){this.g=c,this.map=f}};function Zl(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Xl(c){return c.h?1:c.g?c.g.size:0}function Mc(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function Nc(c,f){c.g?c.g.add(f):c.h=f}function ed(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}Zl.prototype.cancel=function(){if(this.i=td(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function td(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let f=c.i;for(let m of c.g.values())f=f.concat(m.D);return f}return k(c.i)}function nd(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var f=[],m=c.length,v=0;v<m;v++)f.push(c[v]);return f}f=[],m=0;for(v in c)f[m++]=c[v];return f}function $g(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var f=[];c=c.length;for(var m=0;m<c;m++)f.push(m);return f}f=[],m=0;for(let v in c)f[m++]=v;return f}}}function xc(c,f){if(c.forEach&&typeof c.forEach=="function")c.forEach(f,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,f,void 0);else for(var m=$g(c),v=nd(c),M=v.length,O=0;O<M;O++)f.call(void 0,v[O],m&&m[O],c)}var rd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hg(c,f){if(c){c=c.split("&");for(var m=0;m<c.length;m++){var v=c[m].indexOf("="),M=null;if(0<=v){var O=c[m].substring(0,v);M=c[m].substring(v+1)}else O=c[m];f(O,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Gt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Gt){this.h=c.h,Mo(this,c.j),this.o=c.o,this.g=c.g,Ii(this,c.s),this.l=c.l;var f=c.i,m=new Is;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),Pc(this,m),this.m=c.m}else c&&(f=String(c).match(rd))?(this.h=!1,Mo(this,f[1]||"",!0),this.o=ws(f[2]||""),this.g=ws(f[3]||"",!0),Ii(this,f[4]),this.l=ws(f[5]||"",!0),Pc(this,f[6]||"",!0),this.m=ws(f[7]||"")):(this.h=!1,this.i=new Is(null,this.h))}Gt.prototype.toString=function(){var c=[],f=this.j;f&&c.push(_s(f,id,!0),":");var m=this.g;return(m||f=="file")&&(c.push("//"),(f=this.o)&&c.push(_s(f,id,!0),"@"),c.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&c.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(_s(m,m.charAt(0)=="/"?qg:Ei,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",_s(m,od)),c.join("")};function pn(c){return new Gt(c)}function Mo(c,f,m){c.j=m?ws(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function Ii(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.s=f}else c.s=null}function Pc(c,f,m){f instanceof Is?(c.i=f,Gg(c.i,c.h)):(m||(f=_s(f,sd)),c.i=new Is(f,c.h))}function ke(c,f,m){c.i.set(f,m)}function No(c){return ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ws(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _s(c,f,m){return typeof c=="string"?(c=encodeURI(c).replace(f,zg),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function zg(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var id=/[#\/\?@]/g,Ei=/[#\?:]/g,qg=/[#\?]/g,sd=/[#\?@]/g,od=/#/g;function Is(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function Zn(c){c.g||(c.g=new Map,c.h=0,c.i&&Hg(c.i,function(f,m){c.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}n=Is.prototype,n.add=function(c,f){Zn(this),this.i=null,c=bi(this,c);var m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(f),this.h+=1,this};function ad(c,f){Zn(c),f=bi(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function cd(c,f){return Zn(c),f=bi(c,f),c.g.has(f)}n.forEach=function(c,f){Zn(this),this.g.forEach(function(m,v){m.forEach(function(M){c.call(f,M,v,this)},this)},this)},n.na=function(){Zn(this);let c=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let v=0;v<f.length;v++){let M=c[v];for(let O=0;O<M.length;O++)m.push(f[v])}return m},n.V=function(c){Zn(this);let f=[];if(typeof c=="string")cd(this,c)&&(f=f.concat(this.g.get(bi(this,c))));else{c=Array.from(this.g.values());for(let m=0;m<c.length;m++)f=f.concat(c[m])}return f},n.set=function(c,f){return Zn(this),this.i=null,c=bi(this,c),cd(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},n.get=function(c,f){return c?(c=this.V(c),0<c.length?String(c[0]):f):f};function ud(c,f,m){ad(c,f),0<m.length&&(c.i=null,c.g.set(bi(c,f),k(m)),c.h+=m.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var v=f[m];let O=encodeURIComponent(String(v)),U=this.V(v);for(v=0;v<U.length;v++){var M=O;U[v]!==""&&(M+="="+encodeURIComponent(String(U[v]))),c.push(M)}}return this.i=c.join("&")};function bi(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function Gg(c,f){f&&!c.j&&(Zn(c),c.i=null,c.g.forEach(function(m,v){var M=v.toLowerCase();v!=M&&(ad(this,v),ud(this,M,m))},c)),c.j=f}function Di(c,f){let m=new ms;if(a.Image){let v=new Image;v.onload=I(Jn,m,"TestLoadImage: loaded",!0,f,v),v.onerror=I(Jn,m,"TestLoadImage: error",!1,f,v),v.onabort=I(Jn,m,"TestLoadImage: abort",!1,f,v),v.ontimeout=I(Jn,m,"TestLoadImage: timeout",!1,f,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=c}else f(!1)}function Wg(c,f){let m=new ms,v=new AbortController,M=setTimeout(()=>{v.abort(),Jn(m,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:v.signal}).then(O=>{clearTimeout(M),O.ok?Jn(m,"TestPingServer: ok",!0,f):Jn(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),Jn(m,"TestPingServer: error",!1,f)})}function Jn(c,f,m,v,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),v(m)}catch{}}function ld(){this.g=new Fg}function Kg(c,f,m){let v=m||"";try{xc(c,function(M,O){let U=M;d(M)&&(U=bc(M)),f.push(v+O+"="+encodeURIComponent(U))})}catch(M){throw f.push(v+"type="+encodeURIComponent("_badmap")),M}}function Wt(c){this.l=c.Ub||null,this.j=c.eb||!1}N(Wt,Nn),Wt.prototype.g=function(){return new xo(this.l,this.j)},Wt.prototype.i=function(c){return function(){return c}}({});function xo(c,f){tt.call(this),this.D=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(xo,tt),n=xo.prototype,n.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=f,this.readyState=1,Es(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(f.body=c),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Es(this)),this.g&&(this.readyState=3,Es(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Oc(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Oc(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?Pn(this):Es(this),this.readyState==3&&Oc(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Pn(this))},n.Qa=function(c){this.g&&(this.response=c,Pn(this))},n.ga=function(){this.g&&Pn(this)};function Pn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Es(c)}n.setRequestHeader=function(c,f){this.u.append(c,f)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=f.next();return c.join(`\r
`)};function Es(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function dd(c){let f="";return Z(c,function(m,v){f+=v,f+=":",f+=m,f+=`\r
`}),f}function kc(c,f,m){e:{for(v in m){var v=!1;break e}v=!0}v||(m=dd(m),typeof c=="string"?m!=null&&encodeURIComponent(String(m)):ke(c,f,m))}function Be(c){tt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Be,tt);var Ci=/^https?$/i,Qg=["POST","PUT"];n=Be.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,f,m,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tc.g(),this.v=this.o?Ul(this.o):Ul(Tc),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(O){hd(this,O);return}if(c=m||"",m=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var M in v)m.set(M,v[M]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let O of v.keys())m.set(O,v.get(O));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(m.keys()).find(O=>O.toLowerCase()=="content-type"),M=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Qg,f,void 0))||v||M||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[O,U]of m)this.g.setRequestHeader(O,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gd(this),this.u=!0,this.g.send(c),this.u=!1}catch(O){hd(this,O)}};function hd(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.m=5,fd(c),Po(c)}function fd(c){c.A||(c.A=!0,yt(c,"complete"),yt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,yt(this,"complete"),yt(this,"abort"),Po(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Po(this,!0)),Be.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?pd(this):this.bb())},n.bb=function(){pd(this)};function pd(c){if(c.h&&typeof o<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)Dt(c.Ea,0,c);else if(yt(c,"readystatechange"),On(c)==4){c.h=!1;try{let U=c.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var v;if(v=U===0){var M=String(c.D).match(rd)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),v=!Ci.test(M?M.toLowerCase():"")}m=v}if(m)yt(c,"complete"),yt(c,"success");else{c.m=6;try{var O=2<On(c)?c.g.statusText:""}catch{O=""}c.l=O+" ["+c.Z()+"]",fd(c)}}finally{Po(c)}}}}function Po(c,f){if(c.g){gd(c);let m=c.g,v=c.v[0]?()=>{}:null;c.g=null,c.v=null,f||yt(c,"ready");try{m.onreadystatechange=v}catch{}}}function gd(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),kg(f)}};function md(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Yg(c){let f={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<c.length;v++){if(K(c[v]))continue;var m=S(c[v]);let M=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();let O=f[M]||[];f[M]=O,O.push(m)}T(f,function(v){return v.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bs(c,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||f}function Ds(c){this.Aa=0,this.i=[],this.j=new ms,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bs("baseRetryDelayMs",5e3,c),this.cb=bs("retryDelaySeedMs",1e4,c),this.Wa=bs("forwardChannelMaxRetries",2,c),this.wa=bs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Zl(c&&c.concurrentRequestLimit),this.Da=new ld,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ds.prototype,n.la=8,n.G=1,n.connect=function(c,f,m,v){dt(0),this.W=c,this.H=f||{},m&&v!==void 0&&(this.H.OSID=m,this.H.OAID=v),this.F=this.X,this.I=Bc(this,null,this.W),Fo(this)};function Oo(c){if(yd(c),c.G==3){var f=c.U++,m=pn(c.I);if(ke(m,"SID",c.K),ke(m,"RID",f),ke(m,"TYPE","terminate"),Sr(c,m),f=new fn(c,c.j,f),f.L=2,f.v=No(pn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=$c(f.j,null),f.g.ea(f.v)),f.F=Date.now(),ys(f)}Uc(c)}function ko(c){c.g&&(Ti(c),c.g.cancel(),c.g=null)}function yd(c){ko(c),c.u&&(a.clearTimeout(c.u),c.u=null),Ts(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Fo(c){if(!Jl(c.h)&&!c.s){c.s=!0;var f=c.Ga;di||Zt(),Ar||(di(),Ar=!0),hi.add(f,c),c.B=0}}function vd(c,f){return Xl(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=f.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=gs(_(c.Ga,c,f),jc(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let M=new fn(this,this.j,c),O=this.o;if(this.S&&(O?(O=E(O),A(O,this.S)):O=this.S),this.m!==null||this.O||(M.H=O,O=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var v=this.i[m];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=Fc(this,M,f),m=pn(this.I),ke(m,"RID",c),ke(m,"CVER",22),this.D&&ke(m,"X-HTTP-Session-Id",this.D),Sr(this,m),O&&(this.O?f="headers="+encodeURIComponent(String(dd(O)))+"&"+f:this.m&&kc(m,this.m,O)),Nc(this.h,M),this.Ua&&ke(m,"TYPE","init"),this.P?(ke(m,"$req",f),ke(m,"SID","null"),M.T=!0,Ue(M,m,null)):Ue(M,m,f),this.G=2}}else this.G==3&&(c?wd(this,c):this.i.length==0||Jl(this.h)||wd(this))};function wd(c,f){var m;f?m=f.l:m=c.U++;let v=pn(c.I);ke(v,"SID",c.K),ke(v,"RID",m),ke(v,"AID",c.T),Sr(c,v),c.m&&c.o&&kc(v,c.m,c.o),m=new fn(c,c.j,m,c.B+1),c.m===null&&(m.H=c.o),f&&(c.i=f.D.concat(c.i)),f=Fc(c,m,1e3),m.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Nc(c.h,m),Ue(m,v,f)}function Sr(c,f){c.H&&Z(c.H,function(m,v){ke(f,v,m)}),c.l&&xc({},function(m,v){ke(f,v,m)})}function Fc(c,f,m){m=Math.min(c.i.length,m);var v=c.l?_(c.l.Na,c.l,c):null;e:{var M=c.i;let O=-1;for(;;){let U=["count="+m];O==-1?0<m?(O=M[0].g,U.push("ofs="+O)):O=0:U.push("ofs="+O);let xe=!0;for(let ht=0;ht<m;ht++){let Ie=M[ht].g,vt=M[ht].map;if(Ie-=O,0>Ie)O=Math.max(0,M[ht].g-100),xe=!1;else try{Kg(vt,U,"req"+Ie+"_")}catch{v&&v(vt)}}if(xe){v=U.join("&");break e}}}return c=c.i.splice(0,m),f.D=c,v}function Lc(c){if(!c.g&&!c.u){c.Y=1;var f=c.Fa;di||Zt(),Ar||(di(),Ar=!0),hi.add(f,c),c.v=0}}function Cs(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=gs(_(c.Fa,c),jc(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,_d(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=gs(_(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),ko(this),_d(this))};function Ti(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function _d(c){c.g=new fn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var f=pn(c.qa);ke(f,"RID","rpc"),ke(f,"SID",c.K),ke(f,"AID",c.T),ke(f,"CI",c.F?"0":"1"),!c.F&&c.ja&&ke(f,"TO",c.ja),ke(f,"TYPE","xmlhttp"),Sr(c,f),c.m&&c.o&&kc(f,c.m,c.o),c.L&&(c.g.I=c.L);var m=c.g;c=c.ia,m.L=1,m.v=No(pn(f)),m.m=null,m.P=!0,Wl(m,c)}n.Za=function(){this.C!=null&&(this.C=null,ko(this),Cs(this),dt(19))};function Ts(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Vc(c,f){var m=null;if(c.g==f){Ts(c),Ti(c),c.g=null;var v=2}else if(Mc(c.h,f))m=f.D,ed(c.h,f),v=1;else return;if(c.G!=0){if(f.o)if(v==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var M=c.B;v=Ao(),yt(v,new ql(v,m)),Fo(c)}else Lc(c);else if(M=f.s,M==3||M==0&&0<f.X||!(v==1&&vd(c,f)||v==2&&Cs(c)))switch(m&&0<m.length&&(f=c.h,f.i=f.i.concat(m)),M){case 1:Xn(c,5);break;case 4:Xn(c,10);break;case 3:Xn(c,6);break;default:Xn(c,2)}}}function jc(c,f){let m=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(m*=2),m*f}function Xn(c,f){if(c.j.info("Error code "+f),f==2){var m=_(c.fb,c),v=c.Xa;let M=!v;v=new Gt(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Mo(v,"https"),No(v),M?Di(v.toString(),m):Wg(v.toString(),m)}else dt(2);c.G=0,c.l&&c.l.sa(f),Uc(c),yd(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Uc(c){if(c.G=0,c.ka=[],c.l){let f=td(c.h);(f.length!=0||c.i.length!=0)&&(x(c.ka,f),x(c.ka,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.ra()}}function Bc(c,f,m){var v=m instanceof Gt?pn(m):new Gt(m);if(v.g!="")f&&(v.g=f+"."+v.g),Ii(v,v.s);else{var M=a.location;v=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;var O=new Gt(null);v&&Mo(O,v),f&&(O.g=f),M&&Ii(O,M),m&&(O.l=m),v=O}return m=c.D,f=c.ya,m&&f&&ke(v,m,f),ke(v,"VER",c.la),Sr(c,v),v}function $c(c,f,m){if(f&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Ca&&!c.pa?new Be(new Wt({eb:m})):new Be(c.pa),f.Ha(c.J),f}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hc(){}n=Hc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function As(){}As.prototype.g=function(c,f){return new nt(c,f)};function nt(c,f){tt.call(this),this.g=new Ds(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(c?c["X-WebChannel-Client-Profile"]=f.va:c={"X-WebChannel-Client-Profile":f.va}),this.g.S=c,(c=f&&f.Sb)&&!K(c)&&(this.g.m=c),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!K(f)&&(this.g.D=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new Ai(this)}N(nt,tt),nt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nt.prototype.close=function(){Oo(this.g)},nt.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.u&&(m={},m.__data__=bc(c),c=m);f.i.push(new Yl(f.Ya++,c)),f.G==3&&Fo(f)},nt.prototype.N=function(){this.g.l=null,delete this.j,Oo(this.g),delete this.g,nt.aa.N.call(this)};function Id(c){Dc.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(let m in f){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}N(Id,Dc);function Ed(){Cc.call(this),this.status=1}N(Ed,Cc);function Ai(c){this.g=c}N(Ai,Hc),Ai.prototype.ua=function(){yt(this.g,"a")},Ai.prototype.ta=function(c){yt(this.g,new Id(c))},Ai.prototype.sa=function(c){yt(this.g,new Ed)},Ai.prototype.ra=function(){yt(this.g,"b")},As.prototype.createWebChannel=As.prototype.g,nt.prototype.send=nt.prototype.o,nt.prototype.open=nt.prototype.m,nt.prototype.close=nt.prototype.close,M_=ri.createWebChannelTransport=function(){return new As},R_=ri.getStatEventTarget=function(){return Ao()},S_=ri.Event=xn,Sp=ri.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},So.NO_ERROR=0,So.TIMEOUT=8,So.HTTP_ERROR=6,el=ri.ErrorCode=So,Gl.COMPLETE="complete",A_=ri.EventType=Gl,Bl.EventType=fs,fs.OPEN="a",fs.CLOSE="b",fs.ERROR="c",fs.MESSAGE="d",tt.prototype.listen=tt.prototype.K,za=ri.WebChannel=Bl,xH=ri.FetchXmlHttpFactory=Wt,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,T_=ri.XhrIo=Be}).apply(typeof Ap<"u"?Ap:typeof self<"u"?self:typeof window<"u"?window:{});var zS="@firebase/firestore";var It=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");var lc="10.14.0";var lo=new es("@firebase/firestore");function tl(){return lo.logLevel}function W(n,...e){if(lo.logLevel<=ve.DEBUG){let t=e.map(fE);lo.debug(`Firestore (${lc}): ${n}`,...t)}}function si(n,...e){if(lo.logLevel<=ve.ERROR){let t=e.map(fE);lo.error(`Firestore (${lc}): ${n}`,...t)}}function Za(n,...e){if(lo.logLevel<=ve.WARN){let t=e.map(fE);lo.warn(`Firestore (${lc}): ${n}`,...t)}}function fE(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ne(n="Unexpected state"){let e=`FIRESTORE (${lc}) INTERNAL ASSERTION FAILED: `+n;throw si(e),new Error(e)}function Oe(n,e){n||ne()}function oe(n,e){return n}var F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},q=class extends un{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var _r=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Pp=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},k_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(It.UNAUTHENTICATED))}shutdown(){}},F_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},L_=class{constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Oe(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),s=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new _r,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>C(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new _r)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe(typeof r.accessToken=="string"),new Pp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string"),new It(e)}},V_=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=It.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},j_=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new V_(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}},U_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},B_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Oe(this.o===void 0);let r=s=>{s.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Oe(typeof t.token=="string"),this.R=t.token,new U_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function PH(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Op=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=PH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}};function Se(n,e){return n<e?-1:n>e?1:0}function Ja(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var St=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ce=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new St(0,0))}static max(){return new n(new St(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var kp=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ne(),r===void 0?r=e.length-t:r>e.length-t&&ne(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},qe=class n extends kp{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new q(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},OH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,hn=class n extends kp{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return OH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new q(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new q(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new q(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new q(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var J=class n{constructor(e){this.path=e}static fromPath(e){return new n(qe.fromString(e))}static fromName(e){return new n(qe.fromString(e).popFirst(5))}static empty(){return new n(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new qe(e.slice()))}};var $_=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};$_.UNKNOWN_ID=-1;function kH(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new St(t+1,0):new St(t,r));return new ho(i,J.empty(),e)}function FH(n){return new ho(n.readTime,n.key,-1)}var ho=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ce.min(),J.empty(),-1)}static max(){return new n(ce.max(),J.empty(),-1)}};function LH(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=J.comparator(n.documentKey,e.documentKey),t!==0?t:Se(n.largestBatchId,e.largestBatchId))}var VH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",H_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function _l(n){return C(this,null,function*(){if(n.code!==F.FAILED_PRECONDITION||n.message!==VH)throw n;W("LocalStore","Unexpectedly lost primary lease")})}var j=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let d=u;t(e[d]).next(p=>{o[d]=p,++a,a===s&&r(o)},p=>i(p))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function jH(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Il(n){return n.name==="IndexedDbTransactionError"}var CR=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function fg(n){return n==null}function al(n){return n===0&&1/n==-1/0}function UH(n){return typeof n=="number"&&Number.isInteger(n)&&!al(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var BH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],PQ=[...BH,"documentOverlays"],$H=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],HH=$H,zH=[...HH,"indexConfiguration","indexState","indexEntries"];var OQ=[...zH,"globals"];function qS(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function wo(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function TR(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Qe=class n{constructor(e,t){this.comparator=e,this.root=t||Ir.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ir.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ir.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ka(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ka(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ka(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ka(this.root,e,this.comparator,!0)}},Ka=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ir=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();let e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}};Ir.EMPTY=null,Ir.RED=!0,Ir.BLACK=!1;Ir.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Ir(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var kt=class n{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Fp(this.data.getIterator())}getIteratorFrom(e){return new Fp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Fp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Tn=class n{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new n([])}unionWith(e){let t=new kt(hn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ja(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Lp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ft=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Lp("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ft.EMPTY_BYTE_STRING=new Ft("");var qH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oi(n){if(Oe(!!n),typeof n=="string"){let e=0,t=qH.exec(n);if(Oe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:He(n.seconds),nanos:He(n.nanos)}}function He(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function cs(n){return typeof n=="string"?Ft.fromBase64String(n):Ft.fromUint8Array(n)}function pE(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function gE(n){let e=n.mapValue.fields.__previous_value__;return pE(e)?gE(e):e}function cl(n){let e=oi(n.mapValue.fields.__local_write_time__.timestampValue);return new St(e.seconds,e.nanos)}var z_=class{constructor(e,t,r,i,s,o,a,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=d}},Vp=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Rp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pE(n)?4:SR(n)?9007199254740991:AR(n)?10:11:ne()}function Dr(n,e){if(n===e)return!0;let t=fo(n);if(t!==fo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return cl(n).isEqual(cl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=oi(i.timestampValue),a=oi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return cs(i.bytesValue).isEqual(cs(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return He(i.geoPointValue.latitude)===He(s.geoPointValue.latitude)&&He(i.geoPointValue.longitude)===He(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return He(i.integerValue)===He(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=He(i.doubleValue),a=He(s.doubleValue);return o===a?al(o)===al(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Ja(n.arrayValue.values||[],e.arrayValue.values||[],Dr);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(qS(o)!==qS(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Dr(o[u],a[u])))return!1;return!0}(n,e);default:return ne()}}function ul(n,e){return(n.values||[]).find(t=>Dr(t,e))!==void 0}function Xa(n,e){if(n===e)return 0;let t=fo(n),r=fo(e);if(t!==r)return Se(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Se(n.booleanValue,e.booleanValue);case 2:return function(s,o){let a=He(s.integerValue||s.doubleValue),u=He(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return GS(n.timestampValue,e.timestampValue);case 4:return GS(cl(n),cl(e));case 5:return Se(n.stringValue,e.stringValue);case 6:return function(s,o){let a=cs(s),u=cs(o);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let d=0;d<a.length&&d<u.length;d++){let p=Se(a[d],u[d]);if(p!==0)return p}return Se(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Se(He(s.latitude),He(o.latitude));return a!==0?a:Se(He(s.longitude),He(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return WS(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,d,p;let g=s.fields||{},_=o.fields||{},I=(a=g.value)===null||a===void 0?void 0:a.arrayValue,N=(u=_.value)===null||u===void 0?void 0:u.arrayValue,k=Se(((d=I?.values)===null||d===void 0?void 0:d.length)||0,((p=N?.values)===null||p===void 0?void 0:p.length)||0);return k!==0?k:WS(I,N)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===Rp.mapValue&&o===Rp.mapValue)return 0;if(s===Rp.mapValue)return 1;if(o===Rp.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),d=o.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let g=0;g<u.length&&g<p.length;++g){let _=Se(u[g],p[g]);if(_!==0)return _;let I=Xa(a[u[g]],d[p[g]]);if(I!==0)return I}return Se(u.length,p.length)}(n.mapValue,e.mapValue);default:throw ne()}}function GS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Se(n,e);let t=oi(n),r=oi(e),i=Se(t.seconds,r.seconds);return i!==0?i:Se(t.nanos,r.nanos)}function WS(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=Xa(t[i],r[i]);if(s)return s}return Se(t.length,r.length)}function ec(n){return q_(n)}function q_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=oi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return cs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return J.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=q_(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${q_(t.fields[o])}`;return i+"}"}(n.mapValue):ne()}function KS(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function G_(n){return!!n&&"integerValue"in n}function mE(n){return!!n&&"arrayValue"in n}function QS(n){return!!n&&"nullValue"in n}function YS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Np(n){return!!n&&"mapValue"in n}function AR(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function rl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return wo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=rl(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=rl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function SR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var dn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Np(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rl(t)}setAll(e){let t=hn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=rl(o):i.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());Np(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Dr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Np(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){wo(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(rl(this.value))}};function RR(n){let e=[];return wo(n.fields,(t,r)=>{let i=new hn([t]);if(Np(r)){let s=RR(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Tn(e)}var qn=class n{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ce.min(),ce.min(),ce.min(),dn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ce.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ce.min(),ce.min(),dn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ce.min(),ce.min(),dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var tc=class{constructor(e,t){this.position=e,this.inclusive=t}};function ZS(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),t.key):r=Xa(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function JS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Dr(n.position[t],e.position[t]))return!1;return!0}var nc=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function GH(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var jp=class{},lt=class n extends jp{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new K_(e,t,r):t==="array-contains"?new Z_(e,r):t==="in"?new J_(e,r):t==="not-in"?new X_(e,r):t==="array-contains-any"?new eI(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Q_(e,r):new Y_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Xa(t,this.value)):t!==null&&fo(this.value)===fo(t)&&this.matchesComparison(Xa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Gn=class n extends jp{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return MR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function MR(n){return n.op==="and"}function NR(n){return WH(n)&&MR(n)}function WH(n){for(let e of n.filters)if(e instanceof Gn)return!1;return!0}function W_(n){if(n instanceof lt)return n.field.canonicalString()+n.op.toString()+ec(n.value);if(NR(n))return n.filters.map(e=>W_(e)).join(",");{let e=n.filters.map(t=>W_(t)).join(",");return`${n.op}(${e})`}}function xR(n,e){return n instanceof lt?function(r,i){return i instanceof lt&&r.op===i.op&&r.field.isEqual(i.field)&&Dr(r.value,i.value)}(n,e):n instanceof Gn?function(r,i){return i instanceof Gn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&xR(o,i.filters[a]),!0):!1}(n,e):void ne()}function PR(n){return n instanceof lt?function(t){return`${t.field.canonicalString()} ${t.op} ${ec(t.value)}`}(n):n instanceof Gn?function(t){return t.op.toString()+" {"+t.getFilters().map(PR).join(" ,")+"}"}(n):"Filter"}var K_=class extends lt{constructor(e,t,r){super(e,t,r),this.key=J.fromName(r.referenceValue)}matches(e){let t=J.comparator(e.key,this.key);return this.matchesComparison(t)}},Q_=class extends lt{constructor(e,t){super(e,"in",t),this.keys=OR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Y_=class extends lt{constructor(e,t){super(e,"not-in",t),this.keys=OR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function OR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>J.fromName(r.referenceValue))}var Z_=class extends lt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return mE(t)&&ul(t.arrayValue,this.value)}},J_=class extends lt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&ul(this.value.arrayValue,t)}},X_=class extends lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!ul(this.value.arrayValue,t)}},eI=class extends lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!mE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ul(this.value.arrayValue,r))}};var tI=class{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function XS(n,e=null,t=[],r=[],i=null,s=null,o=null){return new tI(n,e,t,r,i,s,o)}function yE(n){let e=oe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>W_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),fg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ec(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ec(r)).join(",")),e.ue=t}return e.ue}function vE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!GH(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!xR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!JS(n.startAt,e.startAt)&&JS(n.endAt,e.endAt)}function nI(n){return J.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var po=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function KH(n,e,t,r,i,s,o,a){return new po(n,e,t,r,i,s,o,a)}function wE(n){return new po(n)}function eR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function kR(n){return n.collectionGroup!==null}function il(n){let e=oe(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new kt(hn.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new nc(s,r))}),t.has(hn.keyField().canonicalString())||e.ce.push(new nc(hn.keyField(),r))}return e.ce}function Er(n){let e=oe(n);return e.le||(e.le=QH(e,il(n))),e.le}function QH(n,e){if(n.limitType==="F")return XS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new nc(i.field,s)});let t=n.endAt?new tc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new tc(n.startAt.position,n.startAt.inclusive):null;return XS(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function rI(n,e){let t=n.filters.concat([e]);return new po(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function iI(n,e,t){return new po(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function pg(n,e){return vE(Er(n),Er(e))&&n.limitType===e.limitType}function FR(n){return`${yE(Er(n))}|lt:${n.limitType}`}function qa(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>PR(i)).join(", ")}]`),fg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ec(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ec(i)).join(",")),`Target(${r})`}(Er(n))}; limitType=${n.limitType})`}function gg(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):J.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of il(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let d=ZS(o,a,u);return o.inclusive?d<=0:d<0}(r.startAt,il(r),i)||r.endAt&&!function(o,a,u){let d=ZS(o,a,u);return o.inclusive?d>=0:d>0}(r.endAt,il(r),i))}(n,e)}function YH(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function LR(n){return(e,t)=>{let r=!1;for(let i of il(n)){let s=ZH(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function ZH(n,e,t){let r=n.field.isKeyField()?J.comparator(e.key,t.key):function(s,o,a){let u=o.data.field(s),d=a.data.field(s);return u!==null&&d!==null?Xa(u,d):ne()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}var us=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){wo(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return TR(this.inner)}size(){return this.innerSize}};var JH=new Qe(J.comparator);function ai(){return JH}var VR=new Qe(J.comparator);function nl(...n){let e=VR;for(let t of n)e=e.insert(t.key,t);return e}function jR(n){let e=VR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ao(){return sl()}function UR(){return sl()}function sl(){return new us(n=>n.toString(),(n,e)=>n.isEqual(e))}var XH=new Qe(J.comparator),ez=new kt(J.comparator);function we(...n){let e=ez;for(let t of n)e=e.add(t);return e}var tz=new kt(Se);function nz(){return tz}function _E(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:al(e)?"-0":e}}function BR(n){return{integerValue:""+n}}function rz(n,e){return UH(e)?BR(e):_E(n,e)}var rc=class{constructor(){this._=void 0}};function iz(n,e,t){return n instanceof ic?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&pE(s)&&(s=gE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof go?HR(n,e):n instanceof mo?zR(n,e):function(i,s){let o=$R(i,s),a=tR(o)+tR(i.Pe);return G_(o)&&G_(i.Pe)?BR(a):_E(i.serializer,a)}(n,e)}function sz(n,e,t){return n instanceof go?HR(n,e):n instanceof mo?zR(n,e):t}function $R(n,e){return n instanceof sc?function(r){return G_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var ic=class extends rc{},go=class extends rc{constructor(e){super(),this.elements=e}};function HR(n,e){let t=qR(e);for(let r of n.elements)t.some(i=>Dr(i,r))||t.push(r);return{arrayValue:{values:t}}}var mo=class extends rc{constructor(e){super(),this.elements=e}};function zR(n,e){let t=qR(e);for(let r of n.elements)t=t.filter(i=>!Dr(i,r));return{arrayValue:{values:t}}}var sc=class extends rc{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function tR(n){return He(n.integerValue||n.doubleValue)}function qR(n){return mE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function oz(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof go&&i instanceof go||r instanceof mo&&i instanceof mo?Ja(r.elements,i.elements,Dr):r instanceof sc&&i instanceof sc?Dr(r.Pe,i.Pe):r instanceof ic&&i instanceof ic}(n.transform,e.transform)}var sI=class{constructor(e,t){this.version=e,this.transformResults=t}},ii=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function xp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var oc=class{};function GR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Up(n.key,ii.none()):new yo(n.key,n.data,ii.none());{let t=n.data,r=dn.empty(),i=new kt(hn.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Cr(n.key,r,new Tn(i.toArray()),ii.none())}}function az(n,e,t){n instanceof yo?function(i,s,o){let a=i.value.clone(),u=rR(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Cr?function(i,s,o){if(!xp(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=rR(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(WR(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function ol(n,e,t,r){return n instanceof yo?function(s,o,a,u){if(!xp(s.precondition,o))return a;let d=s.value.clone(),p=iR(s.fieldTransforms,u,o);return d.setAll(p),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof Cr?function(s,o,a,u){if(!xp(s.precondition,o))return a;let d=iR(s.fieldTransforms,u,o),p=o.data;return p.setAll(WR(s)),p.setAll(d),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(s,o,a){return xp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function cz(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=$R(r.transform,i||null);s!=null&&(t===null&&(t=dn.empty()),t.set(r.field,s))}return t||null}function nR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ja(r,i,(s,o)=>oz(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var yo=class extends oc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Cr=class extends oc{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function WR(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function rR(n,e,t){let r=new Map;Oe(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,sz(o,a,t[i]))}return r}function iR(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,iz(s,o,e))}return r}var Up=class extends oc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},oI=class extends oc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var aI=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&az(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=ol(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=ol(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=UR();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;let u=GR(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),we())}isEqual(e){return this.batchId===e.batchId&&Ja(this.mutations,e.mutations,(t,r)=>nR(t,r))&&Ja(this.baseMutations,e.baseMutations,(t,r)=>nR(t,r))}},cI=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Oe(e.mutations.length===r.length);let i=function(){return XH}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var uI=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var lI=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var ct,De;function uz(n){switch(n){default:return ne();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function KR(n){if(n===void 0)return si("GRPC error has no .code"),F.UNKNOWN;switch(n){case ct.OK:return F.OK;case ct.CANCELLED:return F.CANCELLED;case ct.UNKNOWN:return F.UNKNOWN;case ct.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case ct.INTERNAL:return F.INTERNAL;case ct.UNAVAILABLE:return F.UNAVAILABLE;case ct.UNAUTHENTICATED:return F.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case ct.NOT_FOUND:return F.NOT_FOUND;case ct.ALREADY_EXISTS:return F.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return F.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case ct.ABORTED:return F.ABORTED;case ct.OUT_OF_RANGE:return F.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return F.UNIMPLEMENTED;case ct.DATA_LOSS:return F.DATA_LOSS;default:return ne()}}(De=ct||(ct={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";var sR=null;function lz(){return new TextEncoder}var dz=new os([4294967295,4294967295],0);function oR(n){let e=lz().encode(n),t=new C_;return t.update(e),new Uint8Array(t.digest())}function aR(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new os([t,r],0),new os([i,s],0)]}var dI=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new co(`Invalid padding: ${t}`);if(r<0)throw new co(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new co(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new co(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=os.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(os.fromNumber(r)));return i.compare(dz)===1&&(i=new os([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=oR(e),[r,i]=aR(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let t=oR(e),[r,i]=aR(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},co=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Bp=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,ll.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ce.min(),i,new Qe(Se),ai(),we())}},ll=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,we(),we(),we())}};var Qa=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},$p=class{constructor(e,t){this.targetId=e,this.me=t}},Hp=class{constructor(e,t,r=Ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},zp=class{constructor(){this.fe=0,this.ge=uR(),this.pe=Ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=we(),t=we(),r=we();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ne()}}),new ll(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=uR()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Oe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},hI=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=ai(),this.qe=cR(),this.Qe=new Qe(Se)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:ne()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let s=i.target;if(nI(s))if(r===0){let o=new J(s.path);this.Ue(t,o,qn.newNoDocument(o,ce.min()))}else Oe(r===1);else{let o=this.Ye(t);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(t);let d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,d)}sR?.et(function(p,g,_,I,N){var k,x,V,K,H,re;let _e={localCacheCount:p,existenceFilterCount:g.count,databaseId:_.database,projectId:_.projectId},Z=g.unchangedNames;return Z&&(_e.bloomFilter={applied:N===0,hashCount:(k=Z?.hashCount)!==null&&k!==void 0?k:0,bitmapLength:(K=(V=(x=Z?.bits)===null||x===void 0?void 0:x.bitmap)===null||V===void 0?void 0:V.length)!==null&&K!==void 0?K:0,padding:(re=(H=Z?.bits)===null||H===void 0?void 0:H.padding)!==null&&re!==void 0?re:0,mightContain:T=>{var E;return(E=I?.mightContain(T))!==null&&E!==void 0&&E}}),_e}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,a;try{o=cs(r).toUint8Array()}catch(u){if(u instanceof Lp)return Za("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new dI(o,i,s)}catch(u){return Za(u instanceof co?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&nI(a.target)){let u=new J(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,qn.newNoDocument(u,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let r=we();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Bp(e,t,this.Qe,this.ke,r);return this.ke=ai(),this.qe=cR(),this.Qe=new Qe(Se),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new zp,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new kt(Se),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||W("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new zp),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function cR(){return new Qe(J.comparator)}function uR(){return new Qe(J.comparator)}var hz={asc:"ASCENDING",desc:"DESCENDING"},fz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pz={and:"AND",or:"OR"},fI=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function pI(n,e){return n.useProto3Json||fg(e)?e:{value:e}}function qp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function gz(n,e){return qp(n,e.toTimestamp())}function br(n){return Oe(!!n),ce.fromTimestamp(function(t){let r=oi(t);return new St(r.seconds,r.nanos)}(n))}function IE(n,e){return gI(n,e).canonicalString()}function gI(n,e){let t=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function YR(n){let e=qe.fromString(n);return Oe(tM(e)),e}function mI(n,e){return IE(n.databaseId,e.path)}function N_(n,e){let t=YR(e);if(t.get(1)!==n.databaseId.projectId)throw new q(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new q(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new J(JR(t))}function ZR(n,e){return IE(n.databaseId,e)}function mz(n){let e=YR(n);return e.length===4?qe.emptyPath():JR(e)}function yI(n){return new qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function JR(n){return Oe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function lR(n,e,t){return{name:mI(n,e),fields:t.value.mapValue.fields}}function yz(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,p){return d.useProto3Json?(Oe(p===void 0||typeof p=="string"),Ft.fromBase64String(p||"")):(Oe(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Ft.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){let p=d.code===void 0?F.UNKNOWN:KR(d.code);return new q(p,d.message||"")}(o);t=new Hp(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=N_(n,r.document.name),s=br(r.document.updateTime),o=r.document.createTime?br(r.document.createTime):ce.min(),a=new dn({mapValue:{fields:r.document.fields}}),u=qn.newFoundDocument(i,s,o,a),d=r.targetIds||[],p=r.removedTargetIds||[];t=new Qa(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=N_(n,r.document),s=r.readTime?br(r.readTime):ce.min(),o=qn.newNoDocument(i,s),a=r.removedTargetIds||[];t=new Qa([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=N_(n,r.document),s=r.removedTargetIds||[];t=new Qa([],s,i,null)}else{if(!("filter"in e))return ne();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new lI(i,s),a=r.targetId;t=new $p(a,o)}}return t}function vz(n,e){let t;if(e instanceof yo)t={update:lR(n,e.key,e.value)};else if(e instanceof Up)t={delete:mI(n,e.key)};else if(e instanceof Cr)t={update:lR(n,e.key,e.data),updateMask:Az(e.fieldMask)};else{if(!(e instanceof oI))return ne();t={verify:mI(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof ic)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof go)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof mo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof sc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ne()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:gz(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ne()}(n,e.precondition)),t}function wz(n,e){return n&&n.length>0?(Oe(e!==void 0),n.map(t=>function(i,s){let o=i.updateTime?br(i.updateTime):br(s);return o.isEqual(ce.min())&&(o=br(s)),new sI(o,i.transformResults||[])}(t,e))):[]}function _z(n,e){return{documents:[ZR(n,e.path)]}}function Iz(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=ZR(n,i);let s=function(d){if(d.length!==0)return eM(Gn.create(d,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(d){if(d.length!==0)return d.map(p=>function(_){return{field:Ga(_.field),direction:Dz(_.dir)}}(p))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=pI(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:t,parent:i}}function Ez(n){let e=mz(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Oe(r===1);let p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];t.where&&(s=function(g){let _=XR(g);return _ instanceof Gn&&NR(_)?_.getFilters():[_]}(t.where));let o=[];t.orderBy&&(o=function(g){return g.map(_=>function(N){return new nc(Wa(N.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(_))}(t.orderBy));let a=null;t.limit&&(a=function(g){let _;return _=typeof g=="object"?g.value:g,fg(_)?null:_}(t.limit));let u=null;t.startAt&&(u=function(g){let _=!!g.before,I=g.values||[];return new tc(I,_)}(t.startAt));let d=null;return t.endAt&&(d=function(g){let _=!g.before,I=g.values||[];return new tc(I,_)}(t.endAt)),KH(e,i,o,s,a,"F",u,d)}function bz(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function XR(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Wa(t.unaryFilter.field);return lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Wa(t.unaryFilter.field);return lt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Wa(t.unaryFilter.field);return lt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Wa(t.unaryFilter.field);return lt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(n):n.fieldFilter!==void 0?function(t){return lt.create(Wa(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Gn.create(t.compositeFilter.filters.map(r=>XR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne()}}(t.compositeFilter.op))}(n):ne()}function Dz(n){return hz[n]}function Cz(n){return fz[n]}function Tz(n){return pz[n]}function Ga(n){return{fieldPath:n.canonicalString()}}function Wa(n){return hn.fromServerFormat(n.fieldPath)}function eM(n){return n instanceof lt?function(t){if(t.op==="=="){if(YS(t.value))return{unaryFilter:{field:Ga(t.field),op:"IS_NAN"}};if(QS(t.value))return{unaryFilter:{field:Ga(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(YS(t.value))return{unaryFilter:{field:Ga(t.field),op:"IS_NOT_NAN"}};if(QS(t.value))return{unaryFilter:{field:Ga(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(t.field),op:Cz(t.op),value:t.value}}}(n):n instanceof Gn?function(t){let r=t.getFilters().map(i=>eM(i));return r.length===1?r[0]:{compositeFilter:{op:Tz(t.op),filters:r}}}(n):ne()}function Az(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function tM(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var dl=class n{constructor(e,t,r,i,s=ce.min(),o=ce.min(),a=Ft.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var vI=class{constructor(e){this.ct=e}};function Sz(n){let e=Ez({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?iI(e,e.limit,"L"):e}var Gp=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(He(e.integerValue));else if("doubleValue"in e){let r=He(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),al(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=oi(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(cs(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?SR(e)?this.dt(t,Number.MAX_SAFE_INTEGER):AR(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ne()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let s=e.fields||{};this.dt(t,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(He(a)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),J.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Gp.vt=new Gp;var wI=class{constructor(){this.un=new _I}addToCollectionParentIndex(e,t){return this.un.add(t),j.resolve()}getCollectionParents(e,t){return j.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return j.resolve()}deleteFieldIndex(e,t){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,t){return j.resolve()}getDocumentsMatchingTarget(e,t){return j.resolve(null)}getIndexType(e,t){return j.resolve(0)}getFieldIndexes(e,t){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,t){return j.resolve(ho.min())}getMinOffsetFromCollectionGroup(e,t){return j.resolve(ho.min())}updateCollectionGroup(e,t,r){return j.resolve()}updateIndexEntries(e,t){return j.resolve()}},_I=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new kt(qe.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kt(qe.comparator)).toArray()}};var FQ=new Uint8Array(0);var wr=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};wr.DEFAULT_COLLECTION_PERCENTILE=10,wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wr.DEFAULT=new wr(41943040,wr.DEFAULT_COLLECTION_PERCENTILE,wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wr.DISABLED=new wr(-1,0,0);var hl=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var II=class{constructor(){this.changes=new us(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?j.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var EI=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var bI=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&ol(r.mutation,i,Tn.empty(),St.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,t,r=we()){let i=ao();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=nl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=ao();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,we()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=ai(),o=sl(),a=function(){return sl()}();return t.forEach((u,d)=>{let p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof Cr)?s=s.insert(d.key,d):p!==void 0?(o.set(d.key,p.mutation.getFieldMask()),ol(p.mutation,d,p.mutation.getFieldMask(),St.now())):o.set(d.key,Tn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,p)=>o.set(d,p)),t.forEach((d,p)=>{var g;return a.set(d,new EI(p,(g=o.get(d))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(e,t){let r=sl(),i=new Qe((o,a)=>o-a),s=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(u=>{let d=t.get(u);if(d===null)return;let p=r.get(u)||Tn.empty();p=a.applyToLocalView(d,p),r.set(u,p);let g=(i.get(a.batchId)||we()).add(u);i=i.insert(a.batchId,g)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),d=u.key,p=u.value,g=UR();p.forEach(_=>{if(!s.has(_)){let I=GR(t.get(_),r.get(_));I!==null&&g.set(_,I),s=s.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):kR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):j.resolve(ao()),a=-1,u=s;return o.next(d=>j.forEach(d,(p,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(p)?j.resolve():this.remoteDocumentCache.getEntry(e,p).next(_=>{u=u.insert(p,_)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,we())).next(p=>({batchId:a,changes:jR(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new J(t)).next(r=>{let i=nl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=nl();return this.indexManager.getCollectionParents(e,s).next(a=>j.forEach(a,u=>{let d=function(g,_){return new po(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((g,_)=>{o=o.insert(g,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((u,d)=>{let p=d.getKey();o.get(p)===null&&(o=o.insert(p,qn.newInvalidDocument(p)))});let a=nl();return o.forEach((u,d)=>{let p=s.get(u);p!==void 0&&ol(p.mutation,d,Tn.empty(),St.now()),gg(t,d)&&(a=a.insert(u,d))}),a})}};var DI=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return j.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:br(i.createTime)}}(t)),j.resolve()}getNamedQuery(e,t){return j.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:Sz(i.bundledQuery),readTime:br(i.readTime)}}(t)),j.resolve()}};var CI=class{constructor(){this.overlays=new Qe(J.comparator),this.Ir=new Map}getOverlay(e,t){return j.resolve(this.overlays.get(t))}getOverlays(e,t){let r=ao();return j.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),j.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),j.resolve()}getOverlaysForCollection(e,t,r){let i=ao(),s=t.length+1,o=new J(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,d=u.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return j.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Qe((d,p)=>d-p),o=this.overlays.getIterator();for(;o.hasNext();){let d=o.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let p=s.get(d.largestBatchId);p===null&&(p=ao(),s=s.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}let a=ao(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>a.set(d,p)),!(a.size()>=i)););return j.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new uI(t,r));let s=this.Ir.get(t);s===void 0&&(s=we(),this.Ir.set(t,s)),this.Ir.set(t,s.add(r.key))}};var TI=class{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,j.resolve()}};var fl=class{constructor(){this.Tr=new kt(ut.Er),this.dr=new kt(ut.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new ut(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new ut(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new J(new qe([])),r=new ut(t,e),i=new ut(t,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new J(new qe([])),r=new ut(t,e),i=new ut(t,e+1),s=we();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new ut(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},ut=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return J.comparator(e.key,t.key)||Se(e.wr,t.wr)}static Ar(e,t){return Se(e.wr,t.wr)||J.comparator(e.key,t.key)}};var AI=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new kt(ut.Er)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new aI(s,t,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new ut(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,t){return j.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),s=i<0?0:i;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new ut(t,0),i=new ut(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new kt(Se);return t.forEach(i=>{let s=new ut(i,0),o=new ut(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),j.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;J.isDocumentKey(s)||(s=s.child(""));let o=new ut(new J(s),0),a=new kt(Se);return this.br.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(u.wr)),!0)},o),j.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Oe(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return j.forEach(t.mutations,i=>{let s=new ut(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new ut(t,0),i=this.br.firstAfterOrEqual(r);return j.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var SI=class{constructor(e){this.Mr=e,this.docs=function(){return new Qe(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return j.resolve(r?r.document.mutableCopy():qn.newInvalidDocument(t))}getEntries(e,t){let r=ai();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():qn.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=ai(),o=t.path,a=new J(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:d,value:{document:p}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||LH(FH(p),r)<=0||(i.has(p.key)||gg(t,p))&&(s=s.insert(p.key,p.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,t,r,i){ne()}Or(e,t){return j.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new RI(this)}getSize(e){return j.resolve(this.size)}},RI=class extends II{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),j.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var MI=class{constructor(e){this.persistence=e,this.Nr=new us(t=>yE(t),vE),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new fl,this.targetCount=0,this.kr=hl.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),j.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new hl(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,j.resolve()}updateTargetData(e,t){return this.Kn(t),j.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),j.waitFor(s).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return j.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),j.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),j.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return j.resolve(r)}containsKey(e,t){return j.resolve(this.Br.containsKey(t))}};var NI=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new CR(0),this.Kr=!1,this.Kr=!0,this.$r=new TI,this.referenceDelegate=e(this),this.Ur=new MI(this),this.indexManager=new wI,this.remoteDocumentCache=function(i){return new SI(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new vI(t),this.Gr=new DI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new CI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new AI(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){W("MemoryPersistence","Starting transaction:",e);let i=new xI(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,t){return j.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},xI=class extends H_{constructor(e){super(),this.currentSequenceNumber=e}},PI=class n{constructor(e){this.persistence=e,this.Jr=new fl,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw ne()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),j.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),j.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.Xr,r=>{let i=J.fromPath(r);return this.ei(e,i).next(s=>{s||t.removeEntry(i,ce.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return j.or([()=>j.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var OI=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=we(),i=we();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var kI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var FI=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return AA()?8:jH(_t())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new kI;return this.Xi(e,t,o).next(a=>{if(s.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>s.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(tl()<=ve.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",qa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),j.resolve()):(tl()<=ve.DEBUG&&W("QueryEngine","Query:",qa(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(tl()<=ve.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",qa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Er(t))):j.resolve())}Yi(e,t){if(eR(t))return j.resolve(null);let r=Er(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=iI(t,null,"F"),r=Er(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=we(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.ts(t,a);return this.ns(t,d,o,u.readTime)?this.Yi(e,iI(t,null,"F")):this.rs(e,d,t,u)}))})))}Zi(e,t,r,i){return eR(t)||i.isEqual(ce.min())?j.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(t,s);return this.ns(t,o,r,i)?j.resolve(null):(tl()<=ve.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qa(t)),this.rs(e,o,t,kH(i,-1)).next(a=>a))})}ts(e,t){let r=new kt(LR(e));return t.forEach((i,s)=>{gg(e,s)&&(r=r.add(s))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,r){return tl()<=ve.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",qa(t)),this.Ji.getDocumentsMatchingQuery(e,t,ho.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var LI=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Qe(Se),this._s=new us(s=>yE(s),vE),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function Rz(n,e,t,r){return new LI(n,e,t,r)}function nM(n,e){return C(this,null,function*(){let t=oe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=we();for(let d of i){o.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}for(let d of s){a.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}return t.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:a}))})})})}function Mz(n,e){let t=oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,d,p){let g=d.batch,_=g.keys(),I=j.resolve();return _.forEach(N=>{I=I.next(()=>p.getEntry(u,N)).next(k=>{let x=d.docVersions.get(N);Oe(x!==null),k.version.compareTo(x)<0&&(g.applyToRemoteDocument(k,d),k.isValidDocument()&&(k.setReadTime(d.commitVersion),p.addEntry(k)))})}),I.next(()=>a.mutationQueue.removeMutationBatch(u,g))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=we();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(u=u.add(a.batch.mutations[d].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function rM(n){let e=oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function Nz(n,e){let t=oe(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((p,g)=>{let _=i.get(g);if(!_)return;a.push(t.Ur.removeMatchingKeys(s,p.removedDocuments,g).next(()=>t.Ur.addMatchingKeys(s,p.addedDocuments,g)));let I=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?I=I.withResumeToken(Ft.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):p.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(p.resumeToken,r)),i=i.insert(g,I),function(k,x,V){return k.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(_,I,p)&&a.push(t.Ur.updateTargetData(s,I))});let u=ai(),d=we();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,p))}),a.push(xz(s,o,e.documentUpdates).next(p=>{u=p.Ps,d=p.Is})),!r.isEqual(ce.min())){let p=t.Ur.getLastRemoteSnapshotVersion(s).next(g=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(p)}return j.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(t.os=i,s))}function xz(n,e,t){let r=we(),i=we();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=ai();return t.forEach((a,u)=>{let d=s.get(a);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ce.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):W("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function Pz(n,e){let t=oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Oz(n,e){let t=oe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(s=>s?(i=s,j.resolve(i)):t.Ur.allocateTargetId(r).next(o=>(i=new dl(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function VI(n,e,t){return C(this,null,function*(){let r=oe(n),i=r.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Il(o))throw o;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function dR(n,e,t){let r=oe(n),i=ce.min(),s=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,p){let g=oe(u),_=g._s.get(p);return _!==void 0?j.resolve(g.os.get(_)):g.Ur.getTargetData(d,p)}(r,o,Er(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?i:ce.min(),t?s:we())).next(a=>(kz(r,YH(e),a),{documents:a,Ts:s})))}function kz(n,e,t){let r=n.us.get(e)||ce.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.us.set(e,r)}var Wp=class{constructor(){this.activeTargetIds=nz()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var jI=class{constructor(){this.so=new Wp,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Wp,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var UI=class{_o(e){}shutdown(){}};var Kp=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Mp=null;function x_(){return Mp===null?Mp=function(){return 268435456+Math.round(2147483648*Math.random())}():Mp++,"0x"+Mp.toString(16)}var Fz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var BI=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Ot="WebChannelConnection",$I=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,r,i,s,o){let a=x_(),u=this.xo(t,r.toUriEncodedString());W("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,s,o),this.No(t,u,d,i).then(p=>(W("RestConnection",`Received RPC '${t}' ${a}: `,p),p),p=>{throw Za("RestConnection",`RPC '${t}' ${a} failed with error: `,p,"url: ",u,"request:",i),p})}Lo(t,r,i,s,o,a){return this.Mo(t,r,i,s,o)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lc}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}xo(t,r){let i=Fz[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let s=x_();return new Promise((o,a)=>{let u=new T_;u.setWithCredentials(!0),u.listenOnce(A_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case el.NO_ERROR:let p=u.getResponseJson();W(Ot,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),o(p);break;case el.TIMEOUT:W(Ot,`RPC '${e}' ${s} timed out`),a(new q(F.DEADLINE_EXCEEDED,"Request time out"));break;case el.HTTP_ERROR:let g=u.getStatus();if(W(Ot,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let I=_?.error;if(I&&I.status&&I.message){let N=function(x){let V=x.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(V)>=0?V:F.UNKNOWN}(I.status);a(new q(N,I.message))}else a(new q(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new q(F.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{W(Ot,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);W(Ot,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",d,r,15)})}Bo(e,t,r){let i=x_(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=M_(),a=R_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let p=s.join("");W(Ot,`Creating RPC '${e}' stream ${i}: ${p}`,u);let g=o.createWebChannel(p,u),_=!1,I=!1,N=new BI({Io:x=>{I?W(Ot,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(_||(W(Ot,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),W(Ot,`RPC '${e}' stream ${i} sending:`,x),g.send(x))},To:()=>g.close()}),k=(x,V,K)=>{x.listen(V,H=>{try{K(H)}catch(re){setTimeout(()=>{throw re},0)}})};return k(g,za.EventType.OPEN,()=>{I||(W(Ot,`RPC '${e}' stream ${i} transport opened.`),N.yo())}),k(g,za.EventType.CLOSE,()=>{I||(I=!0,W(Ot,`RPC '${e}' stream ${i} transport closed`),N.So())}),k(g,za.EventType.ERROR,x=>{I||(I=!0,Za(Ot,`RPC '${e}' stream ${i} transport errored:`,x),N.So(new q(F.UNAVAILABLE,"The operation could not be completed")))}),k(g,za.EventType.MESSAGE,x=>{var V;if(!I){let K=x.data[0];Oe(!!K);let H=K,re=H.error||((V=H[0])===null||V===void 0?void 0:V.error);if(re){W(Ot,`RPC '${e}' stream ${i} received error:`,re);let _e=re.status,Z=function(b){let A=ct[b];if(A!==void 0)return KR(A)}(_e),T=re.message;Z===void 0&&(Z=F.INTERNAL,T="Unknown error status: "+_e+" with message "+re.message),I=!0,N.So(new q(Z,T)),g.close()}else W(Ot,`RPC '${e}' stream ${i} received:`,K),N.bo(K)}}),k(a,S_.STAT_EVENT,x=>{x.stat===Sp.PROXY?W(Ot,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Sp.NOPROXY&&W(Ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{N.wo()},0),N}};function P_(){return typeof document<"u"?document:null}function mg(n){return new fI(n,!0)}var Qp=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Yp=class{constructor(e,t,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Qp(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return C(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return C(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return C(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===F.RESOURCE_EXHAUSTED?(si(t.toString()),si("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new q(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>C(this,null,function*(){this.state=0,this.start()}))}I_(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},HI=class extends Yp{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=yz(this.serializer,e),r=function(s){if(!("targetChange"in s))return ce.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?br(o.readTime):ce.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=yI(this.serializer),t.addTarget=function(s,o){let a,u=o.target;if(a=nI(u)?{documents:_z(s,u)}:{query:Iz(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=QR(s,o.resumeToken);let d=pI(s,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(ce.min())>0){a.readTime=qp(s,o.snapshotVersion.toTimestamp());let d=pI(s,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);let r=bz(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=yI(this.serializer),t.removeTarget=e,this.a_(t)}},zI=class extends Yp{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=wz(e.writeResults,e.commitTime),r=br(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=yI(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>vz(this.serializer,r))};this.a_(t)}};var qI=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new q(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,gI(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(F.UNKNOWN,s.toString())})}Lo(e,t,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,gI(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(F.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},GI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(si(t),this.D_=!1):W("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var WI=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>C(this,null,function*(){_o(this)&&(W("RemoteStore","Restarting streams for network reachability change."),yield function(u){return C(this,null,function*(){let d=oe(u);d.L_.add(4),yield El(d),d.q_.set("Unknown"),d.L_.delete(4),yield yg(d)})}(this))}))}),this.q_=new GI(r,i)}};function yg(n){return C(this,null,function*(){if(_o(n))for(let e of n.B_)yield e(!0)})}function El(n){return C(this,null,function*(){for(let e of n.B_)yield e(!1)})}function iM(n,e){let t=oe(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),CE(t)?DE(t):dc(t).r_()&&bE(t,e))}function EE(n,e){let t=oe(n),r=dc(t);t.N_.delete(e),r.r_()&&sM(t,e),t.N_.size===0&&(r.r_()?r.o_():_o(t)&&t.q_.set("Unknown"))}function bE(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}dc(n).A_(e)}function sM(n,e){n.Q_.xe(e),dc(n).R_(e)}function DE(n){n.Q_=new hI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),dc(n).start(),n.q_.v_()}function CE(n){return _o(n)&&!dc(n).n_()&&n.N_.size>0}function _o(n){return oe(n).L_.size===0}function oM(n){n.Q_=void 0}function Lz(n){return C(this,null,function*(){n.q_.set("Online")})}function Vz(n){return C(this,null,function*(){n.N_.forEach((e,t)=>{bE(n,e)})})}function jz(n,e){return C(this,null,function*(){oM(n),CE(n)?(n.q_.M_(e),DE(n)):n.q_.set("Unknown")})}function Uz(n,e,t){return C(this,null,function*(){if(n.q_.set("Online"),e instanceof Hp&&e.state===2&&e.cause)try{yield function(i,s){return C(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Zp(n,r)}else if(e instanceof Qa?n.Q_.Ke(e):e instanceof $p?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ce.min()))try{let r=yield rM(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){let p=s.N_.get(d);p&&s.N_.set(d,p.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,d)=>{let p=s.N_.get(u);if(!p)return;s.N_.set(u,p.withResumeToken(Ft.EMPTY_BYTE_STRING,p.snapshotVersion)),sM(s,u);let g=new dl(p.target,u,d,p.sequenceNumber);bE(s,g)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){W("RemoteStore","Failed to raise snapshot:",r),yield Zp(n,r)}})}function Zp(n,e,t){return C(this,null,function*(){if(!Il(e))throw e;n.L_.add(1),yield El(n),n.q_.set("Offline"),t||(t=()=>rM(n.localStore)),n.asyncQueue.enqueueRetryable(()=>C(this,null,function*(){W("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield yg(n)}))})}function aM(n,e){return e().catch(t=>Zp(n,t,e))}function vg(n){return C(this,null,function*(){let e=oe(n),t=ls(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Bz(e);)try{let i=yield Pz(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,$z(e,i)}catch(i){yield Zp(e,i)}cM(e)&&uM(e)})}function Bz(n){return _o(n)&&n.O_.length<10}function $z(n,e){n.O_.push(e);let t=ls(n);t.r_()&&t.V_&&t.m_(e.mutations)}function cM(n){return _o(n)&&!ls(n).n_()&&n.O_.length>0}function uM(n){ls(n).start()}function Hz(n){return C(this,null,function*(){ls(n).p_()})}function zz(n){return C(this,null,function*(){let e=ls(n);for(let t of n.O_)e.m_(t.mutations)})}function qz(n,e,t){return C(this,null,function*(){let r=n.O_.shift(),i=cI.from(r,e,t);yield aM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield vg(n)})}function Gz(n,e){return C(this,null,function*(){e&&ls(n).V_&&(yield function(r,i){return C(this,null,function*(){if(function(o){return uz(o)&&o!==F.ABORTED}(i.code)){let s=r.O_.shift();ls(r).s_(),yield aM(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield vg(r)}})}(n,e)),cM(n)&&uM(n)})}function hR(n,e){return C(this,null,function*(){let t=oe(n);t.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");let r=_o(t);t.L_.add(3),yield El(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield yg(t)})}function Wz(n,e){return C(this,null,function*(){let t=oe(n);e?(t.L_.delete(2),yield yg(t)):e||(t.L_.add(2),yield El(t),t.q_.set("Unknown"))})}function dc(n){return n.K_||(n.K_=function(t,r,i){let s=oe(t);return s.w_(),new HI(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:Lz.bind(null,n),Ro:Vz.bind(null,n),mo:jz.bind(null,n),d_:Uz.bind(null,n)}),n.B_.push(e=>C(this,null,function*(){e?(n.K_.s_(),CE(n)?DE(n):n.q_.set("Unknown")):(yield n.K_.stop(),oM(n))}))),n.K_}function ls(n){return n.U_||(n.U_=function(t,r,i){let s=oe(t);return s.w_(),new zI(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Hz.bind(null,n),mo:Gz.bind(null,n),f_:zz.bind(null,n),g_:qz.bind(null,n)}),n.B_.push(e=>C(this,null,function*(){e?(n.U_.s_(),yield vg(n)):(yield n.U_.stop(),n.O_.length>0&&(W("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var KI=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,a=new n(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function TE(n,e){if(si("AsyncQueue",`${e}: ${n}`),Il(n))return new q(F.UNAVAILABLE,`${e}: ${n}`);throw n}var Jp=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||J.comparator(t.key,r.key):(t,r)=>J.comparator(t.key,r.key),this.keyedMap=nl(),this.sortedSet=new Qe(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Xp=class{constructor(){this.W_=new Qe(J.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ne():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},ac=class n{constructor(e,t,r,i,s,o,a,u,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,Jp.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var QI=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},YI=class{constructor(){this.queries=fR(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=oe(t),s=i.queries;i.queries=fR(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new q(F.ABORTED,"Firestore shutting down"))}};function fR(){return new us(n=>FR(n),pg)}function lM(n,e){return C(this,null,function*(){let t=oe(n),r=3,i=e.query,s=t.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new QI,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield t.onListen(i,!0);break;case 1:s.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){let a=TE(o,`Initialization of query '${qa(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&AE(t)})}function dM(n,e){return C(this,null,function*(){let t=oe(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function Kz(n,e){let t=oe(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&AE(t)}function Qz(n,e,t){let r=oe(n),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(t);r.queries.delete(e)}function AE(n){n.Y_.forEach(e=>{e.next()})}var ZI,pR;(pR=ZI||(ZI={})).ea="default",pR.Cache="cache";var eg=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ac(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=ac.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ZI.Cache}};var tg=class{constructor(e){this.key=e}},ng=class{constructor(e){this.key=e}},JI=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=we(),this.mutatedKeys=we(),this.Aa=LR(e),this.Ra=new Jp(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new Xp,i=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{let _=i.get(p),I=gg(this.query,g)?g:null,N=!!_&&this.mutatedKeys.has(_.key),k=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations),x=!1;_&&I?_.data.isEqual(I.data)?N!==k&&(r.track({type:3,doc:I}),x=!0):this.ga(_,I)||(r.track({type:2,doc:I}),x=!0,(u&&this.Aa(I,u)>0||d&&this.Aa(I,d)<0)&&(a=!0)):!_&&I?(r.track({type:0,doc:I}),x=!0):_&&!I&&(r.track({type:1,doc:_}),x=!0,(u||d)&&(a=!0)),x&&(I?(o=o.add(I),s=k?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((p,g)=>function(I,N){let k=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return k(I)-k(N)}(p.type,g.type)||this.Aa(p.doc,g.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,d=u!==this.Ea;return this.Ea=u,o.length!==0||d?{snapshot:new ac(this.query,e.Ra,s,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Xp,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=we(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new ng(r))}),this.da.forEach(r=>{e.has(r)||t.push(new tg(r))}),t}ba(e){this.Ta=e.Ts,this.da=we();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return ac.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},XI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},eE=class{constructor(e){this.key=e,this.va=!1}},tE=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new us(a=>FR(a),pg),this.Ma=new Map,this.xa=new Set,this.Oa=new Qe(J.comparator),this.Na=new Map,this.La=new fl,this.Ba={},this.ka=new Map,this.qa=hl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function Yz(n,e,t=!0){return C(this,null,function*(){let r=yM(n),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield hM(r,e,t,!0),i})}function Zz(n,e){return C(this,null,function*(){let t=yM(n);yield hM(t,e,!0,!1)})}function hM(n,e,t,r){return C(this,null,function*(){let i=yield Oz(n.localStore,Er(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),a;return r&&(a=yield Jz(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&iM(n.remoteStore,i),a})}function Jz(n,e,t,r,i){return C(this,null,function*(){n.Ka=(g,_,I)=>function(k,x,V,K){return C(this,null,function*(){let H=x.view.ma(V);H.ns&&(H=yield dR(k.localStore,x.query,!1).then(({documents:T})=>x.view.ma(T,H)));let re=K&&K.targetChanges.get(x.targetId),_e=K&&K.targetMismatches.get(x.targetId)!=null,Z=x.view.applyChanges(H,k.isPrimaryClient,re,_e);return mR(k,x.targetId,Z.wa),Z.snapshot})}(n,g,_,I);let s=yield dR(n.localStore,e,!0),o=new JI(e,s.Ts),a=o.ma(s.documents),u=ll.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=o.applyChanges(a,n.isPrimaryClient,u);mR(n,t,d.wa);let p=new XI(e,t,o);return n.Fa.set(e,p),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),d.snapshot})}function Xz(n,e,t){return C(this,null,function*(){let r=oe(n),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!pg(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield VI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&EE(r.remoteStore,i.targetId),nE(r,i.targetId)}).catch(_l))):(nE(r,i.targetId),yield VI(r.localStore,i.targetId,!0))})}function eq(n,e){return C(this,null,function*(){let t=oe(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),EE(t.remoteStore,r.targetId))})}function tq(n,e,t){return C(this,null,function*(){let r=cq(n);try{let i=yield function(o,a){let u=oe(o),d=St.now(),p=a.reduce((I,N)=>I.add(N.key),we()),g,_;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let N=ai(),k=we();return u.cs.getEntries(I,p).next(x=>{N=x,N.forEach((V,K)=>{K.isValidDocument()||(k=k.add(V))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,N)).next(x=>{g=x;let V=[];for(let K of a){let H=cz(K,g.get(K.key).overlayedDocument);H!=null&&V.push(new Cr(K.key,H,RR(H.value.mapValue),ii.exists(!0)))}return u.mutationQueue.addMutationBatch(I,d,V,a)}).next(x=>{_=x;let V=x.applyToLocalDocumentSet(g,k);return u.documentOverlayCache.saveOverlays(I,x.batchId,V)})}).then(()=>({batchId:_.batchId,changes:jR(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let d=o.Ba[o.currentUser.toKey()];d||(d=new Qe(Se)),d=d.insert(a,u),o.Ba[o.currentUser.toKey()]=d}(r,i.batchId,t),yield bl(r,i.changes),yield vg(r.remoteStore)}catch(i){let s=TE(i,"Failed to persist write");t.reject(s)}})}function fM(n,e){return C(this,null,function*(){let t=oe(n);try{let r=yield Nz(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.Na.get(s);o&&(Oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Oe(o.va):i.removedDocuments.size>0&&(Oe(o.va),o.va=!1))}),yield bl(t,r,e)}catch(r){yield _l(r)}})}function gR(n,e,t){let r=oe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=oe(o);u.onlineState=a;let d=!1;u.queries.forEach((p,g)=>{for(let _ of g.j_)_.Z_(a)&&(d=!0)}),d&&AE(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function nq(n,e,t){return C(this,null,function*(){let r=oe(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Qe(J.comparator);o=o.insert(s,qn.newNoDocument(s,ce.min()));let a=we().add(s),u=new Bp(ce.min(),new Map,new Qe(Se),o,a);yield fM(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),SE(r)}else yield VI(r.localStore,e,!1).then(()=>nE(r,e,t)).catch(_l)})}function rq(n,e){return C(this,null,function*(){let t=oe(n),r=e.batch.batchId;try{let i=yield Mz(t.localStore,e);gM(t,r,null),pM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield bl(t,i)}catch(i){yield _l(i)}})}function iq(n,e,t){return C(this,null,function*(){let r=oe(n);try{let i=yield function(o,a){let u=oe(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return u.mutationQueue.lookupMutationBatch(d,a).next(g=>(Oe(g!==null),p=g.keys(),u.mutationQueue.removeMutationBatch(d,g))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>u.localDocuments.getDocuments(d,p))})}(r.localStore,e);gM(r,e,t),pM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield bl(r,i)}catch(i){yield _l(i)}})}function pM(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function gM(n,e,t){let r=oe(n),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function nE(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||mM(n,r)})}function mM(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(EE(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),SE(n))}function mR(n,e,t){for(let r of t)r instanceof tg?(n.La.addReference(r.key,e),sq(n,r)):r instanceof ng?(W("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||mM(n,r.key)):ne()}function sq(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(W("SyncEngine","New document in limbo: "+t),n.xa.add(r),SE(n))}function SE(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new J(qe.fromString(e)),r=n.qa.next();n.Na.set(r,new eE(t)),n.Oa=n.Oa.insert(t,r),iM(n.remoteStore,new dl(Er(wE(t.path)),r,"TargetPurposeLimboResolution",CR.oe))}}function bl(n,e,t){return C(this,null,function*(){let r=oe(n),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,t).then(d=>{var p;if((d||t)&&r.isPrimaryClient){let g=d?!d.fromCache:(p=t?.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){i.push(d);let g=OI.Wi(u.targetId,d);s.push(g)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,d){return C(this,null,function*(){let p=oe(u);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>j.forEach(d,_=>j.forEach(_.$i,I=>p.persistence.referenceDelegate.addReference(g,_.targetId,I)).next(()=>j.forEach(_.Ui,I=>p.persistence.referenceDelegate.removeReference(g,_.targetId,I)))))}catch(g){if(!Il(g))throw g;W("LocalStore","Failed to update sequence numbers: "+g)}for(let g of d){let _=g.targetId;if(!g.fromCache){let I=p.os.get(_),N=I.snapshotVersion,k=I.withLastLimboFreeSnapshotVersion(N);p.os=p.os.insert(_,k)}}})}(r.localStore,s))})}function oq(n,e){return C(this,null,function*(){let t=oe(n);if(!t.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());let r=yield nM(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new q(F.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield bl(t,r.hs)}})}function aq(n,e){let t=oe(n),r=t.Na.get(e);if(r&&r.va)return we().add(r.key);{let i=we(),s=t.Ma.get(e);if(!s)return i;for(let o of s){let a=t.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function yM(n){let e=oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=fM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nq.bind(null,e),e.Ca.d_=Kz.bind(null,e.eventManager),e.Ca.$a=Qz.bind(null,e.eventManager),e}function cq(n){let e=oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iq.bind(null,e),e}var yR=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return C(this,null,function*(){this.serializer=mg(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return Rz(this.persistence,new FI,t.initialUser,this.serializer)}Ga(t){return new NI(PI.Zr,this.serializer)}Wa(t){return new jI}terminate(){return C(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var uq=(()=>{class n{initialize(t,r){return C(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>gR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=oq.bind(null,this.syncEngine),yield Wz(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new YI}()}createDatastore(t){let r=mg(t.databaseInfo.databaseId),i=function(o){return new $I(o)}(t.databaseInfo);return function(o,a,u,d){return new qI(o,a,u,d)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,s,o,a,u){return new WI(i,s,o,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>gR(this.syncEngine,r,0),function(){return Kp.D()?new Kp:new UI}())}createSyncEngine(t,r){return function(s,o,a,u,d,p,g){let _=new tE(s,o,a,u,d,p);return g&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return C(this,null,function*(){var t,r;yield function(s){return C(this,null,function*(){let o=oe(s);W("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield El(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var rg=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):si("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var rE=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=It.UNAUTHENTICATED,this.clientId=Op.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>C(this,null,function*(){W("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(W("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=TE(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function O_(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>C(this,null,function*(){r.isEqual(i)||(yield nM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function vR(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield lq(n);W("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>hR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>hR(e.remoteStore,i)),n._onlineComponents=e})}function lq(n){return C(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{yield O_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Za("Error using user provided cache. Falling back to memory cache: "+t),yield O_(n,new yR)}}else W("FirestoreClient","Using default OfflineComponentProvider"),yield O_(n,new yR);return n._offlineComponents})}function vM(n){return C(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),yield vR(n,n._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),yield vR(n,new uq))),n._onlineComponents})}function dq(n){return vM(n).then(e=>e.syncEngine)}function iE(n){return C(this,null,function*(){let e=yield vM(n),t=e.eventManager;return t.onListen=Yz.bind(null,e.syncEngine),t.onUnlisten=Xz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Zz.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=eq.bind(null,e.syncEngine),t})}function hq(n,e,t={}){let r=new _r;return n.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(s,o,a,u,d){let p=new rg({next:_=>{p.Za(),o.enqueueAndForget(()=>dM(s,g)),_.fromCache&&u.source==="server"?d.reject(new q(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),g=new eg(a,p,{includeMetadataChanges:!0,_a:!0});return lM(s,g)}(yield iE(n),n.asyncQueue,e,t,r)})),r.promise}function wM(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var wR=new Map;function _M(n,e,t){if(!t)throw new q(F.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function fq(n,e,t,r){if(e===!0&&r===!0)throw new q(F.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function _R(n){if(!J.isDocumentKey(n))throw new q(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function IR(n){if(J.isDocumentKey(n))throw new q(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function wg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ne()}function zn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new q(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=wg(n);throw new q(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var ig=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},cc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ig({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ig(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new k_;switch(r.type){case"firstParty":return new j_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return C(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=wR.get(t);r&&(W("ComponentProvider","Removing Datastore"),wR.delete(t),r.terminate())}(this),Promise.resolve()}};function IM(n,e,t,r={}){var i;let s=(n=zn(n,cc))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=It.MOCK_USER;else{a=IA(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new q(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new It(d)}n._authCredentials=new F_(new Pp(a,u))}}var vo=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},qt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new as(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},as=class n extends vo{constructor(e,t,r){super(e,t,wE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new J(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function EM(n,e,...t){if(n=Xe(n),_M("collection","path",e),n instanceof cc){let r=qe.fromString(e,...t);return IR(r),new as(n,null,r)}{if(!(n instanceof qt||n instanceof as))throw new q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(qe.fromString(e,...t));return IR(r),new as(n.firestore,null,r)}}function RE(n,e,...t){if(n=Xe(n),arguments.length===1&&(e=Op.newId()),_M("doc","path",e),n instanceof cc){let r=qe.fromString(e,...t);return _R(r),new qt(n,null,new J(r))}{if(!(n instanceof qt||n instanceof as))throw new q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(qe.fromString(e,...t));return _R(r),new qt(n.firestore,n instanceof as?n.converter:null,new J(r))}}var sg=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Qp(this,"async_queue_retry"),this.Vu=()=>{let r=P_();r&&W("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=P_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=P_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new _r;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return C(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Il(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw si("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=KI.createAndSchedule(this,e,t,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ne()}verifyOperationInProgress(){}wu(){return C(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function ER(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}var ci=class extends cc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new sg,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return C(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new sg(e),this._firestoreClient=void 0,yield e}})}};function bM(n,e){let t=typeof n=="object"?n:Va(),r=typeof n=="string"?n:e||"(default)",i=Hu(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=_A("firestore");s&&IM(i,...s)}return i}function ME(n){if(n._terminated)throw new q(F.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||pq(n),n._firestoreClient}function pq(n){var e,t,r;let i=n._freezeSettings(),s=function(a,u,d,p){return new z_(a,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,wM(p.experimentalLongPollingOptions),p.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new rE(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var pl=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Ft.fromBase64String(e))}catch(t){throw new q(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var uc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new q(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var gl=class{constructor(e){this._methodName=e}};var ml=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new q(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new q(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}};var yl=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var gq=/^__.*__$/,sE=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Cr(e,this.data,this.fieldMask,t,this.fieldTransforms):new yo(e,this.data,t,this.fieldTransforms)}},og=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Cr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function DM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}var oE=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return cg(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(DM(this.Cu)&&gq.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},aE=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||mg(e)}Qu(e,t,r,i=!1){return new oE({Cu:e,methodName:t,qu:r,path:hn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function _g(n){let e=n._freezeSettings(),t=mg(n._databaseId);return new aE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function CM(n,e,t,r,i,s={}){let o=n.Qu(s.merge||s.mergeFields?2:0,e,t,i);NE("Data must be an object, but it was:",o,r);let a=TM(r,o),u,d;if(s.merge)u=new Tn(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){let p=[];for(let g of s.mergeFields){let _=cE(e,g,t);if(!o.contains(_))throw new q(F.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);SM(p,_)||p.push(_)}u=new Tn(p),d=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,d=o.fieldTransforms;return new sE(new dn(a),u,d)}var ag=class n extends gl{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function mq(n,e,t,r){let i=n.Qu(1,e,t);NE("Data must be an object, but it was:",i,r);let s=[],o=dn.empty();wo(r,(u,d)=>{let p=xE(e,u,t);d=Xe(d);let g=i.Nu(p);if(d instanceof ag)s.push(p);else{let _=Dl(d,g);_!=null&&(s.push(p),o.set(p,_))}});let a=new Tn(s);return new og(o,a,i.fieldTransforms)}function yq(n,e,t,r,i,s){let o=n.Qu(1,e,t),a=[cE(e,r,t)],u=[i];if(s.length%2!=0)throw new q(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)a.push(cE(e,s[_])),u.push(s[_+1]);let d=[],p=dn.empty();for(let _=a.length-1;_>=0;--_)if(!SM(d,a[_])){let I=a[_],N=u[_];N=Xe(N);let k=o.Nu(I);if(N instanceof ag)d.push(I);else{let x=Dl(N,k);x!=null&&(d.push(I),p.set(I,x))}}let g=new Tn(d);return new og(p,g,o.fieldTransforms)}function vq(n,e,t,r=!1){return Dl(t,n.Qu(r?4:3,e))}function Dl(n,e){if(AM(n=Xe(n)))return NE("Unsupported field value:",e,n),TM(n,e);if(n instanceof gl)return function(r,i){if(!DM(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=Dl(a,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=St.fromDate(r);return{timestampValue:qp(i.serializer,s)}}if(r instanceof St){let s=new St(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qp(i.serializer,s)}}if(r instanceof ml)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pl)return{bytesValue:QR(i.serializer,r._byteString)};if(r instanceof qt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:IE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof yl)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return _E(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${wg(r)}`)}(n,e)}function TM(n,e){let t={};return TR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wo(n,(r,i)=>{let s=Dl(i,e.Mu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function AM(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof St||n instanceof ml||n instanceof pl||n instanceof qt||n instanceof gl||n instanceof yl)}function NE(n,e,t){if(!AM(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=wg(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function cE(n,e,t){if((e=Xe(e))instanceof uc)return e._internalPath;if(typeof e=="string")return xE(n,e);throw cg("Field path arguments must be of type string or ",n,!1,void 0,t)}var wq=new RegExp("[~\\*/\\[\\]]");function xE(n,e,t){if(e.search(wq)>=0)throw cg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new uc(...e.split("."))._internalPath}catch{throw cg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function cg(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new q(F.INVALID_ARGUMENT,a+n+u)}function SM(n,e){return n.some(t=>t.isEqual(e))}var ug=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new uE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(PE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},uE=class extends ug{data(){return super.data()}};function PE(n,e){return typeof e=="string"?xE(n,e):e instanceof uc?e._internalPath:e._delegate._internalPath}function RM(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new q(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var vl=class{},lE=class extends vl{};function Rt(n,e,...t){let r=[];e instanceof vl&&r.push(e),r=r.concat(t),function(s){let o=s.filter(u=>u instanceof dE).length,a=s.filter(u=>u instanceof lg).length;if(o>1||o>0&&a>0)throw new q(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var lg=class n extends lE{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return MM(e._query,t),new vo(e.firestore,e.converter,rI(e._query,t))}_parse(e){let t=_g(e.firestore);return function(s,o,a,u,d,p,g){let _;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new q(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){DR(g,p);let I=[];for(let N of g)I.push(bR(u,s,N));_={arrayValue:{values:I}}}else _=bR(u,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||DR(g,p),_=vq(a,o,g,p==="in"||p==="not-in");return lt.create(d,p,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function Io(n,e,t){let r=e,i=PE("where",n);return lg._create(i,r,t)}var dE=class n extends vl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Gn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)MM(o,u),o=rI(o,u)}(e._query,t),new vo(e.firestore,e.converter,rI(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function bR(n,e,t){if(typeof(t=Xe(t))=="string"){if(t==="")throw new q(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kR(e)&&t.indexOf("/")!==-1)throw new q(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(qe.fromString(t));if(!J.isDocumentKey(r))throw new q(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return KS(n,new J(r))}if(t instanceof qt)return KS(n,t._key);throw new q(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wg(t)}.`)}function DR(n,e){if(!Array.isArray(n)||n.length===0)throw new q(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MM(n,e){let t=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new q(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var hE=class{convertValue(e,t="none"){switch(fo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ne()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return wo(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>He(o.doubleValue));return new yl(s)}convertGeoPoint(e){return new ml(He(e.latitude),He(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=gE(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(cl(e));default:return null}}convertTimestamp(e){let t=oi(e);return new St(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=qe.fromString(e);Oe(tM(r));let i=new Vp(r.get(1),r.get(3)),s=new J(r.popFirst(5));return i.isEqual(t)||si(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function NM(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var uo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},dg=class extends ug{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Ya(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(PE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Ya=class extends dg{data(e={}){return super.data(e)}},hg=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new uo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ya(this._firestore,this._userDataWriter,r.key,r,new uo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new q(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new Ya(i._firestore,i._userDataWriter,a.doc.key,a.doc,new uo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new Ya(i._firestore,i._userDataWriter,a.doc.key,a.doc,new uo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,p=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),p=o.indexOf(a.doc.key)),{type:_q(a.type),doc:u,oldIndex:d,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function _q(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}var wl=class extends hE{constructor(e){super(),this.firestore=e}convertBytes(e){return new pl(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,t)}};function hc(n){n=zn(n,vo);let e=zn(n.firestore,ci),t=ME(e),r=new wl(e);return RM(n._query),hq(t,n._query).then(i=>new hg(e,r,n,i))}function xM(n,e,t){n=zn(n,qt);let r=zn(n.firestore,ci),i=NM(n.converter,e,t);return kE(r,[CM(_g(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,ii.none())])}function fc(n,e,t,...r){n=zn(n,qt);let i=zn(n.firestore,ci),s=_g(i),o;return o=typeof(e=Xe(e))=="string"||e instanceof uc?yq(s,"updateDoc",n._key,e,t,r):mq(s,"updateDoc",n._key,e),kE(i,[o.toMutation(n._key,ii.exists(!0))])}function PM(n,e){let t=zn(n.firestore,ci),r=RE(n),i=NM(n.converter,e);return kE(t,[CM(_g(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,ii.exists(!1))]).then(()=>r)}function OE(n,...e){var t,r,i;n=Xe(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||ER(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(ER(e[o])){let g=e[o];e[o]=(t=g.next)===null||t===void 0?void 0:t.bind(g),e[o+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[o+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let u,d,p;if(n instanceof qt)d=zn(n.firestore,ci),p=wE(n._key.path),u={next:g=>{e[o]&&e[o](Iq(d,n,g))},error:e[o+1],complete:e[o+2]};else{let g=zn(n,vo);d=zn(g.firestore,ci),p=g._query;let _=new wl(d);u={next:I=>{e[o]&&e[o](new hg(d,_,g,I))},error:e[o+1],complete:e[o+2]},RM(n._query)}return function(_,I,N,k){let x=new rg(k),V=new eg(I,x,N);return _.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return lM(yield iE(_),V)})),()=>{x.Za(),_.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return dM(yield iE(_),V)}))}}(ME(d),p,a,u)}function kE(n,e){return function(r,i){let s=new _r;return r.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return tq(yield dq(r),i,s)})),s.promise}(ME(n),e)}function Iq(n,e,t){let r=t.docs.get(e._key),i=new wl(n);return new dg(n,i,e._key,r,new uo(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){lc=i})(rs),ns(new Cn("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new ci(new L_(r.getProvider("auth-internal")),new B_(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new q(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vp(d.options.projectId,p)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),gt(zS,"4.7.3",e),gt(zS,"4.7.3","esm2017")})();var Ig=function(){return Ig=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ig.apply(this,arguments)};var Dq={includeMetadataChanges:!1};function OM(n,e){return e===void 0&&(e=Dq),new de(function(t){var r=OE(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function kM(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Ig(Ig({},r),(t={},t[e.idField]=n.id,t))}function FM(n){return OM(n,{includeMetadataChanges:!0}).pipe(ie(function(e){return e.docs}))}function LM(n,e){return e===void 0&&(e={}),FM(n).pipe(ie(function(t){return t.map(function(r){return kM(r,e)})}))}var Eo=class{constructor(e){return e}},VM="firestore",FE=class{constructor(){return zu(VM)}};var LE=new z("angularfire2.firestore-instances");function Cq(n,e){let t=ap(VM,n,e);return t&&new Eo(t)}function Tq(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Eo(r)}}var Aq={provide:FE,deps:[[new xt,LE]]},Sq={provide:Eo,useFactory:Cq,deps:[[new xt,LE],Zr]};function dZ(n,...e){return gt("angularfire",eo.full,"fst"),vn([Sq,Aq,{provide:LE,useFactory:Tq(n),multi:!0,deps:[Ae,Tt,Ba,to,[new xt,Xu],[new xt,Ua],...e]}])}var An=ln(LM,!0);var VE=ln(PM,!0);var Et=ln(EM,!0);var Cl=ln(RE,!0);var hZ=ln(bM,!0);var fZ=ln(xM,!0);var QM=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(te(Ur),te(hr))}}static{this.\u0275dir=$e({type:n})}}return n})(),xl=(()=>{class n extends QM{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=dr(n)))(i||n)}})()}static{this.\u0275dir=$e({type:n,features:[Ht]})}}return n})(),Do=new z(""),Nq={provide:Do,useExisting:sn(()=>xq),multi:!0},xq=(()=>{class n extends xl{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=dr(n)))(i||n)}})()}static{this.\u0275dir=$e({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&fr("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},features:[Un([Nq]),Ht]})}}return n})(),Pq={provide:Do,useExisting:sn(()=>YM),multi:!0};function Oq(){let n=zr()?zr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var kq=new z(""),YM=(()=>{class n extends QM{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Oq())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(te(Ur),te(hr),te(kq,8))}}static{this.\u0275dir=$e({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&fr("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Un([Pq]),Ht]})}}return n})();function ds(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function ZM(n){return n!=null&&typeof n.length=="number"}var Pl=new z(""),Ng=new z(""),Fq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,jM=class{static min(e){return Lq(e)}static max(e){return Vq(e)}static required(e){return JM(e)}static requiredTrue(e){return jq(e)}static email(e){return Uq(e)}static minLength(e){return Bq(e)}static maxLength(e){return $q(e)}static pattern(e){return Hq(e)}static nullValidator(e){return bg(e)}static compose(e){return iN(e)}static composeAsync(e){return sN(e)}};function Lq(n){return e=>{if(ds(e.value)||ds(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Vq(n){return e=>{if(ds(e.value)||ds(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function JM(n){return ds(n.value)?{required:!0}:null}function jq(n){return n.value===!0?null:{required:!0}}function Uq(n){return ds(n.value)||Fq.test(n.value)?null:{email:!0}}function Bq(n){return e=>ds(e.value)||!ZM(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function $q(n){return e=>ZM(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function Hq(n){if(!n)return bg;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(ds(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function bg(n){return null}function XM(n){return n!=null}function eN(n){return qs(n)?Ve(n):n}function tN(n){let e={};return n.forEach(t=>{e=t!=null?B(B({},e),t):e}),Object.keys(e).length===0?null:e}function nN(n,e){return e.map(t=>t(n))}function zq(n){return!n.validate}function rN(n){return n.map(e=>zq(e)?e:t=>e.validate(t))}function iN(n){if(!n)return null;let e=n.filter(XM);return e.length==0?null:function(t){return tN(nN(t,e))}}function qE(n){return n!=null?iN(rN(n)):null}function sN(n){if(!n)return null;let e=n.filter(XM);return e.length==0?null:function(t){let r=nN(t,e).map(eN);return wm(r).pipe(ie(tN))}}function GE(n){return n!=null?sN(rN(n)):null}function UM(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function oN(n){return n._rawValidators}function aN(n){return n._rawAsyncValidators}function UE(n){return n?Array.isArray(n)?n:[n]:[]}function Dg(n,e){return Array.isArray(n)?n.includes(e):n===e}function BM(n,e){let t=UE(e);return UE(n).forEach(i=>{Dg(t,i)||t.push(i)}),t}function $M(n,e){return UE(e).filter(t=>!Dg(n,t))}var Cg=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=qE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=GE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ui=class extends Cg{get formDirective(){return null}get path(){return null}},bo=class extends Cg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Tg=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},qq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},MZ=pe(B({},qq),{"[class.ng-submitted]":"isSubmitted"}),NZ=(()=>{class n extends Tg{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(te(bo,2))}}static{this.\u0275dir=$e({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&hf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ht]})}}return n})(),xZ=(()=>{class n extends Tg{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(te(ui,10))}}static{this.\u0275dir=$e({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&hf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ht]})}}return n})();var Tl="VALID",Eg="INVALID",pc="PENDING",Al="DISABLED",hs=class{},Ag=class extends hs{constructor(e,t){super(),this.value=e,this.source=t}},Rl=class extends hs{constructor(e,t){super(),this.pristine=e,this.source=t}},Ml=class extends hs{constructor(e,t){super(),this.touched=e,this.source=t}},gc=class extends hs{constructor(e,t){super(),this.status=e,this.source=t}},BE=class extends hs{constructor(e){super(),this.source=e}},$E=class extends hs{constructor(e){super(),this.source=e}};function WE(n){return(xg(n)?n.validators:n)||null}function Gq(n){return Array.isArray(n)?qE(n):n||null}function KE(n,e){return(xg(e)?e.asyncValidators:n)||null}function Wq(n){return Array.isArray(n)?GE(n):n||null}function xg(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function cN(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new Q(1e3,"");if(!r[t])throw new Q(1001,"")}function uN(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new Q(1002,"")})}var mc=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ea(()=>this.statusReactive()),this.statusReactive=Ia(void 0),this._pristine=Ea(()=>this.pristineReactive()),this.pristineReactive=Ia(!0),this._touched=Ea(()=>this.touchedReactive()),this.touchedReactive=Ia(!1),this._events=new Ct,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return pr(this.statusReactive)}set status(e){pr(()=>this.statusReactive.set(e))}get valid(){return this.status===Tl}get invalid(){return this.status===Eg}get pending(){return this.status==pc}get disabled(){return this.status===Al}get enabled(){return this.status!==Al}get pristine(){return pr(this.pristineReactive)}set pristine(e){pr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return pr(this.touchedReactive)}set touched(e){pr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(BM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(BM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($M(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($M(e,this._rawAsyncValidators))}hasValidator(e){return Dg(this._rawValidators,e)}hasAsyncValidator(e){return Dg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(pe(B({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Ml(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Ml(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(pe(B({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Rl(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Rl(!0,r))}markAsPending(e={}){this.status=pc;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new gc(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(pe(B({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Al,this.errors=null,this._forEachChild(i=>{i.disable(pe(B({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ag(this.value,r)),this._events.next(new gc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(pe(B({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Tl,this._forEachChild(r=>{r.enable(pe(B({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(pe(B({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Tl||this.status===pc)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ag(this.value,t)),this._events.next(new gc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(pe(B({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Al:Tl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=pc,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=eN(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new gc(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ke,this.statusChanges=new Ke}_calculateStatus(){return this._allControlsDisabled()?Al:this.errors?Eg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pc)?pc:this._anyControlsHaveStatus(Eg)?Eg:Tl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Rl(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Ml(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){xg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Gq(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Wq(this._rawAsyncValidators)}},yc=class extends mc{constructor(e,t,r){super(WE(t),KE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){uN(this,!0,e),Object.keys(e).forEach(r=>{cN(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var HE=class extends yc{};var Ol=new z("CallSetDisabledState",{providedIn:"root",factory:()=>Pg}),Pg="always";function lN(n,e){return[...e.path,n]}function Sg(n,e,t=Pg){QE(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Qq(n,e),Zq(n,e),Yq(n,e),Kq(n,e)}function HM(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Mg(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Rg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Kq(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function QE(n,e){let t=oN(n);e.validator!==null?n.setValidators(UM(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=aN(n);e.asyncValidator!==null?n.setAsyncValidators(UM(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Rg(e._rawValidators,i),Rg(e._rawAsyncValidators,i)}function Mg(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=oN(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let i=aN(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}let r=()=>{};return Rg(e._rawValidators,r),Rg(e._rawAsyncValidators,r),t}function Qq(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&dN(n,e)})}function Yq(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&dN(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function dN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Zq(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function hN(n,e){n==null,QE(n,e)}function Jq(n,e){return Mg(n,e)}function fN(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Xq(n){return Object.getPrototypeOf(n.constructor)===xl}function pN(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function gN(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===YM?t=s:Xq(s)?r=s:i=s}),i||r||t||null}function e4(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var t4={provide:ui,useExisting:sn(()=>n4)},Sl=Promise.resolve(),n4=(()=>{class n extends ui{get submitted(){return pr(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Ea(()=>this.submittedReactive()),this.submittedReactive=Ia(!1),this._directives=new Set,this.ngSubmit=new Ke,this.form=new yc({},qE(t),GE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Sl.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Sg(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Sl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Sl.then(()=>{let r=this._findContainer(t.path),i=new yc({});hN(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Sl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Sl.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),pN(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(te(Pl,10),te(Ng,10),te(Ol,8))}}static{this.\u0275dir=$e({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&fr("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Un([t4]),Ht]})}}return n})();function zM(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function qM(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Nl=class extends mc{constructor(e=null,t,r){super(WE(t),KE(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(qM(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){zM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){zM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){qM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var r4=n=>n instanceof Nl;var i4={provide:bo,useExisting:sn(()=>s4)},GM=Promise.resolve(),s4=(()=>{class n extends bo{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new Nl,this._registered=!1,this.name="",this.update=new Ke,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=gN(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),fN(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Sg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){GM.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&uu(r);GM.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?lN(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(te(ui,9),te(Pl,10),te(Ng,10),te(Do,10),te(Gs,8),te(Ol,8))}}static{this.\u0275dir=$e({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Un([i4]),Ht,Vr]})}}return n})(),OZ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=$e({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),o4={provide:Do,useExisting:sn(()=>a4),multi:!0},a4=(()=>{class n extends xl{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=dr(n)))(i||n)}})()}static{this.\u0275dir=$e({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&fr("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Un([o4]),Ht]})}}return n})();var mN=new z("");var c4={provide:ui,useExisting:sn(()=>u4)},u4=(()=>{class n extends ui{get submitted(){return pr(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Ea(()=>this._submittedReactive()),this._submittedReactive=Ia(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ke,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Mg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Sg(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){HM(t.control||null,t,!1),e4(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),pN(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new BE(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new $E(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(HM(r||null,t),r4(i)&&(Sg(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);hN(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&Jq(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){QE(this.form,this),this._oldForm&&Mg(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(te(Pl,10),te(Ng,10),te(Ol,8))}}static{this.\u0275dir=$e({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&fr("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Un([c4]),Ht,Vr]})}}return n})();var l4={provide:bo,useExisting:sn(()=>d4)},d4=(()=>{class n extends bo{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Ke,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=gN(this,s)}ngOnChanges(t){this._added||this._setUpControl(),fN(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return lN(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(te(ui,13),te(Pl,10),te(Ng,10),te(Do,10),te(mN,8))}}static{this.\u0275dir=$e({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Un([l4]),Ht,Vr]})}}return n})(),h4={provide:Do,useExisting:sn(()=>vN),multi:!0};function yN(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function f4(n){return n.split(":")[0]}var vN=(()=>{class n extends xl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=yN(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=f4(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=dr(n)))(i||n)}})()}static{this.\u0275dir=$e({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&fr("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Un([h4]),Ht]})}}return n})(),kZ=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(yN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(te(hr),te(Ur),te(vN,9))}}static{this.\u0275dir=$e({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),p4={provide:Do,useExisting:sn(()=>wN),multi:!0};function WM(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function g4(n){return n.split(":")[0]}var wN=(()=>{class n extends xl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let u=o[a],d=this._getOptionValue(u.value);i.push(d)}}else{let o=r.options;for(let a=0;a<o.length;a++){let u=o[a];if(u.selected){let d=this._getOptionValue(u.value);i.push(d)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=g4(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=dr(n)))(i||n)}})()}static{this.\u0275dir=$e({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&fr("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Un([p4]),Ht]})}}return n})(),FZ=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(WM(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(WM(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(te(hr),te(Ur),te(wN,9))}}static{this.\u0275dir=$e({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var m4=(()=>{class n{constructor(){this._validator=bg}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):bg,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=$e({type:n,features:[Vr]})}}return n})();var y4={provide:Pl,useExisting:sn(()=>v4),multi:!0};var v4=(()=>{class n extends m4{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=uu,this.createValidator=t=>JM}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=dr(n)))(i||n)}})()}static{this.\u0275dir=$e({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&df("required",i._enabled?"":null)},inputs:{required:"required"},features:[Un([y4]),Ht]})}}return n})();var _N=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=lr({type:n})}static{this.\u0275inj=ur({})}}return n})(),zE=class extends mc{constructor(e,t,r){super(WE(t),KE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){uN(this,!1,e),e.forEach((r,i)=>{cN(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function KM(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var LZ=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),s={};return KM(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new yc(i,s)}record(t,r=null){let i=this._reduceControls(t);return new HE(i,r)}control(t,r,i){let s={};return this.useNonNullable?(KM(r)?s=r:(s.validators=r,s.asyncValidators=i),new Nl(t,pe(B({},s),{nonNullable:!0}))):new Nl(t,r,i)}array(t,r,i){let s=t.map(o=>this._createControl(o));return new zE(s,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Nl)return t;if(t instanceof mc)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,s=t.length>2?t[2]:null;return this.control(r,i,s)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var VZ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ol,useValue:t.callSetDisabledState??Pg}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=lr({type:n})}static{this.\u0275inj=ur({imports:[_N]})}}return n})(),jZ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:mN,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Ol,useValue:t.callSetDisabledState??Pg}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=lr({type:n})}static{this.\u0275inj=ur({imports:[_N]})}}return n})();var IN=class n{userVerificado=new rt(!1);userVerificado$=this.userVerificado.asObservable();userSource=new rt(null);currentUser=this.userSource.asObservable();user="";constructor(){}setUser(e){this.userSource.next(e),this.user=e}getUser(){return this.user}getUserNow(){return this.currentUser}setUserVerificado(e){this.userVerificado.next(e)}getVerificado(){return this.userVerificado.getValue()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})};var EN=class n{constructor(e,t){this.firestore=e;this.auth=t}getUsuarios(){let e=Et(this.firestore,"pacientes"),t=Rt(e);return An(t)}getAdmins(){let e=Et(this.firestore,"admins"),t=Rt(e);return An(t)}getEspecialistas(){let e=Et(this.firestore,"especialistas"),t=Rt(e);return An(t)}getEspecialidad(){let e=Et(this.firestore,"especialistas"),t=Rt(e);return An(t)}getTurno(){let e=Et(this.firestore,"turnos"),t=Rt(e);return An(t)}sendturno(e,t,r,i,s,o){let a=Et(this.firestore,"turnos");VE(a,{paciente:e,especialista:t,especialidad:r,horario:i,emailEspecialsita:s,estado:"pendiente",mensaje:"",diagnostico:"",comentario:"",dia:o}).then(()=>{console.log("turno agregado con \xE9xito")}).catch(d=>{console.error("Error al agregar turno: ",d)})}getTurnos(){let e=Et(this.firestore,"turnos"),t=Rt(e);return An(t)}getPacientes(){let e=Et(this.firestore,"pacientes"),t=Rt(e);return An(t)}getadmin(){let e=Et(this.firestore,"admins"),t=Rt(e);return An(t)}getHistoriaClinica(){let e=Et(this.firestore,"historiaClinica"),t=Rt(e);return An(t)}getUsers(){let e=Et(this.firestore,"pacientes"),t=Rt(e);return An(t)}ingresarEstado(e,t,r){let i=Et(this.firestore,"turnos"),s=Rt(i,Io("paciente","==",t),Io("horario","==",r));hc(s).then(o=>{if(o.empty)console.log("No se encontr\xF3 el turno con el paciente y horario especificados.");else{let u=o.docs[0].id,d=Cl(this.firestore,"turnos",u);fc(d,{estado:e}).then(()=>{console.log("Estado actualizado con \xE9xito")}).catch(p=>{console.error("Error al actualizar el estado:",p)})}}).catch(o=>{console.error("Error al realizar la consulta:",o)})}ingresarMensaje(e,t){let r=t,i=Et(this.firestore,"turnos"),s=Rt(i,Io("paciente","==",r));hc(s).then(o=>{if(o.empty)console.log("No se encontr\xF3 el turno con ese email.");else{let u=o.docs[0].id,d=Cl(this.firestore,"turnos",u);fc(d,{mensaje:e})}}).catch(o=>{console.error("Error al realizar la consulta:",o)})}ingresarDiagnostico(e,t){let r=t,i=Et(this.firestore,"turnos"),s=Rt(i,Io("paciente","==",r));hc(s).then(o=>{if(o.empty)console.log("No se encontr\xF3 el turno con ese email.");else{let u=o.docs[0].id,d=Cl(this.firestore,"turnos",u);fc(d,{diagnostico:e})}}).catch(o=>{console.error("Error al realizar la consulta:",o)})}ingresarComentario(e,t){let r=t,i=Et(this.firestore,"turnos"),s=Rt(i,Io("paciente","==",r));hc(s).then(o=>{if(o.empty)console.log("No se encontr\xF3 el turno con ese email.");else{let u=o.docs[0].id,d=Cl(this.firestore,"turnos",u);fc(d,{comentario:e})}}).catch(o=>{console.error("Error al realizar la consulta:",o)})}getImagenesEspecialdiad(){let e=Et(this.firestore,"imagenesEspecialidad"),t=Rt(e);return An(t)}sendHistoriaClinica(e,t,r,i,s,o,a,u,d,p){let g=Et(this.firestore,"historiaClinica"),_={doctor:e||"No especificado",paciente:t||"No especificado",altura:r||"No especificado",peso:i||"No especificado",fecha:new Date().toISOString().split("T")[0]};s&&s!=="undefined"&&(_.temperatura=s),o&&o!=="undefined"&&(_.presion=o),a&&u&&u!=="undefined"&&(_[a]=u),d&&p&&p!=="undefined"&&(_[d]=p),VE(g,_).then(()=>{console.log("historiaClinica agregada con \xE9xito")}).catch(I=>{console.error("Error al agregar historiaClinica: ",I)})}static \u0275fac=function(t){return new(t||n)(Y(Eo),Y(oo))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})};export{G as a,ur as b,z as c,Y as d,xt as e,BD as f,lr as g,$D as h,vn as i,V6 as j,j6 as k,Tt as l,Ae as m,U6 as n,B6 as o,te as p,G1 as q,iF as r,AT as s,RT as t,MT as u,cv as v,yF as w,vF as x,q6 as y,fr as z,G6 as A,AF as B,xT as C,W6 as D,K6 as E,MF as F,PT as G,NF as H,Q6 as I,xF as J,kT as K,Y6 as L,Z6 as M,J6 as N,X6 as O,e8 as P,E8 as Q,b8 as R,D8 as S,C8 as T,FL as U,j8 as V,d7 as W,s2 as X,Ji as Y,P7 as Z,O7 as _,Mq as $,_A as aa,IA as ba,un as ca,Xe as da,Cn as ea,ns as fa,Hu as ga,rs as ha,Va as ia,gt as ja,eo as ka,ap as la,zu as ma,Ua as na,Ba as oa,ln as pa,Zr as qa,to as ra,bK as sa,DK as ta,NS as ua,xS as va,PS as wa,oo as xa,Xu as ya,yQ as za,vQ as Aa,wQ as Ba,_Q as Ca,EM as Da,Rt as Ea,Io as Fa,hc as Ga,fc as Ha,PM as Ia,Eo as Ja,dZ as Ka,An as La,VE as Ma,Et as Na,Cl as Oa,hZ as Pa,fZ as Qa,xq as Ra,YM as Sa,jM as Ta,NZ as Ua,xZ as Va,yc as Wa,n4 as Xa,Nl as Ya,s4 as Za,OZ as _a,a4 as $a,u4 as ab,d4 as bb,kZ as cb,FZ as db,v4 as eb,LZ as fb,VZ as gb,jZ as hb,IN as ib,EN as jb};
