var EN=Object.defineProperty,DN=Object.defineProperties;var TN=Object.getOwnPropertyDescriptors;var bw=Object.getOwnPropertySymbols,bN=Object.getPrototypeOf,CN=Object.prototype.hasOwnProperty,AN=Object.prototype.propertyIsEnumerable,SN=Reflect.get;var Cw=(n,e,t)=>e in n?EN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,k=(n,e)=>{for(var t in e||={})CN.call(e,t)&&Cw(n,t,e[t]);if(bw)for(var t of bw(e))AN.call(e,t)&&Cw(n,t,e[t]);return n},ce=(n,e)=>DN(n,TN(e));var hr=(n,e,t)=>SN(bN(n),t,e);var _=(n,e,t)=>new Promise((r,i)=>{var s=u=>{try{a(t.next(u))}catch(l){i(l)}},o=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((t=t.apply(n,e)).next())});function Aw(n,e){return Object.is(n,e)}var $e=null,ru=!1,iu=1,An=Symbol("SIGNAL");function pe(n){let e=$e;return $e=n,e}function Sw(){return $e}var Zo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Cf(n){if(ru)throw new Error("");if($e===null)return;$e.consumerOnSignalRead(n);let e=$e.nextProducerIndex++;if(cu($e),e<$e.producerNode.length&&$e.producerNode[e]!==n&&Jo($e)){let t=$e.producerNode[e];au(t,$e.producerIndexOfThis[e])}$e.producerNode[e]!==n&&($e.producerNode[e]=n,$e.producerIndexOfThis[e]=Jo($e)?xw(n,$e,e):0),$e.producerLastReadVersion[e]=n.version}function RN(){iu++}function Rw(n){if(!(Jo(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===iu)){if(!n.producerMustRecompute(n)&&!Sf(n)){n.dirty=!1,n.lastCleanEpoch=iu;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=iu}}function Nw(n){if(n.liveConsumerNode===void 0)return;let e=ru;ru=!0;try{for(let t of n.liveConsumerNode)t.dirty||NN(t)}finally{ru=e}}function Mw(){return $e?.consumerAllowSignalWrites!==!1}function NN(n){n.dirty=!0,Nw(n),n.consumerMarkedDirty?.(n)}function ou(n){return n&&(n.nextProducerIndex=0),pe(n)}function Af(n,e){if(pe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Jo(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)au(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Sf(n){cu(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Rw(t),r!==t.version))return!0}return!1}function Rf(n){if(cu(n),Jo(n))for(let e=0;e<n.producerNode.length;e++)au(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function xw(n,e,t){if(Pw(n),n.liveConsumerNode.length===0&&Ow(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=xw(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function au(n,e){if(Pw(n),n.liveConsumerNode.length===1&&Ow(n))for(let r=0;r<n.producerNode.length;r++)au(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];cu(i),i.producerIndexOfThis[r]=e}}function Jo(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function cu(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Pw(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Ow(n){return n.producerNode!==void 0}function kw(n){let e=Object.create(MN);e.computation=n;let t=()=>{if(Rw(e),Cf(e),e.value===su)throw e.error;return e.value};return t[An]=e,t}var Tf=Symbol("UNSET"),bf=Symbol("COMPUTING"),su=Symbol("ERRORED"),MN=ce(k({},Zo),{value:Tf,dirty:!0,error:null,equal:Aw,producerMustRecompute(n){return n.value===Tf||n.value===bf},producerRecomputeValue(n){if(n.value===bf)throw new Error("Detected cycle in computations.");let e=n.value;n.value=bf;let t=ou(n),r;try{r=n.computation()}catch(i){r=su,n.error=i}finally{Af(n,t)}if(e!==Tf&&e!==su&&r!==su&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function xN(){throw new Error}var Fw=xN;function Lw(){Fw()}function Vw(n){Fw=n}var PN=null;function Uw(n){let e=Object.create(Bw);e.value=n;let t=()=>(Cf(e),e.value);return t[An]=e,t}function Nf(n,e){Mw()||Lw(),n.equal(n.value,e)||(n.value=e,ON(n))}function jw(n,e){Mw()||Lw(),Nf(n,e(n.value))}var Bw=ce(k({},Zo),{equal:Aw,value:void 0});function ON(n){n.version++,RN(),Nw(n),PN?.()}function ee(n){return typeof n=="function"}function es(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var uu=es(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ei(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Me=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ee(r))try{r()}catch(s){e=s instanceof uu?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{$w(s)}catch(o){e=e??[],o instanceof uu?e=[...e,...o.errors]:e.push(o)}}if(e)throw new uu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)$w(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ei(t,e)}remove(e){let{_finalizers:t}=this;t&&ei(t,e),e instanceof n&&e._removeParent(this)}};Me.EMPTY=(()=>{let n=new Me;return n.closed=!0,n})();var Mf=Me.EMPTY;function lu(n){return n instanceof Me||n&&"closed"in n&&ee(n.remove)&&ee(n.add)&&ee(n.unsubscribe)}function $w(n){ee(n)?n():n.unsubscribe()}var $t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ts={setTimeout(n,e,...t){let{delegate:r}=ts;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ts;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function du(n){ts.setTimeout(()=>{let{onUnhandledError:e}=$t;if(e)e(n);else throw n})}function Xo(){}var Hw=xf("C",void 0,void 0);function zw(n){return xf("E",void 0,n)}function qw(n){return xf("N",n,void 0)}function xf(n,e,t){return{kind:n,value:e,error:t}}var ti=null;function ns(n){if($t.useDeprecatedSynchronousErrorHandling){let e=!ti;if(e&&(ti={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=ti;if(ti=null,t)throw r}}else n()}function Gw(n){$t.useDeprecatedSynchronousErrorHandling&&ti&&(ti.errorThrown=!0,ti.error=n)}var ni=class extends Me{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,lu(e)&&e.add(this)):this.destination=LN}static create(e,t,r){return new rs(e,t,r)}next(e){this.isStopped?Of(qw(e),this):this._next(e)}error(e){this.isStopped?Of(zw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Of(Hw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},kN=Function.prototype.bind;function Pf(n,e){return kN.call(n,e)}var kf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){hu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){hu(r)}else hu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){hu(t)}}},rs=class extends ni{constructor(e,t,r){super();let i;if(ee(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&$t.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Pf(e.next,s),error:e.error&&Pf(e.error,s),complete:e.complete&&Pf(e.complete,s)}):i=e}this.destination=new kf(i)}};function hu(n){$t.useDeprecatedSynchronousErrorHandling?Gw(n):du(n)}function FN(n){throw n}function Of(n,e){let{onStoppedNotification:t}=$t;t&&ts.setTimeout(()=>t(n,e))}var LN={closed:!0,next:Xo,error:FN,complete:Xo};var is=typeof Symbol=="function"&&Symbol.observable||"@@observable";function It(n){return n}function fu(...n){return Ff(n)}function Ff(n){return n.length===0?It:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var se=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=UN(t)?t:new rs(t,r,i);return ns(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Ww(r),new r((i,s)=>{let o=new rs({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[is](){return this}pipe(...t){return Ff(t)(this)}toPromise(t){return t=Ww(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function Ww(n){var e;return(e=n??$t.Promise)!==null&&e!==void 0?e:Promise}function VN(n){return n&&ee(n.next)&&ee(n.error)&&ee(n.complete)}function UN(n){return n&&n instanceof ni||VN(n)&&lu(n)}function Lf(n){return ee(n?.lift)}function he(n){return e=>{if(Lf(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(n,e,t,r,i){return new Vf(n,e,t,r,i)}var Vf=class extends ni{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ss(){return he((n,e)=>{let t=null;n._refCount++;let r=ue(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var os=class extends se{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Lf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Me;let t=this.getSubject();e.add(this.source.subscribe(ue(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Me.EMPTY)}return e}refCount(){return ss()(this)}};var Kw=es(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Qe=(()=>{class n extends se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new pu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Kw}next(t){ns(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){ns(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ns(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Mf:(this.currentObservers=null,s.push(t),new Me(()=>{this.currentObservers=null,ei(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new se;return t.source=this,t}}return n.create=(e,t)=>new pu(e,t),n})(),pu=class extends Qe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Mf}};var ke=class extends Qe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Uf={now(){return(Uf.delegate||Date).now()},delegate:void 0};var gu=class extends Me{constructor(e,t){super()}schedule(e,t=0){return this}};var ea={setInterval(n,e,...t){let{delegate:r}=ea;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=ea;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var as=class extends gu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return ea.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&ea.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ei(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var cs=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};cs.now=Uf.now;var us=class extends cs{constructor(e,t=cs.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var jf=new us(as);var mu=class extends as{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var yu=class extends us{};var Bf=new yu(mu);var wt=new se(n=>n.complete());function Qw(n){return n&&ee(n.schedule)}function Yw(n){return n[n.length-1]}function vu(n){return ee(Yw(n))?n.pop():void 0}function fr(n){return Qw(Yw(n))?n.pop():void 0}function $f(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Zw(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function Jw(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ri(n){return this instanceof ri?(this.v=n,this):new ri(n)}function Xw(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(C){return Promise.resolve(C).then(y,p)}}function a(y,C){r[y]&&(i[y]=function(N){return new Promise(function(R,F){s.push([y,N,R,F])>1||u(y,N)})},C&&(i[y]=C(i[y])))}function u(y,C){try{l(r[y](C))}catch(N){m(s[0][3],N)}}function l(y){y.value instanceof ri?Promise.resolve(y.value.v).then(h,p):m(s[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,C){y(C),s.shift(),s.length&&u(s[0][0],s[0][1])}}function eE(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Jw=="function"?Jw(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){o=n[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var _u=n=>n&&typeof n.length=="number"&&typeof n!="function";function Iu(n){return ee(n?.then)}function wu(n){return ee(n[is])}function Eu(n){return Symbol.asyncIterator&&ee(n?.[Symbol.asyncIterator])}function Du(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function jN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Tu=jN();function bu(n){return ee(n?.[Tu])}function Cu(n){return Xw(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield ri(t.read());if(i)return yield ri(void 0);yield yield ri(r)}}finally{t.releaseLock()}})}function Au(n){return ee(n?.getReader)}function Fe(n){if(n instanceof se)return n;if(n!=null){if(wu(n))return BN(n);if(_u(n))return $N(n);if(Iu(n))return HN(n);if(Eu(n))return tE(n);if(bu(n))return zN(n);if(Au(n))return qN(n)}throw Du(n)}function BN(n){return new se(e=>{let t=n[is]();if(ee(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function $N(n){return new se(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function HN(n){return new se(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,du)})}function zN(n){return new se(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function tE(n){return new se(e=>{GN(n,e).catch(t=>e.error(t))})}function qN(n){return tE(Cu(n))}function GN(n,e){var t,r,i,s;return Zw(this,void 0,void 0,function*(){try{for(t=eE(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function yt(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function pr(n,e=0){return he((t,r)=>{t.subscribe(ue(r,i=>yt(r,n,()=>r.next(i),e),()=>yt(r,n,()=>r.complete(),e),i=>yt(r,n,()=>r.error(i),e)))})}function gr(n,e=0){return he((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function nE(n,e){return Fe(n).pipe(gr(e),pr(e))}function rE(n,e){return Fe(n).pipe(gr(e),pr(e))}function iE(n,e){return new se(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function sE(n,e){return new se(t=>{let r;return yt(t,e,()=>{r=n[Tu](),yt(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>ee(r?.return)&&r.return()})}function Su(n,e){if(!n)throw new Error("Iterable cannot be null");return new se(t=>{yt(t,e,()=>{let r=n[Symbol.asyncIterator]();yt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function oE(n,e){return Su(Cu(n),e)}function aE(n,e){if(n!=null){if(wu(n))return nE(n,e);if(_u(n))return iE(n,e);if(Iu(n))return rE(n,e);if(Eu(n))return Su(n,e);if(bu(n))return sE(n,e);if(Au(n))return oE(n,e)}throw Du(n)}function Te(n,e){return e?aE(n,e):Fe(n)}function K(...n){let e=fr(n);return Te(n,e)}function ls(n,e){let t=ee(n)?n:()=>n,r=i=>i.error(t());return new se(e?i=>e.schedule(r,0,i):r)}function Hf(n){return!!n&&(n instanceof se||ee(n.lift)&&ee(n.subscribe))}var Sn=es(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function J(n,e){return he((t,r)=>{let i=0;t.subscribe(ue(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:WN}=Array;function KN(n,e){return WN(e)?n(...e):n(e)}function Ru(n){return J(e=>KN(n,e))}var{isArray:QN}=Array,{getPrototypeOf:YN,prototype:JN,keys:ZN}=Object;function Nu(n){if(n.length===1){let e=n[0];if(QN(e))return{args:e,keys:null};if(XN(e)){let t=ZN(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function XN(n){return n&&typeof n=="object"&&YN(n)===JN}function Mu(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function ta(...n){let e=fr(n),t=vu(n),{args:r,keys:i}=Nu(n);if(r.length===0)return Te([],e);let s=new se(eM(r,e,i?o=>Mu(i,o):It));return t?s.pipe(Ru(t)):s}function eM(n,e,t=It){return r=>{cE(e,()=>{let{length:i}=n,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)cE(e,()=>{let l=Te(n[u],e),h=!1;l.subscribe(ue(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function cE(n,e,t){n?yt(t,n,e):e()}function uE(n,e,t,r,i,s,o,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?C(N):u.push(N),C=N=>{s&&e.next(N),l++;let R=!1;Fe(t(N,h++)).subscribe(ue(e,F=>{i?.(F),s?y(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let F=u.shift();o?yt(e,o,()=>C(F)):C(F)}m()}catch(F){e.error(F)}}))};return n.subscribe(ue(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Le(n,e,t=1/0){return ee(e)?Le((r,i)=>J((s,o)=>e(r,s,i,o))(Fe(n(r,i))),t):(typeof e=="number"&&(t=e),he((r,i)=>uE(r,i,n,t)))}function ds(n=1/0){return Le(It,n)}function lE(){return ds(1)}function hs(...n){return lE()(Te(n,fr(n)))}function xu(n){return new se(e=>{Fe(n()).subscribe(e)})}function zf(...n){let e=vu(n),{args:t,keys:r}=Nu(n),i=new se(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;Fe(t[h]).subscribe(ue(s,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?Mu(r,a):a),s.complete())}))}});return e?i.pipe(Ru(e)):i}function lt(n,e){return he((t,r)=>{let i=0;t.subscribe(ue(r,s=>n.call(e,s,i++)&&r.next(s)))})}function mr(n){return he((e,t)=>{let r=null,i=!1,s;r=e.subscribe(ue(t,void 0,void 0,o=>{s=Fe(n(o,mr(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function dE(n,e,t,r,i){return(s,o)=>{let a=t,u=e,l=0;s.subscribe(ue(o,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Rn(n,e){return ee(e)?Le(n,e,1):Le(n,1)}function yr(n){return he((e,t)=>{let r=!1;e.subscribe(ue(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Nn(n){return n<=0?()=>wt:he((e,t)=>{let r=0;e.subscribe(ue(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function qf(n){return J(()=>n)}function Pu(n=tM){return he((e,t)=>{let r=!1;e.subscribe(ue(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function tM(){return new Sn}function ii(n){return he((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Xt(n,e){let t=arguments.length>=2;return r=>r.pipe(n?lt((i,s)=>n(i,s,r)):It,Nn(1),t?yr(e):Pu(()=>new Sn))}function fs(n){return n<=0?()=>wt:he((e,t)=>{let r=[];e.subscribe(ue(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Gf(n,e){let t=arguments.length>=2;return r=>r.pipe(n?lt((i,s)=>n(i,s,r)):It,fs(1),t?yr(e):Pu(()=>new Sn))}function Ou(n,e){return he(dE(n,e,arguments.length>=2,!0))}function ku(...n){let e=fr(n);return he((t,r)=>{(e?hs(n,t,e):hs(n,t)).subscribe(r)})}function vt(n,e){return he((t,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();t.subscribe(ue(r,u=>{i?.unsubscribe();let l=0,h=s++;Fe(n(u,h)).subscribe(i=ue(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Wf(n){return he((e,t)=>{Fe(n).subscribe(ue(t,()=>t.complete(),Xo)),!t.closed&&e.subscribe(t)})}function Ve(n,e,t){let r=ee(n)||e||t?{next:n,error:e,complete:t}:n;return r?he((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ue(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):It}var YE="https://g.co/ng/security#xss",H=class extends Error{constructor(e,t){super(gl(e,t)),this.code=e}};function gl(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function la(n){return{toString:n}.toString()}var Fu="__parameters__";function nM(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function JE(n,e,t){return la(()=>{let r=nM(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,h){let p=u.hasOwnProperty(Fu)?u[Fu]:Object.defineProperty(u,Fu,{value:[]})[Fu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function De(n){for(let e in n)if(n[e]===De)return e;throw Error("Could not find renamed property on target object.")}function rM(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ht(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(ht).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function hE(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var iM=De({__forward_ref__:De});function Dt(n){return n.__forward_ref__=Dt,n.toString=function(){return ht(this())},n}function dt(n){return ZE(n)?n():n}function ZE(n){return typeof n=="function"&&n.hasOwnProperty(iM)&&n.__forward_ref__===Dt}function j(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function cn(n){return{providers:n.providers||[],imports:n.imports||[]}}function ml(n){return fE(n,eD)||fE(n,tD)}function XE(n){return ml(n)!==null}function fE(n,e){return n.hasOwnProperty(e)?n[e]:null}function sM(n){let e=n&&(n[eD]||n[tD]);return e||null}function pE(n){return n&&(n.hasOwnProperty(gE)||n.hasOwnProperty(oM))?n[gE]:null}var eD=De({\u0275prov:De}),gE=De({\u0275inj:De}),tD=De({ngInjectableDef:De}),oM=De({ngInjectorDef:De}),U=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=j({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function nD(n){return n&&!!n.\u0275providers}var aM=De({\u0275cmp:De}),cM=De({\u0275dir:De}),uM=De({\u0275pipe:De}),lM=De({\u0275mod:De}),Gu=De({\u0275fac:De}),ra=De({__NG_ELEMENT_ID__:De}),mE=De({__NG_ENV_ID__:De});function yl(n){return typeof n=="string"?n:n==null?"":String(n)}function dM(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():yl(n)}function hM(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new H(-200,n)}function rg(n,e){throw new H(-201,!1)}var oe=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(oe||{}),ap;function rD(){return ap}function Mt(n){let e=ap;return ap=n,e}function iD(n,e,t){let r=ml(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&oe.Optional)return null;if(e!==void 0)return e;rg(n,"Injector")}var fM={},ia=fM,cp="__NG_DI_FLAG__",Wu="ngTempTokenPath",pM="ngTokenPath",gM=/\n/gm,mM="\u0275",yE="__source",vs;function yM(){return vs}function vr(n){let e=vs;return vs=n,e}function vM(n,e=oe.Default){if(vs===void 0)throw new H(-203,!1);return vs===null?iD(n,void 0,e):vs.get(n,e&oe.Optional?null:void 0,e)}function z(n,e=oe.Default){return(rD()||vM)(dt(n),e)}function x(n,e=oe.Default){return z(n,vl(e))}function vl(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function up(n){let e=[];for(let t=0;t<n.length;t++){let r=dt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new H(900,!1);let i,s=oe.Default;for(let o=0;o<r.length;o++){let a=r[o],u=_M(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(z(i,s))}else e.push(z(r))}return e}function sD(n,e){return n[cp]=e,n.prototype[cp]=e,n}function _M(n){return n[cp]}function IM(n,e,t,r){let i=n[Wu];throw e[yE]&&i.unshift(e[yE]),n.message=wM(`
`+n.message,i,t,r),n[pM]=i,n[Wu]=null,n}function wM(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==mM?n.slice(2):n;let i=ht(e);if(Array.isArray(e))i=e.map(ht).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):ht(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(gM,`
  `)}`}var rt=sD(JE("Optional"),8);var ig=sD(JE("SkipSelf"),4);function Is(n,e){let t=n.hasOwnProperty(Gu);return t?n[Gu]:null}function EM(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}function DM(n){return n.flat(Number.POSITIVE_INFINITY)}function sg(n,e){n.forEach(t=>Array.isArray(t)?sg(t,e):e(t))}function oD(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ku(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function TM(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function bM(n,e,t){let r=da(n,e);return r>=0?n[r|1]=t:(r=~r,TM(n,r,e,t)),r}function Kf(n,e){let t=da(n,e);if(t>=0)return n[t|1]}function da(n,e){return CM(n,e,1)}function CM(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}var ws={},xt=[],Es=new U(""),aD=new U("",-1),cD=new U(""),Qu=class{get(e,t=ia){if(t===ia){let r=new Error(`NullInjectorError: No provider for ${ht(e)}!`);throw r.name="NullInjectorError",r}return t}},uD=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(uD||{}),nn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(nn||{}),wr=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(wr||{});function AM(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function lp(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{let s=i,o=t[++r];RM(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function SM(n){return n===3||n===4||n===6}function RM(n){return n.charCodeAt(0)===64}function sa(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?vE(n,t,i,null,e[++r]):vE(n,t,i,null,null))}}return n}function vE(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[s+1]=i);return}else if(r===n[s+1]){n[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),r!==null&&n.splice(s++,0,r),i!==null&&n.splice(s++,0,i)}var lD="ng-template";function NM(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&AM(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(og(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function og(n){return n.type===4&&n.value!==lD}function MM(n,e,t){let r=n.type===4&&!t?lD:n.value;return e===r}function xM(n,e,t){let r=4,i=n.attrs,s=i!==null?kM(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!Ht(r)&&!Ht(u))return!1;if(o&&Ht(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!MM(n,u,t)||u===""&&e.length===1){if(Ht(r))return!1;o=!0}}else if(r&8){if(i===null||!NM(n,i,u,t)){if(Ht(r))return!1;o=!0}}else{let l=e[++a],h=PM(u,i,og(n),t);if(h===-1){if(Ht(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Ht(r))return!1;o=!0}}}}return Ht(r)||o}function Ht(n){return(n&1)===0}function PM(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return FM(e,n)}function OM(n,e,t=!1){for(let r=0;r<e.length;r++)if(xM(n,e[r],t))return!0;return!1}function kM(n){for(let e=0;e<n.length;e++){let t=n[e];if(SM(t))return e}return n.length}function FM(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function _E(n,e){return n?":not("+e.trim()+")":e}function LM(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Ht(o)&&(e+=_E(s,i),i=""),r=o,s=s||!Ht(r);t++}return i!==""&&(e+=_E(s,i)),e}function VM(n){return n.map(LM).join(",")}function UM(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!Ht(i))break;i=s}r++}return{attrs:e,classes:t}}function dD(n){return la(()=>{let e=mD(n),t=ce(k({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===uD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||nn.Emulated,styles:n.styles||xt,_:null,schemas:n.schemas||null,tView:null,id:""});yD(t);let r=n.dependencies;return t.directiveDefs=wE(r,!1),t.pipeDefs=wE(r,!0),t.id=$M(t),t})}function jM(n){return Er(n)||hD(n)}function BM(n){return n!==null}function un(n){return la(()=>({type:n.type,bootstrap:n.bootstrap||xt,declarations:n.declarations||xt,imports:n.imports||xt,exports:n.exports||xt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function IE(n,e){if(n==null)return ws;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,a=wr.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(t[s]=a!==wr.None?[r,a]:r,e[s]=o):t[s]=r}return t}function Ce(n){return la(()=>{let e=mD(n);return yD(e),e})}function Er(n){return n[aM]||null}function hD(n){return n[cM]||null}function fD(n){return n[uM]||null}function pD(n){let e=Er(n)||hD(n)||fD(n);return e!==null?e.standalone:!1}function gD(n,e){let t=n[lM]||null;if(!t&&e===!0)throw new Error(`Type ${ht(n)} does not have '\u0275mod' property.`);return t}function mD(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||ws,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||xt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:IE(n.inputs,e),outputs:IE(n.outputs),debugInfo:null}}function yD(n){n.features?.forEach(e=>e(n))}function wE(n,e){if(!n)return null;let t=e?fD:jM;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(BM)}function $M(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Ot(n){return{\u0275providers:n}}function HM(...n){return{\u0275providers:vD(!0,n),\u0275fromNgModule:!0}}function vD(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return sg(e,o=>{let a=o;dp(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&_D(i,s),t}function _D(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];ag(i,s=>{e(s,r)})}}function dp(n,e,t,r){if(n=dt(n),!n)return!1;let i=null,s=pE(n),o=!s&&Er(n);if(!s&&!o){let u=n.ngModule;if(s=pE(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=n}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)dp(l,e,t,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{sg(s.imports,h=>{dp(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&_D(l,e)}if(!a){let l=Is(i)||(()=>new i);e({provide:i,useFactory:l,deps:xt},i),e({provide:cD,useValue:i,multi:!0},i),e({provide:Es,useValue:()=>z(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=n;ag(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function ag(n,e){for(let t of n)nD(t)&&(t=t.\u0275providers),Array.isArray(t)?ag(t,e):e(t)}var zM=De({provide:String,useValue:De});function ID(n){return n!==null&&typeof n=="object"&&zM in n}function qM(n){return!!(n&&n.useExisting)}function GM(n){return!!(n&&n.useFactory)}function Ds(n){return typeof n=="function"}function WM(n){return!!n.useClass}var _l=new U(""),ju={},KM={},Qf;function cg(){return Qf===void 0&&(Qf=new Qu),Qf}var ft=class{},oa=class extends ft{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fp(e,o=>this.processProvider(o)),this.records.set(aD,ps(void 0,this)),i.has("environment")&&this.records.set(ft,ps(void 0,this));let s=this.records.get(_l);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(cD,xt,oe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=vr(this),r=Mt(void 0),i;try{return e()}finally{vr(t),Mt(r)}}get(e,t=ia,r=oe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(mE))return e[mE](this);r=vl(r);let i,s=vr(this),o=Mt(void 0);try{if(!(r&oe.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=XM(e)&&ml(e);l&&this.injectableDefInScope(l)?u=ps(hp(e),ju):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&oe.Self?cg():this.parent;return t=r&oe.Optional&&t===ia?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Wu]=a[Wu]||[]).unshift(ht(e)),s)throw a;return IM(a,e,"R3InjectorError",this.source)}else throw a}finally{Mt(o),vr(s)}}resolveInjectorInitializers(){let e=pe(null),t=vr(this),r=Mt(void 0),i;try{let s=this.get(Es,xt,oe.Self);for(let o of s)o()}finally{vr(t),Mt(r),pe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(ht(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new H(205,!1)}processProvider(e){e=dt(e);let t=Ds(e)?e:dt(e&&e.provide),r=YM(e);if(!Ds(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ps(void 0,ju,!0),i.factory=()=>up(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=pe(null);try{return t.value===ju&&(t.value=KM,t.value=t.factory()),typeof t.value=="object"&&t.value&&ZM(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=dt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function hp(n){let e=ml(n),t=e!==null?e.factory:Is(n);if(t!==null)return t;if(n instanceof U)throw new H(204,!1);if(n instanceof Function)return QM(n);throw new H(204,!1)}function QM(n){if(n.length>0)throw new H(204,!1);let t=sM(n);return t!==null?()=>t.factory(n):()=>new n}function YM(n){if(ID(n))return ps(void 0,n.useValue);{let e=wD(n);return ps(e,ju)}}function wD(n,e,t){let r;if(Ds(n)){let i=dt(n);return Is(i)||hp(i)}else if(ID(n))r=()=>dt(n.useValue);else if(GM(n))r=()=>n.useFactory(...up(n.deps||[]));else if(qM(n))r=()=>z(dt(n.useExisting));else{let i=dt(n&&(n.useClass||n.provide));if(JM(n))r=()=>new i(...up(n.deps));else return Is(i)||hp(i)}return r}function ps(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function JM(n){return!!n.deps}function ZM(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function XM(n){return typeof n=="function"||typeof n=="object"&&n instanceof U}function fp(n,e){for(let t of n)Array.isArray(t)?fp(t,e):t&&nD(t)?fp(t.\u0275providers,e):e(t)}function kt(n,e){n instanceof oa&&n.assertNotDestroyed();let t,r=vr(n),i=Mt(void 0);try{return e()}finally{vr(r),Mt(i)}}function ED(){return rD()!==void 0||yM()!=null}function ex(n){if(!ED())throw new H(-203,!1)}function tx(n){return typeof n=="function"}var kn=0,ie=1,Y=2,nt=3,zt=4,Gt=5,Yu=6,Ju=7,qt=8,Ts=9,rn=10,Pe=11,aa=12,EE=13,xs=14,sn=15,oi=16,gs=17,Mn=18,Il=19,DD=20,_r=21,Yf=22,Pt=23,on=25,TD=1;var ai=7,Zu=8,bs=9,Et=10,Xu=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Xu||{});function Ir(n){return Array.isArray(n)&&typeof n[TD]=="object"}function Fn(n){return Array.isArray(n)&&n[TD]===!0}function ug(n){return(n.flags&4)!==0}function wl(n){return n.componentOffset>-1}function El(n){return(n.flags&1)===1}function Dr(n){return!!n.template}function pp(n){return(n[Y]&512)!==0}var gp=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function bD(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Ln(){return CD}function CD(n){return n.type.prototype.ngOnChanges&&(n.setInput=rx),nx}Ln.ngInherit=!0;function nx(){let n=SD(this),e=n?.current;if(e){let t=n.previous;if(t===ws)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function rx(n,e,t,r,i){let s=this.declaredInputs[r],o=SD(n)||ix(n,{previous:ws,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new gp(l&&l.currentValue,t,u===ws),bD(n,e,i,t)}var AD="__ngSimpleChanges__";function SD(n){return n[AD]||null}function ix(n,e){return n[AD]=e}var DE=null;var en=function(n,e,t){DE?.(n,e,t)},sx="svg",ox="math";function an(n){for(;Array.isArray(n);)n=n[kn];return n}function RD(n,e){return an(e[n])}function Ft(n,e){return an(e[n.index])}function ND(n,e){return n.data[e]}function ax(n,e){return n[e]}function Cr(n,e){let t=e[n];return Ir(t)?t:t[kn]}function cx(n){return(n[Y]&4)===4}function lg(n){return(n[Y]&128)===128}function ux(n){return Fn(n[nt])}function Cs(n,e){return e==null?null:n[e]}function MD(n){n[gs]=0}function xD(n){n[Y]&1024||(n[Y]|=1024,lg(n)&&Tl(n))}function lx(n,e){for(;n>0;)e=e[xs],n--;return e}function Dl(n){return!!(n[Y]&9216||n[Pt]?.dirty)}function mp(n){n[rn].changeDetectionScheduler?.notify(8),n[Y]&64&&(n[Y]|=1024),Dl(n)&&Tl(n)}function Tl(n){n[rn].changeDetectionScheduler?.notify(0);let e=ci(n);for(;e!==null&&!(e[Y]&8192||(e[Y]|=8192,!lg(e)));)e=ci(e)}function PD(n,e){if((n[Y]&256)===256)throw new H(911,!1);n[_r]===null&&(n[_r]=[]),n[_r].push(e)}function dx(n,e){if(n[_r]===null)return;let t=n[_r].indexOf(e);t!==-1&&n[_r].splice(t,1)}function ci(n){let e=n[nt];return Fn(e)?e[nt]:e}var ae={lFrame:$D(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var OD=!1;function hx(){return ae.lFrame.elementDepthCount}function fx(){ae.lFrame.elementDepthCount++}function px(){ae.lFrame.elementDepthCount--}function kD(){return ae.bindingsEnabled}function gx(){return ae.skipHydrationRootTNode!==null}function mx(n){return ae.skipHydrationRootTNode===n}function yx(){ae.skipHydrationRootTNode=null}function _e(){return ae.lFrame.lView}function ze(){return ae.lFrame.tView}function k3(n){return ae.lFrame.contextLView=n,n[qt]}function F3(n){return ae.lFrame.contextLView=null,n}function pt(){let n=FD();for(;n!==null&&n.type===64;)n=n.parent;return n}function FD(){return ae.lFrame.currentTNode}function vx(){let n=ae.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function gi(n,e){let t=ae.lFrame;t.currentTNode=n,t.isParent=e}function dg(){return ae.lFrame.isParent}function LD(){ae.lFrame.isParent=!1}function _x(){return ae.lFrame.contextLView}function VD(){return OD}function TE(n){OD=n}function Ix(n){return ae.lFrame.bindingIndex=n}function bl(){return ae.lFrame.bindingIndex++}function wx(n){let e=ae.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Ex(){return ae.lFrame.inI18n}function Dx(n,e){let t=ae.lFrame;t.bindingIndex=t.bindingRootIndex=n,yp(e)}function Tx(){return ae.lFrame.currentDirectiveIndex}function yp(n){ae.lFrame.currentDirectiveIndex=n}function bx(n){let e=ae.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function UD(){return ae.lFrame.currentQueryIndex}function hg(n){ae.lFrame.currentQueryIndex=n}function Cx(n){let e=n[ie];return e.type===2?e.declTNode:e.type===1?n[Gt]:null}function jD(n,e,t){if(t&oe.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&oe.Host);)if(i=Cx(s),i===null||(s=s[xs],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=ae.lFrame=BD();return r.currentTNode=e,r.lView=n,!0}function fg(n){let e=BD(),t=n[ie];ae.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function BD(){let n=ae.lFrame,e=n===null?null:n.child;return e===null?$D(n):e}function $D(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function HD(){let n=ae.lFrame;return ae.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var zD=HD;function pg(){let n=HD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ax(n){return(ae.lFrame.contextLView=lx(n,ae.lFrame.contextLView))[qt]}function Ps(){return ae.lFrame.selectedIndex}function ui(n){ae.lFrame.selectedIndex=n}function Cl(){let n=ae.lFrame;return ND(n.tView,n.selectedIndex)}function Sx(){return ae.lFrame.currentNamespace}var qD=!0;function Al(){return qD}function Sl(n){qD=n}function Rx(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=CD(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function Rl(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Bu(n,e,t){GD(n,e,3,t)}function $u(n,e,t,r){(n[Y]&3)===t&&GD(n,e,t,r)}function Jf(n,e){let t=n[Y];(t&3)===e&&(t&=16383,t+=1,n[Y]=t)}function GD(n,e,t,r){let i=r!==void 0?n[gs]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[gs]+=65536),(a<s||s==-1)&&(Nx(n,t,e,u),n[gs]=(n[gs]&4294901760)+u+2),u++}function bE(n,e){en(4,n,e);let t=pe(null);try{e.call(n)}finally{pe(t),en(5,n,e)}}function Nx(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],a=n[o];i?n[Y]>>14<n[gs]>>16&&(n[Y]&3)===e&&(n[Y]+=16384,bE(a,s)):bE(a,s)}var _s=-1,li=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function Mx(n){return n instanceof li}function xx(n){return(n.flags&8)!==0}function Px(n){return(n.flags&16)!==0}var Zf={},vp=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=vl(r);let i=this.injector.get(e,Zf,r);return i!==Zf||t===Zf?i:this.parentInjector.get(e,t,r)}};function WD(n){return n!==_s}function el(n){return n&32767}function Ox(n){return n>>16}function tl(n,e){let t=Ox(n),r=e;for(;t>0;)r=r[xs],t--;return r}var _p=!0;function CE(n){let e=_p;return _p=n,e}var kx=256,KD=kx-1,QD=5,Fx=0,tn={};function Lx(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ra)&&(r=t[ra]),r==null&&(r=t[ra]=Fx++);let i=r&KD,s=1<<i;e.data[n+(i>>QD)]|=s}function nl(n,e){let t=YD(n,e);if(t!==-1)return t;let r=e[ie];r.firstCreatePass&&(n.injectorIndex=e.length,Xf(r.data,n),Xf(e,null),Xf(r.blueprint,null));let i=gg(n,e),s=n.injectorIndex;if(WD(i)){let o=el(i),a=tl(i,e),u=a[ie].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Xf(n,e){n.push(0,0,0,0,0,0,0,0,e)}function YD(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function gg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=tT(i),r===null)return _s;if(t++,i=i[xs],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return _s}function Ip(n,e,t){Lx(n,e,t)}function JD(n,e,t){if(t&oe.Optional||n!==void 0)return n;rg(e,"NodeInjector")}function ZD(n,e,t,r){if(t&oe.Optional&&r===void 0&&(r=null),!(t&(oe.Self|oe.Host))){let i=n[Ts],s=Mt(void 0);try{return i?i.get(e,r,t&oe.Optional):iD(e,r,t&oe.Optional)}finally{Mt(s)}}return JD(r,e,t)}function XD(n,e,t,r=oe.Default,i){if(n!==null){if(e[Y]&2048&&!(r&oe.Self)){let o=Bx(n,e,t,r,tn);if(o!==tn)return o}let s=eT(n,e,t,r,tn);if(s!==tn)return s}return ZD(e,t,r,i)}function eT(n,e,t,r,i){let s=Ux(t);if(typeof s=="function"){if(!jD(e,n,r))return r&oe.Host?JD(i,t,r):ZD(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&oe.Optional))rg(t);else return o}finally{zD()}}else if(typeof s=="number"){let o=null,a=YD(n,e),u=_s,l=r&oe.Host?e[sn][Gt]:null;for((a===-1||r&oe.SkipSelf)&&(u=a===-1?gg(n,e):e[a+8],u===_s||!SE(r,!1)?a=-1:(o=e[ie],a=el(u),e=tl(u,e)));a!==-1;){let h=e[ie];if(AE(s,a,h.data)){let p=Vx(a,e,t,o,r,l);if(p!==tn)return p}u=e[a+8],u!==_s&&SE(r,e[ie].data[a+8]===l)&&AE(s,a,e)?(o=h,a=el(u),e=tl(u,e)):a=-1}}return i}function Vx(n,e,t,r,i,s){let o=e[ie],a=o.data[n+8],u=r==null?wl(a)&&_p:r!=o&&(a.type&3)!==0,l=i&oe.Host&&s===a,h=Hu(a,o,t,u,l);return h!==null?di(e,o,h,a):tn}function Hu(n,e,t,r,i){let s=n.providerIndexes,o=e.data,a=s&1048575,u=n.directiveStart,l=n.directiveEnd,h=s>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let C=o[y];if(y<u&&t===C||y>=u&&C.type===t)return y}if(i){let y=o[u];if(y&&Dr(y)&&y.type===t)return u}return null}function di(n,e,t,r){let i=n[t],s=e.data;if(Mx(i)){let o=i;o.resolving&&hM(dM(s[t]));let a=CE(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Mt(o.injectImpl):null,h=jD(n,r,oe.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&Rx(t,s[t],e)}finally{l!==null&&Mt(l),CE(a),o.resolving=!1,zD()}}return i}function Ux(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ra)?n[ra]:void 0;return typeof e=="number"?e>=0?e&KD:jx:e}function AE(n,e,t){let r=1<<n;return!!(t[e+(n>>QD)]&r)}function SE(n,e){return!(n&oe.Self)&&!(n&oe.Host&&e)}var si=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return XD(this._tNode,this._lView,e,vl(r),t)}};function jx(){return new si(pt(),_e())}function ln(n){return la(()=>{let e=n.prototype.constructor,t=e[Gu]||wp(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[Gu]||wp(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function wp(n){return ZE(n)?()=>{let e=wp(dt(n));return e&&e()}:Is(n)}function Bx(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[Y]&2048&&!(o[Y]&512);){let a=eT(s,o,t,r|oe.Self,tn);if(a!==tn)return a;let u=s.parent;if(!u){let l=o[DD];if(l){let h=l.get(t,tn,r);if(h!==tn)return h}u=tT(o),o=o[xs]}s=u}return i}function tT(n){let e=n[ie],t=e.type;return t===2?e.declTNode:t===1?n[Gt]:null}function RE(n,e=null,t=null,r){let i=nT(n,e,t,r);return i.resolveInjectorInitializers(),i}function nT(n,e=null,t=null,r,i=new Set){let s=[t||xt,HM(n)];return r=r||(typeof n=="object"?void 0:ht(n)),new oa(s,e||cg(),r||null,i)}var Ye=class n{static{this.THROW_IF_NOT_FOUND=ia}static{this.NULL=new Qu}static create(e,t){if(Array.isArray(e))return RE({name:""},t,e,"");{let r=e.name??"";return RE({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=j({token:n,providedIn:"any",factory:()=>z(aD)})}static{this.__NG_ELEMENT_ID__=-1}};var $x=new U("");$x.__NG_ELEMENT_ID__=n=>{let e=pt();if(e===null)throw new H(204,!1);if(e.type&2)return e.value;if(n&oe.Optional)return null;throw new H(204,!1)};var Hx="ngOriginalError";function ep(n){return n[Hx]}var rT=!0,mg=(()=>{class n{static{this.__NG_ELEMENT_ID__=zx}static{this.__NG_ENV_ID__=t=>t}}return n})(),Ep=class extends mg{constructor(e){super(),this._lView=e}onDestroy(e){return PD(this._lView,e),()=>dx(this._lView,e)}};function zx(){return new Ep(_e())}var Ar=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ke(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}}return n})();var Dp=class extends Qe{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,ED()&&(this.destroyRef=x(mg,{optional:!0})??void 0,this.pendingTasks=x(Ar,{optional:!0})??void 0)}emit(e){let t=pe(null);try{super.next(e)}finally{pe(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Me&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Se=Dp;function rl(...n){}function iT(n){let e,t;function r(){n=rl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function NE(n){return queueMicrotask(()=>n()),()=>{n=rl}}var yg="isAngularZone",il=yg+"_ID",qx=0,me=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Se(!1),this.onMicrotaskEmpty=new Se(!1),this.onStable=new Se(!1),this.onError=new Se(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=rT}=e;if(typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,Kx(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(yg)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new H(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Gx,rl,rl);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Gx={};function vg(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Wx(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){iT(()=>{n.callbackScheduled=!1,Tp(n),n.isCheckStableRunning=!0,vg(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Tp(n)}function Kx(n){let e=()=>{Wx(n)},t=qx++;n._inner=n._inner.fork({name:"angular",properties:{[yg]:!0,[il]:t,[il+t]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(Qx(u))return r.invokeTask(s,o,a,u);try{return ME(n),r.invokeTask(s,o,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),xE(n)}},onInvoke:(r,i,s,o,a,u,l)=>{try{return ME(n),r.invoke(s,o,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Yx(u)&&e(),xE(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,Tp(n),vg(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function Tp(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function ME(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function xE(n){n._nesting--,vg(n)}var bp=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Se,this.onMicrotaskEmpty=new Se,this.onStable=new Se,this.onError=new Se}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function Qx(n){return sT(n,"__ignore_ng_zone__")}function Yx(n){return sT(n,"__scheduler_tick__")}function sT(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var xn=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&ep(e);for(;t&&ep(t);)t=ep(t);return t||null}},Jx=new U("",{providedIn:"root",factory:()=>{let n=x(me),e=x(xn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function Zx(){return Os(pt(),_e())}function Os(n,e){return new Tt(Ft(n,e))}var Tt=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=Zx}}return n})();function Xx(n){return n instanceof Tt?n.nativeElement:n}function eP(){return this._results[Symbol.iterator]()}var Cp=class n{get changes(){return this._changes??=new Se}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=eP)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=DM(e);(this._changesDetected=!EM(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function oT(n){return(n.flags&128)===128}var aT=new Map,tP=0;function nP(){return tP++}function rP(n){aT.set(n[Il],n)}function Ap(n){aT.delete(n[Il])}var PE="__ngContext__";function Tr(n,e){Ir(e)?(n[PE]=e[Il],rP(e)):n[PE]=e}function cT(n){return lT(n[aa])}function uT(n){return lT(n[zt])}function lT(n){for(;n!==null&&!Fn(n);)n=n[zt];return n}var Sp;function dT(n){Sp=n}function iP(){if(Sp!==void 0)return Sp;if(typeof document<"u")return document;throw new H(210,!1)}var _g=new U("",{providedIn:"root",factory:()=>sP}),sP="ng",Ig=new U(""),Lt=new U("",{providedIn:"platform",factory:()=>"unknown"});var wg=new U("",{providedIn:"root",factory:()=>iP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var oP="h",aP="b";var cP=()=>null;function Eg(n,e,t=!1){return cP(n,e,t)}var hT=!1,uP=new U("",{providedIn:"root",factory:()=>hT});var sl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${YE})`}};function Nl(n){return n instanceof sl?n.changingThisBreaksApplicationSecurity:n}function fT(n,e){let t=lP(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${YE})`)}return t===e}function lP(n){return n instanceof sl&&n.getTypeName()||null}var dP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function pT(n){return n=String(n),n.match(dP)?n:"unsafe:"+n}var Dg=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Dg||{});function L3(n){let e=hP();return e?e.sanitize(Dg.URL,n)||"":fT(n,"URL")?Nl(n):pT(yl(n))}function hP(){let n=_e();return n&&n[rn].sanitizer}var fP=/^>|^->|<!--|-->|--!>|<!-$/g,pP=/(<|>)/g,gP="\u200B$1\u200B";function mP(n){return n.replace(fP,e=>e.replace(pP,gP))}function gT(n){return n instanceof Function?n():n}function yP(n){return(n??x(Ye)).get(Lt)==="browser"}var Pn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Pn||{}),vP;function Tg(n,e){return vP(n,e)}function ms(n,e,t,r,i){if(r!=null){let s,o=!1;Fn(r)?s=r:Ir(r)&&(o=!0,r=r[kn]);let a=an(r);n===0&&t!==null?i==null?IT(e,t,a):ol(e,t,a,i||null,!0):n===1&&t!==null?ol(e,t,a,i||null,!0):n===2?OP(e,a,o):n===3&&e.destroyNode(a),s!=null&&FP(e,n,s,t,i)}}function _P(n,e){return n.createText(e)}function IP(n,e,t){n.setValue(e,t)}function wP(n,e){return n.createComment(mP(e))}function mT(n,e,t){return n.createElement(e,t)}function EP(n,e){yT(n,e),e[kn]=null,e[Gt]=null}function DP(n,e,t,r,i,s){r[kn]=i,r[Gt]=e,xl(n,r,t,1,i,s)}function yT(n,e){e[rn].changeDetectionScheduler?.notify(9),xl(n,e,e[Pe],2,null,null)}function TP(n){let e=n[aa];if(!e)return tp(n[ie],n);for(;e;){let t=null;if(Ir(e))t=e[aa];else{let r=e[Et];r&&(t=r)}if(!t){for(;e&&!e[zt]&&e!==n;)Ir(e)&&tp(e[ie],e),e=e[nt];e===null&&(e=n),Ir(e)&&tp(e[ie],e),t=e&&e[zt]}e=t}}function bP(n,e,t,r){let i=Et+r,s=t.length;r>0&&(t[i-1][zt]=e),r<s-Et?(e[zt]=t[i],oD(t,Et+r,e)):(t.push(e),e[zt]=null),e[nt]=t;let o=e[oi];o!==null&&t!==o&&vT(o,e);let a=e[Mn];a!==null&&a.insertView(n),mp(e),e[Y]|=128}function vT(n,e){let t=n[bs],r=e[nt];if(Ir(r))n[Y]|=Xu.HasTransplantedViews;else{let i=r[nt][sn];e[sn]!==i&&(n[Y]|=Xu.HasTransplantedViews)}t===null?n[bs]=[e]:t.push(e)}function bg(n,e){let t=n[bs],r=t.indexOf(e);t.splice(r,1)}function Rp(n,e){if(n.length<=Et)return;let t=Et+e,r=n[t];if(r){let i=r[oi];i!==null&&i!==n&&bg(i,r),e>0&&(n[t-1][zt]=r[zt]);let s=Ku(n,Et+e);EP(r[ie],r);let o=s[Mn];o!==null&&o.detachView(s[ie]),r[nt]=null,r[zt]=null,r[Y]&=-129}return r}function _T(n,e){if(!(e[Y]&256)){let t=e[Pe];t.destroyNode&&xl(n,e,t,3,null,null),TP(e)}}function tp(n,e){if(e[Y]&256)return;let t=pe(null);try{e[Y]&=-129,e[Y]|=256,e[Pt]&&Rf(e[Pt]),AP(n,e),CP(n,e),e[ie].type===1&&e[Pe].destroy();let r=e[oi];if(r!==null&&Fn(e[nt])){r!==e[nt]&&bg(r,e);let i=e[Mn];i!==null&&i.detachView(n)}Ap(e)}finally{pe(t)}}function CP(n,e){let t=n.cleanup,r=e[Ju];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[t[s+1]];t[s].call(o)}r!==null&&(e[Ju]=null);let i=e[_r];if(i!==null){e[_r]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function AP(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof li)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];en(4,a,u);try{u.call(a)}finally{en(5,a,u)}}else{en(4,i,s);try{s.call(i)}finally{en(5,i,s)}}}}}function SP(n,e,t){return RP(n,e.parent,t)}function RP(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[kn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=n.data[r.directiveStart+i];if(s===nn.None||s===nn.Emulated)return null}return Ft(r,t)}}function ol(n,e,t,r,i){n.insertBefore(e,t,r,i)}function IT(n,e,t){n.appendChild(e,t)}function OE(n,e,t,r,i){r!==null?ol(n,e,t,r,i):IT(n,e,t)}function wT(n,e){return n.parentNode(e)}function NP(n,e){return n.nextSibling(e)}function MP(n,e,t){return PP(n,e,t)}function xP(n,e,t){return n.type&40?Ft(n,t):null}var PP=xP,kE;function Ml(n,e,t,r){let i=SP(n,r,e),s=e[Pe],o=r.parent||e[Gt],a=MP(o,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)OE(s,i,t[u],a,!1);else OE(s,i,t,a,!1);kE!==void 0&&kE(s,r,e,t,i)}function na(n,e){if(e!==null){let t=e.type;if(t&3)return Ft(e,n);if(t&4)return Np(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return na(n,r);{let i=n[e.index];return Fn(i)?Np(-1,i):an(i)}}else{if(t&128)return na(n,e.next);if(t&32)return Tg(e,n)()||an(n[e.index]);{let r=ET(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ci(n[sn]);return na(i,r)}else return na(n,e.next)}}}return null}function ET(n,e){if(e!==null){let r=n[sn][Gt],i=e.projection;return r.projection[i]}return null}function Np(n,e){let t=Et+n+1;if(t<e.length){let r=e[t],i=r[ie].firstChild;if(i!==null)return na(r,i)}return e[ai]}function OP(n,e,t){n.removeChild(null,e,t)}function Cg(n,e,t,r,i,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(o&&e===0&&(a&&Tr(an(a),r),t.flags|=2),(t.flags&32)!==32)if(u&8)Cg(n,e,t.child,r,i,s,!1),ms(e,n,i,a,s);else if(u&32){let l=Tg(t,r),h;for(;h=l();)ms(e,n,i,h,s);ms(e,n,i,a,s)}else u&16?kP(n,e,r,t,i,s):ms(e,n,i,a,s);t=o?t.projectionNext:t.next}}function xl(n,e,t,r,i,s){Cg(t,r,n.firstChild,e,i,s,!1)}function kP(n,e,t,r,i,s){let o=t[sn],u=o[Gt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];ms(e,n,i,h,s)}else{let l=u,h=o[nt];oT(r)&&(l.flags|=128),Cg(n,e,l,h,i,s,!0)}}function FP(n,e,t,r,i){let s=t[ai],o=an(t);s!==o&&ms(e,n,r,s,i);for(let a=Et;a<t.length;a++){let u=t[a];xl(u[ie],u,n,e,r,s)}}function LP(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:Pn.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Pn.Important),n.setStyle(t,r,i,s))}}function VP(n,e,t){n.setAttribute(e,"style",t)}function DT(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function TT(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&lp(n,e,r),i!==null&&DT(n,e,i),s!==null&&VP(n,e,s)}var mi={};function V3(n=1){bT(ze(),_e(),Ps()+n,!1)}function bT(n,e,t,r){if(!r)if((e[Y]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Bu(e,s,t)}else{let s=n.preOrderHooks;s!==null&&$u(e,s,0,t)}ui(t)}function te(n,e=oe.Default){let t=_e();if(t===null)return z(n,e);let r=pt();return XD(r,t,dt(n),e)}function CT(){let n="invalid";throw new Error(n)}function AT(n,e,t,r,i,s){let o=pe(null);try{let a=null;i&wr.SignalBased&&(a=e[r][An]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&wr.HasDecoratorInputTransform&&(s=n.inputTransforms[r].call(e,s)),n.setInput!==null?n.setInput(e,a,s,t,r):bD(e,a,r,s)}finally{pe(o)}}function UP(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)ui(~i);else{let s=i,o=t[++r],a=t[++r];Dx(o,s);let u=e[s];a(2,u)}}}finally{ui(-1)}}function Pl(n,e,t,r,i,s,o,a,u,l,h){let p=e.blueprint.slice();return p[kn]=i,p[Y]=r|4|128|8|64,(l!==null||n&&n[Y]&2048)&&(p[Y]|=2048),MD(p),p[nt]=p[xs]=n,p[qt]=t,p[rn]=o||n&&n[rn],p[Pe]=a||n&&n[Pe],p[Ts]=u||n&&n[Ts]||null,p[Gt]=s,p[Il]=nP(),p[Yu]=h,p[DD]=l,p[sn]=e.type==2?n[sn]:p,p}function ha(n,e,t,r,i){let s=n.data[e];if(s===null)s=jP(n,e,t,r,i),Ex()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=vx();s.injectorIndex=o===null?-1:o.injectorIndex}return gi(s,!0),s}function jP(n,e,t,r,i){let s=FD(),o=dg(),a=o?s:s&&s.parent,u=n.data[e]=GP(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function ST(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function RT(n,e,t,r,i){let s=Ps(),o=r&2;try{ui(-1),o&&e.length>on&&bT(n,e,on,!1),en(o?2:0,i),t(r,i)}finally{ui(s),en(o?3:1,i)}}function Ag(n,e,t){if(ug(e)){let r=pe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=n.data[o];if(a.contentQueries){let u=t[o];a.contentQueries(1,u,o)}}}finally{pe(r)}}}function Sg(n,e,t){kD()&&(ZP(n,e,t,Ft(t,e)),(t.flags&64)===64&&xT(n,e,t))}function Rg(n,e,t=Ft){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?t(e,n):n[o];n[i++]=a}}}function NT(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Ng(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Ng(n,e,t,r,i,s,o,a,u,l,h){let p=on+r,m=p+i,y=BP(p,m),C=typeof l=="function"?l():l;return y[ie]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function BP(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:mi);return t}function $P(n,e,t,r){let s=r.get(uP,hT)||t===nn.ShadowDom,o=n.selectRootElement(e,s);return HP(o),o}function HP(n){zP(n)}var zP=()=>null;function qP(n,e,t,r){let i=kT(e);i.push(t),n.firstCreatePass&&FT(n).push(r,i.length-1)}function GP(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return gx()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function FE(n,e,t,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=wr.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}n===0?LE(r,t,l,a,u):LE(r,t,l,a)}return r}function LE(n,e,t,r,i){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,r):s=n[t]=[e,r],i!==void 0&&s.push(i)}function WP(n,e,t){let r=e.directiveStart,i=e.directiveEnd,s=n.data,o=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],m=t?t.get(p):null,y=m?m.inputs:null,C=m?m.outputs:null;u=FE(0,p.inputs,h,u,y),l=FE(1,p.outputs,h,l,C);let N=u!==null&&o!==null&&!og(e)?uO(u,h,o):null;a.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function KP(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Mg(n,e,t,r,i,s,o,a){let u=Ft(e,t),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Pg(n,t,h,r,i),wl(e)&&QP(t,e.index)):e.type&3?(r=KP(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function QP(n,e){let t=Cr(e,n);t[Y]&16||(t[Y]|=64)}function xg(n,e,t,r){if(kD()){let i=r===null?null:{"":-1},s=eO(n,t),o,a;s===null?o=a=null:[o,a]=s,o!==null&&MT(n,e,t,o,i,a),i&&tO(t,r,i)}t.mergedAttrs=sa(t.mergedAttrs,t.attrs)}function MT(n,e,t,r,i,s){for(let l=0;l<r.length;l++)Ip(nl(t,e),n,r[l].type);rO(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=ST(n,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];t.mergedAttrs=sa(t.mergedAttrs,h.hostAttrs),iO(n,t,e,u,h),nO(u,h,i),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}WP(n,t,s)}function YP(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;JP(o)!=a&&o.push(a),o.push(t,r,s)}}function JP(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function ZP(n,e,t,r){let i=t.directiveStart,s=t.directiveEnd;wl(t)&&sO(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||nl(t,e),Tr(r,e);let o=t.initialInputs;for(let a=i;a<s;a++){let u=n.data[a],l=di(e,n,a,t);if(Tr(l,e),o!==null&&cO(e,a-i,l,u,t,o),Dr(u)){let h=Cr(t.index,e);h[qt]=di(e,n,a,t)}}}function xT(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=Tx();try{ui(s);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];yp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&XP(u,l)}}finally{ui(-1),yp(o)}}function XP(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function eO(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(OM(e,o.selectors,!1))if(r||(r=[]),Dr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;Mp(n,e,u)}else r.unshift(o),Mp(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Mp(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function tO(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new H(-301,!1);r.push(e[i],s)}}}function nO(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Dr(e)&&(t[""]=n)}}function rO(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function iO(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=Is(i.type,!0)),o=new li(s,Dr(i),te);n.blueprint[r]=o,t[r]=o,YP(n,e,r,ST(n,t,i.hostVars,mi),i)}function sO(n,e,t){let r=Ft(e,n),i=NT(t),s=n[rn].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let a=Ol(n,Pl(n,i,null,o,r,e,null,s.createRenderer(r,t),null,null,null));n[e.index]=a}function oO(n,e,t,r,i,s){let o=Ft(n,e);aO(e[Pe],o,s,n.value,t,r,i)}function aO(n,e,t,r,i,s,o){if(s==null)n.removeAttribute(e,i,t);else{let a=o==null?yl(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}function cO(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],h=o[a++],p=o[a++];AT(r,t,u,l,h,p)}}function uO(n,e,t){let r=null,i=0;for(;i<t.length;){let s=t[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){r===null&&(r=[]);let o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],t[i+1]);break}}i+=2}return r}function PT(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function OT(n,e){let t=n.contentQueries;if(t!==null){let r=pe(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let a=n.data[o];hg(s),a.contentQueries(2,e[o],o)}}}finally{pe(r)}}}function Ol(n,e){return n[aa]?n[EE][zt]=e:n[aa]=e,n[EE]=e,e}function xp(n,e,t){hg(0);let r=pe(null);try{e(n,t)}finally{pe(r)}}function kT(n){return n[Ju]??=[]}function FT(n){return n.cleanup??=[]}function LT(n,e){let t=n[Ts],r=t?t.get(xn,null):null;r&&r.handleError(e)}function Pg(n,e,t,r,i){for(let s=0;s<t.length;){let o=t[s++],a=t[s++],u=t[s++],l=e[o],h=n.data[o];AT(h,l,r,a,u,i)}}function lO(n,e,t){let r=RD(e,n);IP(n[Pe],r,t)}function dO(n,e){let t=Cr(e,n),r=t[ie];hO(r,t);let i=t[kn];i!==null&&t[Yu]===null&&(t[Yu]=Eg(i,t[Ts])),Og(r,t,t[qt])}function hO(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Og(n,e,t){fg(e);try{let r=n.viewQuery;r!==null&&xp(1,r,t);let i=n.template;i!==null&&RT(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Mn]?.finishViewCreation(n),n.staticContentQueries&&OT(n,e),n.staticViewQueries&&xp(2,n.viewQuery,t);let s=n.components;s!==null&&fO(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Y]&=-5,pg()}}function fO(n,e){for(let t=0;t<e.length;t++)dO(n,e[t])}function pO(n,e,t,r){let i=pe(null);try{let s=e.tView,a=n[Y]&4096?4096:16,u=Pl(n,s,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[oi]=l;let h=n[Mn];return h!==null&&(u[Mn]=h.createEmbeddedView(s)),Og(s,u,t),u}finally{pe(i)}}function VE(n,e){return!e||e.firstChild===null||oT(n)}function gO(n,e,t,r=!0){let i=e[ie];if(bP(i,e,n,t),r){let o=Np(t,n),a=e[Pe],u=wT(a,n[ai]);u!==null&&DP(i,n[Gt],a,e,u,o)}let s=e[Yu];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function al(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(an(s)),Fn(s)&&mO(s,r);let o=t.type;if(o&8)al(n,e,t.child,r);else if(o&32){let a=Tg(t,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=ET(e,t);if(Array.isArray(a))r.push(...a);else{let u=ci(e[sn]);al(u[ie],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function mO(n,e){for(let t=Et;t<n.length;t++){let r=n[t],i=r[ie].firstChild;i!==null&&al(r[ie],r,i,e)}n[ai]!==n[kn]&&e.push(n[ai])}var VT=[];function yO(n){return n[Pt]??vO(n)}function vO(n){let e=VT.pop()??Object.create(IO);return e.lView=n,e}function _O(n){n.lView[Pt]!==n&&(n.lView=null,VT.push(n))}var IO=ce(k({},Zo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Tl(n.lView)},consumerOnSignalRead(){this.lView[Pt]=this}});function wO(n){let e=n[Pt]??Object.create(EO);return e.lView=n,e}var EO=ce(k({},Zo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=ci(n.lView);for(;e&&!UT(e[ie]);)e=ci(e);e&&xD(e)},consumerOnSignalRead(){this.lView[Pt]=this}});function UT(n){return n.type!==2}var DO=100;function jT(n,e=!0,t=0){let r=n[rn],i=r.rendererFactory,s=!1;s||i.begin?.();try{TO(n,t)}catch(o){throw e&&LT(n,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function TO(n,e){let t=VD();try{TE(!0),Pp(n,e);let r=0;for(;Dl(n);){if(r===DO)throw new H(103,!1);r++,Pp(n,1)}}finally{TE(t)}}function bO(n,e,t,r){let i=e[Y];if((i&256)===256)return;let s=!1,o=!1;!s&&e[rn].inlineEffectRunner?.flush(),fg(e);let a=!0,u=null,l=null;s||(UT(n)?(l=yO(e),u=ou(l)):Sw()===null?(a=!1,l=wO(e),u=ou(l)):e[Pt]&&(Rf(e[Pt]),e[Pt]=null));try{MD(e),Ix(n.bindingStartIndex),t!==null&&RT(n,e,t,2,r);let h=(i&3)===3;if(!s)if(h){let y=n.preOrderCheckHooks;y!==null&&Bu(e,y,null)}else{let y=n.preOrderHooks;y!==null&&$u(e,y,0,null),Jf(e,0)}if(o||CO(e),BT(e,0),n.contentQueries!==null&&OT(n,e),!s)if(h){let y=n.contentCheckHooks;y!==null&&Bu(e,y)}else{let y=n.contentHooks;y!==null&&$u(e,y,1),Jf(e,1)}UP(n,e);let p=n.components;p!==null&&HT(e,p,0);let m=n.viewQuery;if(m!==null&&xp(2,m,r),!s)if(h){let y=n.viewCheckHooks;y!==null&&Bu(e,y)}else{let y=n.viewHooks;y!==null&&$u(e,y,2),Jf(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Yf]){for(let y of e[Yf])y();e[Yf]=null}s||(e[Y]&=-73)}catch(h){throw s||Tl(e),h}finally{l!==null&&(Af(l,u),a&&_O(l)),pg()}}function BT(n,e){for(let t=cT(n);t!==null;t=uT(t))for(let r=Et;r<t.length;r++){let i=t[r];$T(i,e)}}function CO(n){for(let e=cT(n);e!==null;e=uT(e)){if(!(e[Y]&Xu.HasTransplantedViews))continue;let t=e[bs];for(let r=0;r<t.length;r++){let i=t[r];xD(i)}}}function AO(n,e,t){let r=Cr(e,n);$T(r,t)}function $T(n,e){lg(n)&&Pp(n,e)}function Pp(n,e){let r=n[ie],i=n[Y],s=n[Pt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Sf(s)),o||=!1,s&&(s.dirty=!1),n[Y]&=-9217,o)bO(r,n,r.template,n[qt]);else if(i&8192){BT(n,1);let a=r.components;a!==null&&HT(n,a,1)}}function HT(n,e,t){for(let r=0;r<e.length;r++)AO(n,e[r],t)}function kg(n,e){let t=VD()?64:1088;for(n[rn].changeDetectionScheduler?.notify(e);n;){n[Y]|=t;let r=ci(n);if(pp(n)&&!r)return n;n=r}return null}var hi=class{get rootNodes(){let e=this._lView,t=e[ie];return al(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qt]}set context(e){this._lView[qt]=e}get destroyed(){return(this._lView[Y]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[nt];if(Fn(e)){let t=e[Zu],r=t?t.indexOf(this):-1;r>-1&&(Rp(e,r),Ku(t,r))}this._attachedToViewContainer=!1}_T(this._lView[ie],this._lView)}onDestroy(e){PD(this._lView,e)}markForCheck(){kg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Y]&=-129}reattach(){mp(this._lView),this._lView[Y]|=128}detectChanges(){this._lView[Y]|=1024,jT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=pp(this._lView),t=this._lView[oi];t!==null&&!e&&bg(t,this._lView),yT(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e;let t=pp(this._lView),r=this._lView[oi];r!==null&&!t&&vT(r,this._lView),mp(this._lView)}},fi=(()=>{class n{static{this.__NG_ELEMENT_ID__=NO}}return n})(),SO=fi,RO=class extends SO{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=pO(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new hi(i)}};function NO(){return Fg(pt(),_e())}function Fg(n,e){return n.type&4?new RO(e,n,Os(n,e)):null}var j3=new RegExp(`^(\\d+)*(${aP}|${oP})*(.*)`);var MO=()=>null;function UE(n,e){return MO(n,e)}var As=class{},kl=new U("",{providedIn:"root",factory:()=>!1});var zT=new U(""),qT=new U(""),Op=class{},cl=class{};function xO(n){let e=Error(`No component factory found for ${ht(n)}.`);return e[PO]=n,e}var PO="ngComponent";var kp=class{resolveComponentFactory(e){throw xO(e)}},Ss=class{static{this.NULL=new kp}},Rs=class{},Vn=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>OO()}}return n})();function OO(){let n=_e(),e=pt(),t=Cr(e.index,n);return(Ir(t)?t:n)[Pe]}var kO=(()=>{class n{static{this.\u0275prov=j({token:n,providedIn:"root",factory:()=>null})}}return n})();function ul(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=hE(i,a);else if(s==2){let u=a,l=e[++o];r=hE(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var ll=class extends Ss{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Er(e);return new Ns(t,this.ngModule)}};function jE(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:wr.None;e?t.push({propName:o,templateName:r,isSignal:(a&wr.SignalBased)!==0}):t.push({propName:o,templateName:r})}return t}function FO(n){let e=n.toLowerCase();return e==="svg"?sx:e==="math"?ox:null}var Ns=class extends cl{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=jE(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return jE(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=VM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=pe(null);try{i=i||this.ngModule;let o=i instanceof ft?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new vp(e,o):e,u=a.get(Rs,null);if(u===null)throw new H(407,!1);let l=a.get(kO,null),h=a.get(As,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",C=r?$P(m,r,this.componentDef.encapsulation,a):mT(m,y,FO(y)),N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let R=null;C!==null&&(R=Eg(C,a,!0));let F=Ng(0,null,null,1,0,null,null,null,null,null,null),$=Pl(null,F,null,N,null,null,p,m,a,null,R);fg($);let L,X,ve=null;try{let W=this.componentDef,E,v=null;W.findHostDirectiveDefs?(E=[],v=new Map,W.findHostDirectiveDefs(W,E,v),E.push(W)):E=[W];let I=LO($,C);ve=VO(I,C,W,E,$,p,m),X=ND(F,on),C&&BO(m,W,C,r),t!==void 0&&$O(X,this.ngContentSelectors,t),L=jO(ve,W,E,v,$,[HO]),Og(F,$,null)}catch(W){throw ve!==null&&Ap(ve),Ap($),W}finally{pg()}return new Fp(this.componentType,L,Os(X,$),$,X)}finally{pe(s)}}},Fp=class extends Op{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new hi(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;Pg(s[ie],s,i,e,t),this.previousInputValues.set(e,t);let o=Cr(this._tNode.index,s);kg(o,1)}}get injector(){return new si(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function LO(n,e){let t=n[ie],r=on;return n[r]=e,ha(t,r,2,"#host",null)}function VO(n,e,t,r,i,s,o){let a=i[ie];UO(r,n,e,o);let u=null;e!==null&&(u=Eg(e,i[Ts]));let l=s.rendererFactory.createRenderer(e,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let p=Pl(i,NT(t),null,h,i[n.index],n,s,l,null,null,u);return a.firstCreatePass&&Mp(a,n,r.length-1),Ol(i,p),i[n.index]=p}function UO(n,e,t,r){for(let i of n)e.mergedAttrs=sa(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(ul(e,e.mergedAttrs,!0),t!==null&&TT(r,t,e))}function jO(n,e,t,r,i,s){let o=pt(),a=i[ie],u=Ft(o,i);MT(a,i,o,t,null,r);for(let h=0;h<t.length;h++){let p=o.directiveStart+h,m=di(i,a,p,o);Tr(m,i)}xT(a,i,o),u&&Tr(u,i);let l=di(i,a,o.directiveStart+o.componentOffset,o);if(n[qt]=i[qt]=l,s!==null)for(let h of s)h(l,e);return Ag(a,o,i),l}function BO(n,e,t,r){if(r)lp(n,t,["ng-version","18.2.10"]);else{let{attrs:i,classes:s}=UM(e.selectors[0]);i&&lp(n,t,i),s&&s.length>0&&DT(n,t,s.join(" "))}}function $O(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null?Array.from(s):null)}}function HO(){let n=pt();Rl(_e()[ie],n)}var Sr=(()=>{class n{static{this.__NG_ELEMENT_ID__=zO}}return n})();function zO(){let n=pt();return WT(n,_e())}var qO=Sr,GT=class extends qO{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Os(this._hostTNode,this._hostLView)}get injector(){return new si(this._hostTNode,this._hostLView)}get parentInjector(){let e=gg(this._hostTNode,this._hostLView);if(WD(e)){let t=tl(e,this._hostLView),r=el(e),i=t[ie].data[r+8];return new si(i,t)}else return new si(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=BE(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Et}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=UE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,i,VE(this._hostTNode,o)),a}createComponent(e,t,r,i,s){let o=e&&!tx(e),a;if(o)a=t;else{let C=t||{};a=C.index,r=C.injector,i=C.projectableNodes,s=C.environmentInjector||C.ngModuleRef}let u=o?e:new Ns(Er(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let N=(o?l:this.parentInjector).get(ft,null);N&&(s=N)}let h=Er(u.componentType??{}),p=UE(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,s);return this.insertImpl(y.hostView,a,VE(this._hostTNode,p)),y}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(ux(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[nt],l=new GT(u,u[Gt],u[nt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return gO(o,i,s,r),e.attachToViewContainerRef(),oD(np(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=BE(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Rp(this._lContainer,t);r&&(Ku(np(this._lContainer),t),_T(r[ie],r))}detach(e){let t=this._adjustIndex(e,-1),r=Rp(this._lContainer,t);return r&&Ku(np(this._lContainer),t)!=null?new hi(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function BE(n){return n[Zu]}function np(n){return n[Zu]||(n[Zu]=[])}function WT(n,e){let t,r=e[n.index];return Fn(r)?t=r:(t=PT(r,e,null,n),e[n.index]=t,Ol(e,t)),WO(t,e,n,r),new GT(t,n,e)}function GO(n,e){let t=n[Pe],r=t.createComment(""),i=Ft(e,n),s=wT(t,i);return ol(t,s,r,NP(t,i),!1),r}var WO=YO,KO=()=>!1;function QO(n,e,t){return KO(n,e,t)}function YO(n,e,t,r){if(n[ai])return;let i;t.type&8?i=an(r):i=GO(e,t),n[ai]=i}var Lp=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Vp=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Lg(e,t).matches!==null&&this.queries[t].setDirty()}},Up=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=ik(e):this.predicate=e}},jp=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Bp=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,t,JO(t,s)),this.matchTNodeWithReadOption(e,t,Hu(t,e,s,!1,!1))}else r===fi?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Hu(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Tt||i===Sr||i===fi&&t.type&4)this.addMatch(t.index,-2);else{let s=Hu(t,e,i,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function JO(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function ZO(n,e){return n.type&11?Os(n,e):n.type&4?Fg(n,e):null}function XO(n,e,t,r){return t===-1?ZO(e,n):t===-2?ek(n,e,r):di(n,n[ie],t,e)}function ek(n,e,t){if(t===Tt)return Os(e,n);if(t===fi)return Fg(e,n);if(t===Sr)return WT(e,n)}function KT(n,e,t,r){let i=e[Mn].queries[r];if(i.matches===null){let s=n.data,o=t.matches,a=[];for(let u=0;o!==null&&u<o.length;u+=2){let l=o[u];if(l<0)a.push(null);else{let h=s[l];a.push(XO(e,h,o[u+1],t.metadata.read))}}i.matches=a}return i.matches}function $p(n,e,t,r){let i=n.queries.getByIndex(t),s=i.matches;if(s!==null){let o=KT(n,e,i,t);for(let a=0;a<s.length;a+=2){let u=s[a];if(u>0)r.push(o[a/2]);else{let l=s[a+1],h=e[-u];for(let p=Et;p<h.length;p++){let m=h[p];m[oi]===m[nt]&&$p(m[ie],m,l,r)}if(h[bs]!==null){let p=h[bs];for(let m=0;m<p.length;m++){let y=p[m];$p(y[ie],y,l,r)}}}}}return r}function tk(n,e){return n[Mn].queries[e].queryList}function nk(n,e,t){let r=new Cp((t&4)===4);return qP(n,e,r,r.destroy),(e[Mn]??=new Vp).queries.push(new Lp(r))-1}function rk(n,e,t){let r=ze();return r.firstCreatePass&&(sk(r,new Up(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),nk(r,_e(),e)}function ik(n){return n.split(",").map(e=>e.trim())}function sk(n,e,t){n.queries===null&&(n.queries=new jp),n.queries.track(new Bp(e,t))}function Lg(n,e){return n.queries.getByIndex(e)}function ok(n,e){let t=n[ie],r=Lg(t,e);return r.crossesNgTemplate?$p(t,n,e,[]):KT(t,n,r,e)}var $E=new Set;function yi(n){$E.has(n)||($E.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function ak(n){return typeof n=="function"&&n[An]!==void 0}function ks(n,e){yi("NgSignals");let t=Uw(n),r=t[An];return e?.equal&&(r.equal=e.equal),t.set=i=>Nf(r,i),t.update=i=>jw(r,i),t.asReadonly=ck.bind(t),t}function ck(){let n=this[An];if(n.readonlyFn===void 0){let e=()=>this();e[An]=n,n.readonlyFn=e}return n.readonlyFn}function QT(n){return ak(n)&&typeof n.set=="function"}function uk(n){return Object.getPrototypeOf(n.prototype).constructor}function gt(n){let e=uk(n.type),t=!0,r=[n];for(;e;){let i;if(Dr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new H(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let o=n;o.inputs=Lu(n.inputs),o.inputTransforms=Lu(n.inputTransforms),o.declaredInputs=Lu(n.declaredInputs),o.outputs=Lu(n.outputs);let a=i.hostBindings;a&&pk(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&hk(n,u),l&&fk(n,l),lk(n,i),rM(n.outputs,i.outputs),Dr(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===gt&&(t=!1)}}e=Object.getPrototypeOf(e)}dk(r)}function lk(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function dk(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=sa(i.hostAttrs,t=sa(t,i.hostAttrs))}}function Lu(n){return n===ws?{}:n===xt?[]:n}function hk(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function fk(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,s)=>{e(r,i,s),t(r,i,s)}:n.contentQueries=e}function pk(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}var br=class{},ca=class{};var Hp=class extends br{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ll(this);let s=gD(e);this._bootstrapComponents=gT(s.bootstrap),this._r3Injector=nT(e,t,[{provide:br,useValue:this},{provide:Ss,useValue:this.componentFactoryResolver},...r],ht(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},zp=class extends ca{constructor(e){super(),this.moduleType=e}create(e){return new Hp(this.moduleType,e,[])}};var dl=class extends br{constructor(e){super(),this.componentFactoryResolver=new ll(this),this.instance=null;let t=new oa([...e.providers,{provide:br,useValue:this},{provide:Ss,useValue:this.componentFactoryResolver}],e.parent||cg(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Fl(n,e,t=null){return new dl({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function YT(n){return mk(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function gk(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function mk(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function fa(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function yk(n){return(n.flags&32)===32}function vk(n,e,t,r,i,s,o,a,u){let l=e.consts,h=ha(e,n,4,o||null,a||null);xg(e,t,h,Cs(l,u)),Rl(e,h);let p=h.tView=Ng(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function _k(n,e,t,r,i,s,o,a,u,l){let h=t+on,p=e.firstCreatePass?vk(h,e,n,r,i,s,o,a,u):e.data[h];gi(p,!1);let m=wk(e,n,p,t);Al()&&Ml(e,n,m,p),Tr(m,n);let y=PT(m,n,m,p);return n[h]=y,Ol(n,y),QO(y,p,n),El(p)&&Sg(e,n,p),u!=null&&Rg(n,p,l),p}function Ik(n,e,t,r,i,s,o,a){let u=_e(),l=ze(),h=Cs(l.consts,s);return _k(u,l,n,e,t,r,i,h,o,a),Ik}var wk=Ek;function Ek(n,e,t,r){return Sl(!0),e[Pe].createComment("")}var ys=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(ys||{}),JT=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}}return n})(),qp=class n{constructor(){this.ngZone=x(me),this.scheduler=x(As),this.errorHandler=x(xn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[ys.EarlyRead,ys.Write,ys.MixedReadWrite,ys.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}},Gp=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Vg(n,e){!e?.injector&&ex(Vg);let t=e?.injector??x(Ye);return yP(t)?(yi("NgAfterNextRender"),Tk(n,t,e,!0)):bk}function Dk(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function Tk(n,e,t,r){let i=e.get(JT);i.impl??=e.get(qp);let s=t?.phase??ys.MixedReadWrite,o=t?.manualCleanup!==!0?e.get(mg):null,a=new Gp(i.impl,Dk(n,s),r,o);return i.impl.register(a),a}var bk={destroy(){}};function Ll(n,e,t,r){let i=_e(),s=bl();if(fa(i,s,e)){let o=ze(),a=Cl();oO(a,i,n,e,t,r)}return Ll}function ZT(n,e,t,r){return fa(n,bl(),t)?e+yl(t)+r:mi}function Vu(n,e){return n<<17|e<<2}function pi(n){return n>>17&32767}function Ck(n){return(n&2)==2}function Ak(n,e){return n&131071|e<<17}function Wp(n){return n|2}function Ms(n){return(n&131068)>>2}function rp(n,e){return n&-131069|e<<2}function Sk(n){return(n&1)===1}function Kp(n){return n|1}function Rk(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=pi(o),u=Ms(o);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||da(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=pi(n[a+1]);n[r+1]=Vu(m,a),m!==0&&(n[m+1]=rp(n[m+1],r)),n[a+1]=Ak(n[a+1],r)}else n[r+1]=Vu(a,0),a!==0&&(n[a+1]=rp(n[a+1],r)),a=r;else n[r+1]=Vu(u,0),a===0?a=r:n[u+1]=rp(n[u+1],r),u=r;l&&(n[r+1]=Wp(n[r+1])),HE(n,h,r,!0),HE(n,h,r,!1),Nk(e,h,n,r,s),o=Vu(a,u),s?e.classBindings=o:e.styleBindings=o}function Nk(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&da(s,e)>=0&&(t[r+1]=Kp(t[r+1]))}function HE(n,e,t,r){let i=n[t+1],s=e===null,o=r?pi(i):Ms(i),a=!1;for(;o!==0&&(a===!1||s);){let u=n[o],l=n[o+1];Mk(u,e)&&(a=!0,n[o+1]=r?Kp(l):Wp(l)),o=r?pi(l):Ms(l)}a&&(n[t+1]=r?Wp(i):Kp(i))}function Mk(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?da(n,e)>=0:!1}function xk(n,e,t){let r=_e(),i=bl();if(fa(r,i,e)){let s=ze(),o=Cl();Mg(s,o,r,n,e,r[Pe],t,!1)}return xk}function zE(n,e,t,r,i){let s=e.inputs,o=i?"class":"style";Pg(n,t,s[o],o,r)}function Vl(n,e){return Pk(n,e,null,!0),Vl}function Pk(n,e,t,r){let i=_e(),s=ze(),o=wx(2);if(s.firstUpdatePass&&kk(s,n,o,r),e!==mi&&fa(i,o,e)){let a=s.data[Ps()];jk(s,a,i,i[Pe],n,i[o+1]=Bk(e,t),r,o)}}function Ok(n,e){return e>=n.expandoStartIndex}function kk(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[Ps()],o=Ok(n,t);$k(s,r)&&e===null&&!o&&(e=!1),e=Fk(i,s,e,r),Rk(i,s,e,t,o,r)}}function Fk(n,e,t,r){let i=bx(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=ip(null,n,e,t,r),t=ua(t,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==i)if(t=ip(i,n,e,t,r),s===null){let u=Lk(n,e,r);u!==void 0&&Array.isArray(u)&&(u=ip(null,n,e,u[1],r),u=ua(u,e.attrs,r),Vk(n,e,r,u))}else s=Uk(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function Lk(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Ms(r)!==0)return n[pi(r)]}function Vk(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[pi(i)]=r}function Uk(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=n[s].hostAttrs;r=ua(r,o,t)}return ua(r,e.attrs,t)}function ip(n,e,t,r,i){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],r=ua(r,s.hostAttrs,i),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function ua(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),bM(n,o,t?!0:e[++s]))}return n===void 0?null:n}function jk(n,e,t,r,i,s,o,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=Sk(l)?qE(u,e,t,i,Ms(l),o):void 0;if(!hl(h)){hl(s)||Ck(l)&&(s=qE(u,null,t,i,a,o));let p=RD(Ps(),t);LP(r,o,p,i,s)}}function qE(n,e,t,r,i,s){let o=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===mi&&(m=p?xt:void 0);let y=p?Kf(m,r):h===r?m:void 0;if(l&&!hl(y)&&(y=Kf(u,r)),hl(y)&&(a=y,o))return a;let C=n[i+1];i=o?pi(C):Ms(C)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=Kf(u,r))}return a}function hl(n){return n!==void 0}function Bk(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=ht(Nl(n)))),n}function $k(n,e){return(n.flags&(e?8:16))!==0}function Hk(n,e,t,r,i,s){let o=e.consts,a=Cs(o,i),u=ha(e,n,2,r,a);return xg(e,t,u,Cs(o,s)),u.attrs!==null&&ul(u,u.attrs,!1),u.mergedAttrs!==null&&ul(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function XT(n,e,t,r){let i=_e(),s=ze(),o=on+n,a=i[Pe],u=s.firstCreatePass?Hk(o,s,i,e,t,r):s.data[o],l=zk(s,i,u,a,e,n);i[o]=l;let h=El(u);return gi(u,!0),TT(a,l,u),!yk(u)&&Al()&&Ml(s,i,l,u),hx()===0&&Tr(l,i),fx(),h&&(Sg(s,i,u),Ag(s,u,i)),r!==null&&Rg(i,u),XT}function eb(){let n=pt();dg()?LD():(n=n.parent,gi(n,!1));let e=n;mx(e)&&yx(),px();let t=ze();return t.firstCreatePass&&(Rl(t,n),ug(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&xx(e)&&zE(t,e,_e(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Px(e)&&zE(t,e,_e(),e.stylesWithoutHost,!1),eb}function Ug(n,e,t,r){return XT(n,e,t,r),eb(),Ug}var zk=(n,e,t,r,i,s)=>(Sl(!0),mT(r,i,Sx()));function qk(n,e,t,r,i){let s=e.consts,o=Cs(s,r),a=ha(e,n,8,"ng-container",o);o!==null&&ul(a,o,!0);let u=Cs(s,i);return xg(e,t,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function Gk(n,e,t){let r=_e(),i=ze(),s=n+on,o=i.firstCreatePass?qk(s,i,r,e,t):i.data[s];gi(o,!0);let a=Kk(i,r,o,n);return r[s]=a,Al()&&Ml(i,r,a,o),Tr(a,r),El(o)&&(Sg(i,r,o),Ag(i,o,r)),t!=null&&Rg(r,o),Gk}function Wk(){let n=pt(),e=ze();return dg()?LD():(n=n.parent,gi(n,!1)),e.firstCreatePass&&(Rl(e,n),ug(n)&&e.queries.elementEnd(n)),Wk}var Kk=(n,e,t,r)=>(Sl(!0),wP(e[Pe],""));function $3(){return _e()}var fl="en-US";var Qk=fl;function Yk(n){typeof n=="string"&&(Qk=n.toLowerCase().replace(/_/g,"-"))}var Jk=(n,e,t)=>{};function dn(n,e,t,r){let i=_e(),s=ze(),o=pt();return tb(s,i,i[Pe],o,n,e,r),dn}function Zk(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let a=e[Ju],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function tb(n,e,t,r,i,s,o){let a=El(r),l=n.firstCreatePass&&FT(n),h=e[qt],p=kT(e),m=!0;if(r.type&3||o){let N=Ft(r,e),R=o?o(N):N,F=p.length,$=o?X=>o(an(X[r.index])):r.index,L=null;if(!o&&a&&(L=Zk(n,e,i,r.index)),L!==null){let X=L.__ngLastListenerFn__||L;X.__ngNextListenerFn__=s,L.__ngLastListenerFn__=s,m=!1}else{s=WE(r,e,h,s),Jk(N,i,s);let X=t.listen(R,i,s);p.push(s,X),l&&l.push(i,$,F,F+1)}}else s=WE(r,e,h,s);let y=r.outputs,C;if(m&&y!==null&&(C=y[i])){let N=C.length;if(N)for(let R=0;R<N;R+=2){let F=C[R],$=C[R+1],ve=e[F][$].subscribe(s),W=p.length;p.push(s,ve),l&&l.push(i,r.index,W,-(W+1))}}}function GE(n,e,t,r){let i=pe(null);try{return en(6,e,t),t(r)!==!1}catch(s){return LT(n,s),!1}finally{en(7,e,t),pe(i)}}function WE(n,e,t,r){return function i(s){if(s===Function)return r;let o=n.componentOffset>-1?Cr(n.index,e):e;kg(o,5);let a=GE(e,t,r,s),u=i.__ngNextListenerFn__;for(;u;)a=GE(e,t,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function H3(n=1){return Ax(n)}function Xk(n,e,t){return nb(n,"",e,"",t),Xk}function nb(n,e,t,r,i){let s=_e(),o=ZT(s,e,t,r);if(o!==mi){let a=ze(),u=Cl();Mg(a,u,s,n,o,s[Pe],i,!1)}return nb}function z3(n,e,t){rk(n,e,t)}function e1(n){let e=_e(),t=ze(),r=UD();hg(r+1);let i=Lg(t,r);if(n.dirty&&cx(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let s=ok(e,r);n.reset(s,Xx),n.notifyOnChanges()}return!0}return!1}function t1(){return tk(_e(),UD())}function q3(n){let e=_x();return ax(e,on+n)}function G3(n,e=""){let t=_e(),r=ze(),i=n+on,s=r.firstCreatePass?ha(r,i,1,e,null):r.data[i],o=n1(r,t,s,e,n);t[i]=o,Al()&&Ml(r,t,o,s),gi(s,!1)}var n1=(n,e,t,r,i)=>(Sl(!0),_P(e[Pe],r));function r1(n){return rb("",n,""),r1}function rb(n,e,t){let r=_e(),i=ZT(r,n,e,t);return i!==mi&&lO(r,Ps(),i),rb}function i1(n,e,t){QT(e)&&(e=e());let r=_e(),i=bl();if(fa(r,i,e)){let s=ze(),o=Cl();Mg(s,o,r,n,e,r[Pe],t,!1)}return i1}function W3(n,e){let t=QT(n);return t&&n.set(e),t}function s1(n,e){let t=_e(),r=ze(),i=pt();return tb(r,t,t[Pe],i,n,e),s1}function o1(n,e,t){let r=ze();if(r.firstCreatePass){let i=Dr(n);Qp(t,r.data,r.blueprint,i,!0),Qp(e,r.data,r.blueprint,i,!1)}}function Qp(n,e,t,r,i){if(n=dt(n),Array.isArray(n))for(let s=0;s<n.length;s++)Qp(n[s],e,t,r,i);else{let s=ze(),o=_e(),a=pt(),u=Ds(n)?n:dt(n.provide),l=wD(n),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Ds(n)||!n.multi){let y=new li(l,i,te),C=op(u,e,i?h:h+m,p);C===-1?(Ip(nl(a,o),s,u),sp(s,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),o.push(y)):(t[C]=y,o[C]=y)}else{let y=op(u,e,h+m,p),C=op(u,e,h,h+m),N=y>=0&&t[y],R=C>=0&&t[C];if(i&&!R||!i&&!N){Ip(nl(a,o),s,u);let F=u1(i?c1:a1,t.length,i,r,l);!i&&R&&(t[C].providerFactory=F),sp(s,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(F),o.push(F)}else{let F=ib(t[i?C:y],l,!i&&r);sp(s,n,y>-1?y:C,F)}!i&&r&&R&&t[C].componentProviders++}}}function sp(n,e,t,r){let i=Ds(e),s=WM(e);if(i||s){let u=(s?dt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function ib(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function op(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function a1(n,e,t,r){return Yp(this.multi,[])}function c1(n,e,t,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=di(t,t[ie],this.providerFactory.index,r);s=a.slice(0,o),Yp(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Yp(i,s);return s}function Yp(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function u1(n,e,t,r,i){let s=new li(n,t,te);return s.multi=[],s.index=e,s.componentProviders=0,ib(s,i,r&&!t),s}function Wt(n,e=[]){return t=>{t.providersResolver=(r,i)=>o1(r,i?i(n):n,e)}}var l1=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=vD(!1,t.type),i=r.length>0?Fl([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=j({token:n,providedIn:"environment",factory:()=>new n(z(ft))})}}return n})();function sb(n){yi("NgStandalone"),n.getStandaloneInjector=e=>e.get(l1).getOrCreateStandaloneInjector(n)}var On=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},ob=new On("18.2.10");var Ul=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var ab=new U("");function vi(n){return!!n&&typeof n.then=="function"}function cb(n){return!!n&&typeof n.subscribe=="function"}var jl=new U(""),ub=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=x(jl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=i();if(vi(s))t.push(s);else if(cb(s)){let o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pa=new U("");function d1(){Vw(()=>{throw new H(600,!1)})}function h1(n){return n.isBoundToModule}var f1=10;function p1(n,e,t){try{let r=t();return vi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Rr=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=x(Jx),this.afterRenderManager=x(JT),this.zonelessEnabled=x(kl),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Qe,this.afterTick=new Qe,this.componentTypes=[],this.components=[],this.isStable=x(Ar).hasPendingTasks.pipe(J(t=>!t)),this._injector=x(ft)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof cl;if(!this._injector.get(ub).done){let m=!i&&pD(t),y=!1;throw new H(405,y)}let o;i?o=t:o=this._injector.get(Ss).resolveComponentFactory(t),this.componentTypes.push(o.componentType);let a=h1(o)?void 0:this._injector.get(br),u=r||o.selector,l=o.create(Ye.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(ab,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),zu(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new H(101,!1);let t=pe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,pe(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Rs,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<f1;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)g1(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Dl(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;zu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(pa,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>zu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new H(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function zu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function g1(n,e,t,r){if(!t&&!Dl(n))return;jT(n,e,t&&!r?0:1)}var Jp=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Bl=(()=>{class n{compileModuleSync(t){return new zp(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=gD(t),s=gT(i.declarations).reduce((o,a)=>{let u=Er(a);return u&&o.push(new Ns(u)),o},[]);return new Jp(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var m1=(()=>{class n{constructor(){this.zone=x(me),this.changeDetectionScheduler=x(As),this.applicationRef=x(Rr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),y1=new U("",{factory:()=>!1});function lb({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new me(ce(k({},db()),{scheduleInRootZone:t})),[{provide:me,useFactory:n},{provide:Es,multi:!0,useFactory:()=>{let r=x(m1,{optional:!0});return()=>r.initialize()}},{provide:Es,multi:!0,useFactory:()=>{let r=x(v1);return()=>{r.initialize()}}},e===!0?{provide:zT,useValue:!0}:[],{provide:qT,useValue:t??rT}]}function K3(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=lb({ngZoneFactory:()=>{let i=db(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&yi("NgZone_CoalesceEvent"),new me(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Ot([{provide:y1,useValue:!0},{provide:kl,useValue:!1},r])}function db(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var v1=(()=>{class n{constructor(){this.subscription=new Me,this.initialized=!1,this.zone=x(me),this.pendingTasks=x(Ar)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{me.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{me.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var _1=(()=>{class n{constructor(){this.appRef=x(Rr),this.taskService=x(Ar),this.ngZone=x(me),this.zonelessEnabled=x(kl),this.disableScheduling=x(zT,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Me,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(il):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(qT,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof bp||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?NE:iT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(il+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,NE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function I1(){return typeof $localize<"u"&&$localize.locale||fl}var jg=new U("",{providedIn:"root",factory:()=>x(jg,oe.Optional|oe.SkipSelf)||I1()});var Zp=new U("");function Uu(n){return!n.moduleRef}function w1(n){let e=Uu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(me);return t.run(()=>{Uu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(xn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),Uu(n)){let s=()=>e.destroy(),o=n.platformInjector.get(Zp);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(Zp);o.add(s),n.moduleRef.onDestroy(()=>{zu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),o.delete(s)})}return p1(r,t,()=>{let s=e.get(ub);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(jg,fl);if(Yk(o||fl),Uu(n)){let a=e.get(Rr);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return E1(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function E1(n,e){let t=n.injector.get(Rr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new H(-403,!1);e.push(n)}var qu=null;function D1(n=[],e){return Ye.create({name:e,providers:[{provide:_l,useValue:"platform"},{provide:Zp,useValue:new Set([()=>qu=null])},...n]})}function T1(n=[]){if(qu)return qu;let e=D1(n);return qu=e,d1(),b1(e),e}function b1(n){n.get(Ig,null)?.forEach(t=>t())}var _i=(()=>{class n{static{this.__NG_ELEMENT_ID__=C1}}return n})();function C1(n){return A1(pt(),_e(),(n&16)===16)}function A1(n,e,t){if(wl(n)&&!t){let r=Cr(n.index,e);return new hi(r,r)}else if(n.type&175){let r=e[sn];return new hi(r,e)}return null}var Xp=class{constructor(){}supports(e){return YT(e)}create(e){return new eg(e)}},S1=(n,e)=>e,eg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||S1}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){let o=!r||t&&t.currentIndex<KE(r,i,s)?t:r,a=KE(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<s.length?s[m]:s[m]=0,C=y+m;h<=C&&C<l&&(s[m]=y+1)}let p=o.previousIndex;s[p]=h-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!YT(e))throw new H(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),r=!0):(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else i=0,gk(e,a=>{o=this._trackByFn(i,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new tg(t,r),s,i)),e}_verifyReinsertion(e,t,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new pl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new pl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},tg=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},ng=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},pl=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new ng,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function KE(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function QE(){return new Bg([new Xp])}var Bg=(()=>{class n{static{this.\u0275prov=j({token:n,providedIn:"root",factory:QE})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||QE()),deps:[[n,new ig,new rt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new H(901,!1)}}return n})();function hb(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=T1(r),s=[lb({}),{provide:As,useExisting:_1},...t||[]],o=new dl({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return w1({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function ga(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Fs(n,e){yi("NgSignals");let t=kw(n);return e?.equal&&(t[An].equal=e.equal),t}function hn(n){let e=pe(null);try{return n()}finally{pe(e)}}function fb(n){let e=Er(n);if(!e)return null;let t=new Ns(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var _b=null;function jn(){return _b}function Ib(n){_b??=n}var $l=class{};var it=new U(""),Wg=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:()=>x(x1),providedIn:"platform"})}}return n})(),wb=new U(""),x1=(()=>{class n extends Wg{constructor(){super(),this._doc=x(it),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return jn().getBaseHref(this._doc)}onPopState(t){let r=jn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=jn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function Kg(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function pb(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Un(n){return n&&n[0]!=="?"?"?"+n:n}var Ii=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:()=>x(Qg),providedIn:"root"})}}return n})(),Eb=new U(""),Qg=(()=>{class n extends Ii{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(it).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Kg(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Un(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Un(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Un(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(z(Wg),z(Eb,8))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Db=(()=>{class n extends Ii{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Kg(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Un(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Un(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(z(Wg),z(Eb,8))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),Vs=(()=>{class n{constructor(t){this._subject=new Se,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=k1(pb(gb(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Un(r))}normalize(t){return n.stripTrailingSlash(O1(this._basePath,gb(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Un(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Un(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Un}static{this.joinWithSlash=Kg}static{this.stripTrailingSlash=pb}static{this.\u0275fac=function(r){return new(r||n)(z(Ii))}}static{this.\u0275prov=j({token:n,factory:()=>P1(),providedIn:"root"})}}return n})();function P1(){return new Vs(z(Ii))}function O1(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function gb(n){return n.replace(/\/index.html$/,"")}function k1(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function Hl(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var $g=/\s+/,mb=[],I6=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=mb,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split($g):mb}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split($g):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split($g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(te(Tt),te(Vn))}}static{this.\u0275dir=Ce({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var Hg=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},w6=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Hg(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),yb(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);yb(s,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(te(Sr),te(fi),te(Bg))}}static{this.\u0275dir=Ce({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function yb(n,e){n.context.$implicit=e.item}var E6=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new zg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){vb("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){vb("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(te(Sr),te(fi))}}static{this.\u0275dir=Ce({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),zg=class{constructor(){this.$implicit=null,this.ngIf=null}};function vb(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${ht(e)}'.`)}var F1=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=un({type:n})}static{this.\u0275inj=cn({})}}return n})(),Yg="browser",L1="server";function V1(n){return n===Yg}function zl(n){return n===L1}var Tb=(()=>{class n{static{this.\u0275prov=j({token:n,providedIn:"root",factory:()=>V1(x(Lt))?new qg(x(it),window):new Gg})}}return n})(),qg=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=U1(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function U1(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Gg=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ls=class{};var ya=class{},Gl=class{},Bn=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Zg=class{encodeKey(e){return bb(e)}encodeValue(e){return bb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function B1(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=t.get(o)||[];u.push(a),t.set(o,u)}),t}var $1=/%(\d[a-f0-9])/gi,H1={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function bb(n){return encodeURIComponent(n).replace($1,(e,t)=>H1[t]??e)}function ql(n){return`${n}`}var xr=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Zg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=B1(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(ql):[ql(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(ql(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(ql(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Xg=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function z1(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Cb(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Ab(n){return typeof Blob<"u"&&n instanceof Blob}function Sb(n){return typeof FormData<"u"&&n instanceof FormData}function q1(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var ma=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(z1(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Bn,this.context??=new Xg,!this.params)this.params=new xr,this.urlWithParams=t;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Cb(this.body)||Ab(this.body)||Sb(this.body)||q1(this.body)?this.body:this.body instanceof xr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Sb(this.body)?null:Ab(this.body)?this.body.type||null:Cb(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof xr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),h)),new n(t,r,o,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:s})}},Pr=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Pr||{}),va=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new Bn,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Wl=class n extends va{constructor(e={}){super(e),this.type=Pr.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},_a=class n extends va{constructor(e={}){super(e),this.type=Pr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Mr=class extends va{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},xb=200,G1=204;function Jg(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var W1=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof ma)s=t;else{let u;i.headers instanceof Bn?u=i.headers:u=new Bn(i.headers);let l;i.params&&(i.params instanceof xr?l=i.params:l=new xr({fromObject:i.params})),s=new ma(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=K(s).pipe(Rn(u=>this.handler.handle(u)));if(t instanceof ma||i.observe==="events")return o;let a=o.pipe(lt(u=>u instanceof _a));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(J(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(J(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(J(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(J(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new xr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Jg(i,r))}post(t,r,i={}){return this.request("POST",t,Jg(i,r))}put(t,r,i={}){return this.request("PUT",t,Jg(i,r))}static{this.\u0275fac=function(r){return new(r||n)(z(ya))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),K1=/^\)\]\}',?\n/,Q1="X-Request-URL";function Rb(n){if(n.url)return n.url;let e=Q1.toLocaleLowerCase();return n.headers.get(e)}var Y1=(()=>{class n{constructor(){this.fetchImpl=x(em,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=x(me)}handle(t){return new se(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(tm,s=>r.error(new Mr({error:s}))),()=>i.abort()})}doRequest(t,r,i){return _(this,null,function*(){let s=this.createRequestInit(t),o;try{let y=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,k({signal:r},s)));J1(y),i.next({type:Pr.Sent}),o=yield y}catch(y){i.error(new Mr({error:y,status:y.status??0,statusText:y.statusText,url:t.urlWithParams,headers:y.headers}));return}let a=new Bn(o.headers),u=o.statusText,l=Rb(o)??t.urlWithParams,h=o.status,p=null;if(t.reportProgress&&i.next(new Wl({headers:a,status:h,statusText:u,url:l})),o.body){let y=o.headers.get("content-length"),C=[],N=o.body.getReader(),R=0,F,$,L=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>_(this,null,function*(){for(;;){let{done:ve,value:W}=yield N.read();if(ve)break;if(C.push(W),R+=W.length,t.reportProgress){$=t.responseType==="text"?($??"")+(F??=new TextDecoder).decode(W,{stream:!0}):void 0;let E=()=>i.next({type:Pr.DownloadProgress,total:y?+y:void 0,loaded:R,partialText:$});L?L.run(E):E()}}}));let X=this.concatChunks(C,R);try{let ve=o.headers.get("Content-Type")??"";p=this.parseBody(t,X,ve)}catch(ve){i.error(new Mr({error:ve,headers:new Bn(o.headers),status:o.status,statusText:o.statusText,url:Rb(o)??t.urlWithParams}));return}}h===0&&(h=p?xb:0),h>=200&&h<300?(i.next(new _a({body:p,headers:a,status:h,statusText:u,url:l})),i.complete()):i.error(new Mr({error:p,headers:a,status:h,statusText:u,url:l}))})}parseBody(t,r,i){switch(t.responseType){case"json":let s=new TextDecoder().decode(r).replace(K1,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((s,o)=>r[s]=o.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let s=t.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),s=0;for(let o of t)i.set(o,s),s+=o.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),em=class{};function tm(){}function J1(n){n.then(tm,tm)}function Z1(n,e){return e(n)}function X1(n,e,t){return(r,i)=>kt(t,()=>e(r,s=>n(s,i)))}var Pb=new U(""),eF=new U(""),tF=new U("",{providedIn:"root",factory:()=>!0});var Nb=(()=>{class n extends ya{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=x(Ar),this.contributeToStability=x(tF)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Pb),...this.injector.get(eF,[])]));this.chain=r.reduceRight((i,s)=>X1(i,s,this.injector),Z1)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(ii(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(z(Gl),z(ft))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})();var nF=/^\)\]\}',?\n/;function rF(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var Mb=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new H(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Te(r.\u0275loadImpl()):K(null)).pipe(vt(()=>new se(s=>{let o=r.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((N,R)=>o.setRequestHeader(N,R.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let N=t.detectContentTypeHeader();N!==null&&o.setRequestHeader("Content-Type",N)}if(t.responseType){let N=t.responseType.toLowerCase();o.responseType=N!=="json"?N:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let N=o.statusText||"OK",R=new Bn(o.getAllResponseHeaders()),F=rF(o)||t.url;return u=new Wl({headers:R,status:o.status,statusText:N,url:F}),u},h=()=>{let{headers:N,status:R,statusText:F,url:$}=l(),L=null;R!==G1&&(L=typeof o.response>"u"?o.responseText:o.response),R===0&&(R=L?xb:0);let X=R>=200&&R<300;if(t.responseType==="json"&&typeof L=="string"){let ve=L;L=L.replace(nF,"");try{L=L!==""?JSON.parse(L):null}catch(W){L=ve,X&&(X=!1,L={error:W,text:L})}}X?(s.next(new _a({body:L,headers:N,status:R,statusText:F,url:$||void 0})),s.complete()):s.error(new Mr({error:L,headers:N,status:R,statusText:F,url:$||void 0}))},p=N=>{let{url:R}=l(),F=new Mr({error:N,status:o.status||0,statusText:o.statusText||"Unknown Error",url:R||void 0});s.error(F)},m=!1,y=N=>{m||(s.next(l()),m=!0);let R={type:Pr.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),t.responseType==="text"&&o.responseText&&(R.partialText=o.responseText),s.next(R)},C=N=>{let R={type:Pr.UploadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),s.next(R)};return o.addEventListener("load",h),o.addEventListener("error",p),o.addEventListener("timeout",p),o.addEventListener("abort",p),t.reportProgress&&(o.addEventListener("progress",y),a!==null&&o.upload&&o.upload.addEventListener("progress",C)),o.send(a),s.next({type:Pr.Sent}),()=>{o.removeEventListener("error",p),o.removeEventListener("abort",p),o.removeEventListener("load",h),o.removeEventListener("timeout",p),t.reportProgress&&(o.removeEventListener("progress",y),a!==null&&o.upload&&o.upload.removeEventListener("progress",C)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(z(Ls))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),Ob=new U(""),iF="XSRF-TOKEN",sF=new U("",{providedIn:"root",factory:()=>iF}),oF="X-XSRF-TOKEN",aF=new U("",{providedIn:"root",factory:()=>oF}),Kl=class{},cF=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Hl(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(z(it),z(Lt),z(sF))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})();function uF(n,e){let t=n.url.toLowerCase();if(!x(Ob)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=x(Kl).getToken(),i=x(aF);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function F6(...n){let e=[W1,Mb,Nb,{provide:ya,useExisting:Nb},{provide:Gl,useFactory:()=>x(Y1,{optional:!0})??x(Mb)},{provide:Pb,useValue:uF,multi:!0},{provide:Ob,useValue:!0},{provide:Kl,useClass:cF}];for(let t of n)e.push(...t.\u0275providers);return Ot(e)}var im=class extends $l{constructor(){super(...arguments),this.supportsDOMEvents=!0}},sm=class n extends im{static makeCurrent(){Ib(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=lF();return t==null?null:dF(t)}resetBaseElement(){Ia=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Hl(document.cookie,e)}},Ia=null;function lF(){return Ia=Ia||document.querySelector("base"),Ia?Ia.getAttribute("href"):null}function dF(n){return new URL(n,document.baseURI).pathname}var hF=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),om=new U(""),Vb=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new H(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(z(om),z(me))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),Ql=class{constructor(e){this._doc=e}},nm="ng-app-id",Ub=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=zl(s),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${nm}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(nm),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(nm,this.appId),t.appendChild(o),o}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(z(it),z(_g),z(wg,8),z(Lt))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),rm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},cm=/%COMP%/g,jb="%COMP%",fF=`_nghost-${jb}`,pF=`_ngcontent-${jb}`,gF=!0,mF=new U("",{providedIn:"root",factory:()=>gF});function yF(n){return pF.replace(cm,n)}function vF(n){return fF.replace(cm,n)}function Bb(n,e){return e.map(t=>t.replace(cm,n))}var kb=(()=>{class n{constructor(t,r,i,s,o,a,u,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=zl(a),this.defaultRenderer=new wa(t,o,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===nn.ShadowDom&&(r=ce(k({},r),{encapsulation:nn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Yl?i.applyToHost(t):i instanceof Ea&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case nn.Emulated:s=new Yl(u,l,r,this.appId,h,o,a,p);break;case nn.ShadowDom:return new am(u,l,t,r,o,a,this.nonce,p);default:s=new Ea(u,l,r,h,o,a,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(z(Vb),z(Ub),z(_g),z(mF),z(it),z(Lt),z(me),z(wg))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),wa=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(rm[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Fb(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Fb(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new H(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=rm[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=rm[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Pn.DashCase|Pn.Important)?e.style.setProperty(t,r,i&Pn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Pn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=jn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function Fb(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var am=class extends wa{constructor(e,t,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Bb(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ea=class extends wa{constructor(e,t,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?Bb(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Yl=class extends Ea{constructor(e,t,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,t,r,s,o,a,u,l),this.contentAttr=yF(l),this.hostAttr=vF(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},_F=(()=>{class n extends Ql{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(z(it))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),Lb=["alt","control","meta","shift"],IF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wF={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},EF=(()=>{class n extends Ql{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>jn().onAndCancel(t,s.domEventName,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Lb.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=IF[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Lb.forEach(o=>{if(o!==i){let a=wF[o];a(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(z(it))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})();function u8(n,e){return hb(k({rootComponent:n},DF(e)))}function DF(n){return{appProviders:[...SF,...n?.providers??[]],platformProviders:AF}}function TF(){sm.makeCurrent()}function bF(){return new xn}function CF(){return dT(document),document}var AF=[{provide:Lt,useValue:Yg},{provide:Ig,useValue:TF,multi:!0},{provide:it,useFactory:CF,deps:[]}];var SF=[{provide:_l,useValue:"root"},{provide:xn,useFactory:bF,deps:[]},{provide:om,useClass:_F,multi:!0,deps:[it,me,Lt]},{provide:om,useClass:EF,multi:!0,deps:[it]},kb,Ub,Vb,{provide:Rs,useExisting:kb},{provide:Ls,useClass:hF,deps:[]},[]];var $b=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(z(it))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var re="primary",Va=Symbol("RouteTitle"),fm=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function zs(n){return new fm(n)}function NF(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function MF(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!fn(n[t],e[t]))return!1;return!0}function fn(n,e){let t=n?pm(n):void 0,r=e?pm(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!Xb(n[i],e[i]))return!1;return!0}function pm(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Xb(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function eC(n){return n.length>0?n[n.length-1]:null}function Fr(n){return Hf(n)?n:vi(n)?Te(Promise.resolve(n)):K(n)}var xF={exact:nC,subset:rC},tC={exact:PF,subset:OF,ignored:()=>!0};function Hb(n,e,t){return xF[t.paths](n.root,e.root,t.matrixParams)&&tC[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function PF(n,e){return fn(n,e)}function nC(n,e,t){if(!Ei(n.segments,e.segments)||!Xl(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!nC(n.children[r],e.children[r],t))return!1;return!0}function OF(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Xb(n[t],e[t]))}function rC(n,e,t){return iC(n,e,e.segments,t)}function iC(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Ei(i,t)||e.hasChildren()||!Xl(i,t,r))}else if(n.segments.length===t.length){if(!Ei(n.segments,t)||!Xl(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!rC(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Ei(n.segments,i)||!Xl(n.segments,i,r)||!n.children[re]?!1:iC(n.children[re],e,s,r)}}function Xl(n,e,t){return e.every((r,i)=>tC[t](n[i].parameters,r.parameters))}var Hn=class{constructor(e=new Ie([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=zs(this.queryParams),this._queryParamMap}toString(){return LF.serialize(this)}},Ie=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ed(this)}},wi=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=zs(this.parameters),this._parameterMap}toString(){return oC(this)}};function kF(n,e){return Ei(n,e)&&n.every((t,r)=>fn(t.parameters,e[r].parameters))}function Ei(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function FF(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===re&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==re&&(t=t.concat(e(i,r)))}),t}var Ua=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:()=>new qs,providedIn:"root"})}}return n})(),qs=class{parse(e){let t=new mm(e);return new Hn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Da(e.root,!0)}`,r=jF(e.queryParams),i=typeof e.fragment=="string"?`#${VF(e.fragment)}`:"";return`${t}${r}${i}`}},LF=new qs;function ed(n){return n.segments.map(e=>oC(e)).join("/")}function Da(n,e){if(!n.hasChildren())return ed(n);if(e){let t=n.children[re]?Da(n.children[re],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==re&&r.push(`${i}:${Da(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=FF(n,(r,i)=>i===re?[Da(n.children[re],!1)]:[`${i}:${Da(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[re]!=null?`${ed(n)}/${t[0]}`:`${ed(n)}/(${t.join("//")})`}}function sC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jl(n){return sC(n).replace(/%3B/gi,";")}function VF(n){return encodeURI(n)}function gm(n){return sC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function td(n){return decodeURIComponent(n)}function zb(n){return td(n.replace(/\+/g,"%20"))}function oC(n){return`${gm(n.path)}${UF(n.parameters)}`}function UF(n){return Object.entries(n).map(([e,t])=>`;${gm(e)}=${gm(t)}`).join("")}function jF(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Jl(t)}=${Jl(i)}`).join("&"):`${Jl(t)}=${Jl(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var BF=/^[^\/()?;#]+/;function um(n){let e=n.match(BF);return e?e[0]:""}var $F=/^[^\/()?;=#]+/;function HF(n){let e=n.match($F);return e?e[0]:""}var zF=/^[^=?&#]+/;function qF(n){let e=n.match(zF);return e?e[0]:""}var GF=/^[^&#]+/;function WF(n){let e=n.match(GF);return e?e[0]:""}var mm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[re]=new Ie(e,t)),r}parseSegment(){let e=um(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new wi(td(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=HF(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=um(this.remaining);i&&(r=i,this.capture(r))}e[td(t)]=td(r)}parseQueryParam(e){let t=qF(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=WF(this.remaining);o&&(r=o,this.capture(r))}let i=zb(t),s=zb(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=um(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new H(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=re);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[re]:new Ie([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}};function aC(n){return n.segments.length>0?new Ie([],{[re]:n}):n}function cC(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=cC(i);if(r===re&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new Ie(n.segments,e);return KF(t)}function KF(n){if(n.numberOfChildren===1&&n.children[re]){let e=n.children[re];return new Ie(n.segments.concat(e.segments),e.children)}return n}function Ra(n){return n instanceof Hn}function QF(n,e,t=null,r=null){let i=uC(n);return lC(i,e,t,r)}function uC(n){let e;function t(s){let o={};for(let u of s.children){let l=t(u);o[u.outlet]=l}let a=new Ie(s.url,o);return s===n&&(e=a),a}let r=t(n.root),i=aC(r);return e??i}function lC(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return lm(i,i,i,t,r);let s=YF(e);if(s.toRoot())return lm(i,i,new Ie([],{}),t,r);let o=JF(s,i,n),a=o.processChildren?Ca(o.segmentGroup,o.index,s.commands):hC(o.segmentGroup,o.index,s.commands);return lm(i,o.segmentGroup,a,t,r)}function nd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Na(n){return typeof n=="object"&&n!=null&&n.outlets}function lm(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;n===e?o=t:o=dC(n,e,t);let a=aC(cC(o));return new Hn(a,s,i)}function dC(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=dC(s,e,t)}),new Ie(n.segments,r)}var rd=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&nd(r[0]))throw new H(4003,!1);let i=r.find(Na);if(i&&i!==eC(r))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function YF(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new rd(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new rd(t,e,r)}var Bs=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function JF(n,e,t){if(n.isAbsolute)return new Bs(e,!0,0);if(!t)return new Bs(e,!1,NaN);if(t.parent===null)return new Bs(t,!0,0);let r=nd(n.commands[0])?0:1,i=t.segments.length-1+r;return ZF(t,i,n.numberOfDoubleDots)}function ZF(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new H(4005,!1);i=r.segments.length}return new Bs(r,!1,i-s)}function XF(n){return Na(n[0])?n[0].outlets:{[re]:n}}function hC(n,e,t){if(n??=new Ie([],{}),n.segments.length===0&&n.hasChildren())return Ca(n,e,t);let r=eL(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new Ie(n.segments.slice(0,r.pathIndex),{});return s.children[re]=new Ie(n.segments.slice(r.pathIndex),n.children),Ca(s,0,i)}else return r.match&&i.length===0?new Ie(n.segments,{}):r.match&&!n.hasChildren()?ym(n,e,t):r.match?Ca(n,0,i):ym(n,e,t)}function Ca(n,e,t){if(t.length===0)return new Ie(n.segments,{});{let r=XF(t),i={};if(Object.keys(r).some(s=>s!==re)&&n.children[re]&&n.numberOfChildren===1&&n.children[re].segments.length===0){let s=Ca(n.children[re],e,t);return new Ie(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=hC(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Ie(n.segments,i)}}function eL(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],a=t[r];if(Na(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!Gb(u,l,o))return s;r+=2}else{if(!Gb(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ym(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(Na(s)){let u=tL(s.outlets);return new Ie(r,u)}if(i===0&&nd(t[0])){let u=n.segments[e];r.push(new wi(u.path,qb(t[0]))),i++;continue}let o=Na(s)?s.outlets[re]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&nd(a)?(r.push(new wi(o,qb(a))),i+=2):(r.push(new wi(o,{})),i++)}return new Ie(r,{})}function tL(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=ym(new Ie([],{}),0,r))}),e}function qb(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Gb(n,e,t){return n==t.path&&fn(e,t.parameters)}var Aa="imperative",qe=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(qe||{}),Vt=class{constructor(e,t){this.id=e,this.url=t}},Gs=class extends Vt{constructor(e,t,r="imperative",i=null){super(e,t),this.type=qe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},zn=class extends Vt{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=qe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ct=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Ct||{}),id=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(id||{}),$n=class extends Vt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=qe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Or=class extends Vt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=qe.NavigationSkipped}},Ma=class extends Vt{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=qe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},sd=class extends Vt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=qe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vm=class extends Vt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=qe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_m=class extends Vt{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=qe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Im=class extends Vt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=qe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wm=class extends Vt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=qe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Em=class{constructor(e){this.route=e,this.type=qe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Dm=class{constructor(e){this.route=e,this.type=qe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Tm=class{constructor(e){this.snapshot=e,this.type=qe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bm=class{constructor(e){this.snapshot=e,this.type=qe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cm=class{constructor(e){this.snapshot=e,this.type=qe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Am=class{constructor(e){this.snapshot=e,this.type=qe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},od=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=qe.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},xa=class{},Ws=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function nL(n,e){return n.providers&&!n._injector&&(n._injector=Fl(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Kt(n){return n.outlet||re}function rL(n,e){let t=n.filter(r=>Kt(r)===e);return t.push(...n.filter(r=>Kt(r)!==e)),t}function ja(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Sm=class{get injector(){return ja(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Ba(this.rootInjector),this.attachRef=null}},Ba=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Sm(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(z(ft))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ad=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Rm(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Rm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Nm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Nm(e,this._root).map(t=>t.value)}};function Rm(n,e){if(n===e.value)return e;for(let t of e.children){let r=Rm(n,t);if(r)return r}return null}function Nm(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Nm(n,t);if(r.length)return r.unshift(e),r}return[]}var bt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function js(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var cd=class extends ad{constructor(e,t){super(e),this.snapshot=t,Um(this,e)}toString(){return this.snapshot.toString()}};function fC(n){let e=iL(n),t=new ke([new wi("",{})]),r=new ke({}),i=new ke({}),s=new ke({}),o=new ke(""),a=new Di(t,r,s,o,i,re,n,e.root);return a.snapshot=e.root,new cd(new bt(a,[]),e)}function iL(n){let e={},t={},r={},i="",s=new $s([],e,r,i,t,re,n,null,{});return new ld("",new bt(s,[]))}var Di=class{constructor(e,t,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(J(l=>l[Va]))??K(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(J(e=>zs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(J(e=>zs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ud(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),n.params),data:k(k({},e.data),n.data),resolve:k(k(k(k({},n.data),e.data),i?.data),n._resolvedData)}:r={params:k({},n.params),data:k({},n.data),resolve:k(k({},n.data),n._resolvedData??{})},i&&gC(i)&&(r.resolve[Va]=i.title),r}var $s=class{get title(){return this.data?.[Va]}constructor(e,t,r,i,s,o,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=zs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=zs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},ld=class extends ad{constructor(e,t){super(t),this.url=e,Um(this,t)}toString(){return pC(this._root)}};function Um(n,e){e.value._routerState=n,e.children.forEach(t=>Um(n,t))}function pC(n){let e=n.children.length>0?` { ${n.children.map(pC).join(", ")} } `:"";return`${n.value}${e}`}function dm(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,fn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),fn(e.params,t.params)||n.paramsSubject.next(t.params),MF(e.url,t.url)||n.urlSubject.next(t.url),fn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Mm(n,e){let t=fn(n.params,e.params)&&kF(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Mm(n.parent,e.parent))}function gC(n){return typeof n.title=="string"||n.title===null}var sL=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=re,this.activateEvents=new Se,this.deactivateEvents=new Se,this.attachEvents=new Se,this.detachEvents=new Se,this.parentContexts=x(Ba),this.location=x(Sr),this.changeDetector=x(_i),this.inputBinder=x(pd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new xm(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ce({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ln]})}}return n})(),xm=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Di?this.route:e===Ba?this.childContexts:this.parent.get(e,t)}},pd=new U(""),Wb=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=ta([r.queryParams,r.params,r.data]).pipe(vt(([s,o,a],u)=>(a=k(k(k({},s),o),a),u===0?K(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let o=fb(r.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})();function oL(n,e,t){let r=Pa(n,e._root,t?t._root:void 0);return new cd(r,e)}function Pa(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=aL(n,e,t);return new bt(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Pa(n,a)),o}}let r=cL(e.value),i=e.children.map(s=>Pa(n,s));return new bt(r,i)}}function aL(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Pa(n,r,i);return Pa(n,r)})}function cL(n){return new Di(new ke(n.url),new ke(n.params),new ke(n.queryParams),new ke(n.fragment),new ke(n.data),n.outlet,n.component,n)}var Oa=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},mC="ngNavigationCancelingError";function dd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Ra(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=yC(!1,Ct.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function yC(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[mC]=!0,t.cancellationCode=e,t}function uL(n){return vC(n)&&Ra(n.url)}function vC(n){return!!n&&n[mC]}var lL=(n,e,t,r)=>J(i=>(new Pm(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Pm=class{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),dm(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=js(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=js(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=js(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=js(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Am(s.value.snapshot))}),e.children.length&&this.forwardEvent(new bm(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(dm(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),dm(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},hd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Hs=class{constructor(e,t){this.component=e,this.route=t}};function dL(n,e,t){let r=n._root,i=e?e._root:null;return Ta(r,i,t,[r.value])}function hL(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Qs(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!XE(n)?n:e.get(n):r}function Ta(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=js(e);return n.children.forEach(o=>{fL(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Sa(a,t.getContext(o),i)),i}function fL(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=pL(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new hd(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ta(n,e,a?a.children:null,r,i):Ta(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Hs(a.outlet.component,o))}else o&&Sa(e,a,i),i.canActivateChecks.push(new hd(r)),s.component?Ta(n,null,a?a.children:null,r,i):Ta(n,null,t,r,i);return i}function pL(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Ei(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ei(n.url,e.url)||!fn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mm(n,e)||!fn(n.queryParams,e.queryParams);case"paramsChange":default:return!Mm(n,e)}}function Sa(n,e,t){let r=js(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Sa(o,e.children.getContext(s),t):Sa(o,null,t):Sa(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Hs(e.outlet.component,i)):t.canDeactivateChecks.push(new Hs(null,i)):t.canDeactivateChecks.push(new Hs(null,i))}function $a(n){return typeof n=="function"}function gL(n){return typeof n=="boolean"}function mL(n){return n&&$a(n.canLoad)}function yL(n){return n&&$a(n.canActivate)}function vL(n){return n&&$a(n.canActivateChild)}function _L(n){return n&&$a(n.canDeactivate)}function IL(n){return n&&$a(n.canMatch)}function _C(n){return n instanceof Sn||n?.name==="EmptyError"}var Zl=Symbol("INITIAL_VALUE");function Ks(){return vt(n=>ta(n.map(e=>e.pipe(Nn(1),ku(Zl)))).pipe(J(e=>{for(let t of e)if(t!==!0){if(t===Zl)return Zl;if(t===!1||wL(t))return t}return!0}),lt(e=>e!==Zl),Nn(1)))}function wL(n){return Ra(n)||n instanceof Oa}function EL(n,e){return Le(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?K(ce(k({},t),{guardsResult:!0})):DL(o,r,i,n).pipe(Le(a=>a&&gL(a)?TL(r,s,n,e):K(a)),J(a=>ce(k({},t),{guardsResult:a})))})}function DL(n,e,t,r){return Te(n).pipe(Le(i=>RL(i.component,i.route,t,e,r)),Xt(i=>i!==!0,!0))}function TL(n,e,t,r){return Te(e).pipe(Rn(i=>hs(CL(i.route.parent,r),bL(i.route,r),SL(n,i.path,t),AL(n,i.route,t))),Xt(i=>i!==!0,!0))}function bL(n,e){return n!==null&&e&&e(new Cm(n)),K(!0)}function CL(n,e){return n!==null&&e&&e(new Tm(n)),K(!0)}function AL(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return K(!0);let i=r.map(s=>xu(()=>{let o=ja(e)??t,a=Qs(s,o),u=yL(a)?a.canActivate(e,n):kt(o,()=>a(e,n));return Fr(u).pipe(Xt())}));return K(i).pipe(Ks())}function SL(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>hL(o)).filter(o=>o!==null).map(o=>xu(()=>{let a=o.guards.map(u=>{let l=ja(o.node)??t,h=Qs(u,l),p=vL(h)?h.canActivateChild(r,n):kt(l,()=>h(r,n));return Fr(p).pipe(Xt())});return K(a).pipe(Ks())}));return K(s).pipe(Ks())}function RL(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return K(!0);let o=s.map(a=>{let u=ja(e)??i,l=Qs(a,u),h=_L(l)?l.canDeactivate(n,e,t,r):kt(u,()=>l(n,e,t,r));return Fr(h).pipe(Xt())});return K(o).pipe(Ks())}function NL(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return K(!0);let s=i.map(o=>{let a=Qs(o,n),u=mL(a)?a.canLoad(e,t):kt(n,()=>a(e,t));return Fr(u)});return K(s).pipe(Ks(),IC(r))}function IC(n){return fu(Ve(e=>{if(typeof e!="boolean")throw dd(n,e)}),J(e=>e===!0))}function ML(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return K(!0);let s=i.map(o=>{let a=Qs(o,n),u=IL(a)?a.canMatch(e,t):kt(n,()=>a(e,t));return Fr(u)});return K(s).pipe(Ks(),IC(r))}var ka=class{constructor(e){this.segmentGroup=e||null}},Fa=class extends Error{constructor(e){super(),this.urlTree=e}};function Us(n){return ls(new ka(n))}function xL(n){return ls(new H(4e3,!1))}function PL(n){return ls(yC(!1,Ct.GuardRejected))}var Om=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return K(r);if(i.numberOfChildren>1||!i.children[re])return xL(`${e.redirectTo}`);i=i.children[re]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let a=t,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:C,title:N}=i,R=kt(s,()=>a({params:y,data:C,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:N}));if(R instanceof Hn)throw new Fa(R);t=R}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Fa(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new Hn(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Ie(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new H(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},km={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function OL(n,e,t,r,i){let s=wC(n,e,t);return s.matched?(r=nL(e,r),ML(r,e,t,i).pipe(J(o=>o===!0?s:k({},km)))):K(s)}function wC(n,e,t){if(e.path==="**")return kL(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?k({},km):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||NF)(t,n,e);if(!i)return k({},km);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?k(k({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function kL(n){return{matched:!0,parameters:n.length>0?eC(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Kb(n,e,t,r){return t.length>0&&VL(n,t,r)?{segmentGroup:new Ie(e,LL(r,new Ie(t,n.children))),slicedSegments:[]}:t.length===0&&UL(n,t,r)?{segmentGroup:new Ie(n.segments,FL(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ie(n.segments,n.children),slicedSegments:t}}function FL(n,e,t,r){let i={};for(let s of t)if(gd(n,e,s)&&!r[Kt(s)]){let o=new Ie([],{});i[Kt(s)]=o}return k(k({},r),i)}function LL(n,e){let t={};t[re]=e;for(let r of n)if(r.path===""&&Kt(r)!==re){let i=new Ie([],{});t[Kt(r)]=i}return t}function VL(n,e,t){return t.some(r=>gd(n,e,r)&&Kt(r)!==re)}function UL(n,e,t){return t.some(r=>gd(n,e,r))}function gd(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function jL(n,e,t){return e.length===0&&!n.children[t]}var Fm=class{};function BL(n,e,t,r,i,s,o="emptyOnly"){return new Lm(n,e,t,r,i,o,s).recognize()}var $L=31,Lm=class{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Om(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}recognize(){let e=Kb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(J(({children:t,rootSnapshot:r})=>{let i=new bt(r,t),s=new ld("",i),o=QF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new $s([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),re,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,re,t).pipe(J(r=>({children:r,rootSnapshot:t})),mr(r=>{if(r instanceof Fa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ka?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(J(o=>o instanceof bt?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Te(s).pipe(Rn(o=>{let a=r.children[o],u=rL(t,o);return this.processSegmentGroup(e,u,a,o,i)}),Ou((o,a)=>(o.push(...a),o)),yr(null),Gf(),Le(o=>{if(o===null)return Us(r);let a=EC(o);return HL(a),K(a)}))}processSegment(e,t,r,i,s,o,a){return Te(t).pipe(Rn(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,s,o,a).pipe(mr(l=>{if(l instanceof ka)return K(null);throw l}))),Xt(u=>!!u),mr(u=>{if(_C(u))return jL(r,i,s)?K(new Fm):Us(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,s,o,a,u){return Kt(r)!==o&&(o===re||!gd(i,s,r))?Us(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,u):Us(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=wC(t,i,s);if(!u)return Us(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>$L&&(this.allowRedirects=!1));let y=new $s(s,l,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Qb(i),Kt(i),i.component??i._loadedComponent??null,i,Yb(i)),C=ud(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(C.params),y.data=Object.freeze(C.data);let N=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(Le(R=>this.processSegment(e,r,t,R.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a=OL(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(vt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(vt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,C=new $s(m,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Qb(r),Kt(r),r.component??r._loadedComponent??null,r,Yb(r)),N=ud(C,o,this.paramsInheritanceStrategy);C.params=Object.freeze(N.params),C.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:F}=Kb(t,m,y,l);if(F.length===0&&R.hasChildren())return this.processChildren(h,l,R,C).pipe(J(L=>new bt(C,L)));if(l.length===0&&F.length===0)return K(new bt(C,[]));let $=Kt(r)===s;return this.processSegment(h,l,R,F,$?re:s,!0,C).pipe(J(L=>new bt(C,L instanceof bt?[L]:[])))}))):Us(t)))}getChildConfig(e,t,r){return t.children?K({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?K({routes:t._loadedRoutes,injector:t._loadedInjector}):NL(e,t,r,this.urlSerializer).pipe(Le(i=>i?this.configLoader.loadChildren(e,t).pipe(Ve(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):PL(t))):K({routes:[],injector:e})}};function HL(n){n.sort((e,t)=>e.value.outlet===re?-1:t.value.outlet===re?1:e.value.outlet.localeCompare(t.value.outlet))}function zL(n){let e=n.value.routeConfig;return e&&e.path===""}function EC(n){let e=[],t=new Set;for(let r of n){if(!zL(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=EC(r.children);e.push(new bt(r.value,i))}return e.filter(r=>!t.has(r))}function Qb(n){return n.data||{}}function Yb(n){return n.resolve||{}}function qL(n,e,t,r,i,s){return Le(o=>BL(n,e,t,r,o.extractedUrl,i,s).pipe(J(({state:a,tree:u})=>ce(k({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function GL(n,e){return Le(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return K(t);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of DC(u))o.add(l);let a=0;return Te(o).pipe(Rn(u=>s.has(u)?WL(u,r,n,e):(u.data=ud(u,u.parent,n).resolve,K(void 0))),Ve(()=>a++),fs(1),Le(u=>a===o.size?K(t):wt))})}function DC(n){let e=n.children.map(t=>DC(t)).flat();return[n,...e]}function WL(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!gC(i)&&(s[Va]=i.title),KL(s,n,e,r).pipe(J(o=>(n._resolvedData=o,n.data=ud(n,n.parent,t).resolve,null)))}function KL(n,e,t,r){let i=pm(n);if(i.length===0)return K({});let s={};return Te(i).pipe(Le(o=>QL(n[o],e,t,r).pipe(Xt(),Ve(a=>{if(a instanceof Oa)throw dd(new qs,a);s[o]=a}))),fs(1),qf(s),mr(o=>_C(o)?wt:ls(o)))}function QL(n,e,t,r){let i=ja(e)??r,s=Qs(n,i),o=s.resolve?s.resolve(e,t):kt(i,()=>s(e,t));return Fr(o)}function hm(n){return vt(e=>{let t=n(e);return t?Te(t).pipe(J(()=>e)):K(e)})}var TC=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===re);return r}getResolvedTitleForRoute(t){return t.data[Va]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:()=>x(YL),providedIn:"root"})}}return n})(),YL=(()=>{class n extends TC{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(z($b))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ha=new U("",{providedIn:"root",factory:()=>({})}),JL=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=dD({type:n,selectors:[["ng-component"]],standalone:!0,features:[sb],decls:1,vars:0,template:function(r,i){r&1&&Ug(0,"router-outlet")},dependencies:[sL],encapsulation:2})}}return n})();function jm(n){let e=n.children&&n.children.map(jm),t=e?ce(k({},n),{children:e}):k({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==re&&(t.component=JL),t}var La=new U(""),Bm=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=x(Bl)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return K(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Fr(t.loadComponent()).pipe(J(bC),Ve(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),ii(()=>{this.componentLoaders.delete(t)})),i=new os(r,()=>new Qe).pipe(ss());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return K({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=ZL(r,this.compiler,t,this.onLoadEndListener).pipe(ii(()=>{this.childrenLoaders.delete(r)})),o=new os(s,()=>new Qe).pipe(ss());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ZL(n,e,t,r){return Fr(n.loadChildren()).pipe(J(bC),Le(i=>i instanceof ca||Array.isArray(i)?K(i):Te(e.compileModuleAsync(i))),J(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(t).injector,o=s.get(La,[],{optional:!0,self:!0}).flat()),{routes:o.map(jm),injector:s}}))}function XL(n){return n&&typeof n=="object"&&"default"in n}function bC(n){return XL(n)?n.default:n}var $m=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:()=>x(eV),providedIn:"root"})}}return n})(),eV=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),CC=new U(""),AC=new U("");function tV(n,e,t){let r=n.get(AC),i=n.get(it);return n.get(me).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),nV(n))),{onViewTransitionCreated:u}=r;return u&&kt(n,()=>u({transition:a,from:e,to:t})),o})}function nV(n){return new Promise(e=>{Vg({read:()=>setTimeout(e)},{injector:n})})}var rV=new U(""),Hm=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Qe,this.transitionAbortSubject=new Qe,this.configLoader=x(Bm),this.environmentInjector=x(ft),this.urlSerializer=x(Ua),this.rootContexts=x(Ba),this.location=x(Vs),this.inputBindingEnabled=x(pd,{optional:!0})!==null,this.titleStrategy=x(TC),this.options=x(Ha,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=x($m),this.createViewTransition=x(CC,{optional:!0}),this.navigationErrorHandler=x(rV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>K(void 0),this.rootComponentType=null;let t=i=>this.events.next(new Em(i)),r=i=>this.events.next(new Dm(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ce(k(k({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new ke({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Aa,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(lt(s=>s.id!==0),J(s=>ce(k({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),vt(s=>{let o=!1,a=!1;return K(s).pipe(vt(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Ct.SupersededByNewNavigation),wt;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ce(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new Or(u.id,this.urlSerializer.serialize(u.rawUrl),p,id.IgnoredSameUrlNavigation)),u.resolve(!1),wt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return K(u).pipe(vt(p=>{let m=this.transitions?.getValue();return this.events.next(new Gs(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?wt:Promise.resolve(p)}),qL(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ve(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ce(k({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new sd(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:m,source:y,restoredState:C,extras:N}=u,R=new Gs(p,this.urlSerializer.serialize(m),y,C);this.events.next(R);let F=fC(this.rootComponentType).snapshot;return this.currentTransition=s=ce(k({},u),{targetSnapshot:F,urlAfterRedirects:m,extras:ce(k({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,K(s)}else{let p="";return this.events.next(new Or(u.id,this.urlSerializer.serialize(u.extractedUrl),p,id.IgnoredByUrlHandlingStrategy)),u.resolve(!1),wt}}),Ve(u=>{let l=new vm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),J(u=>(this.currentTransition=s=ce(k({},u),{guards:dL(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),EL(this.environmentInjector,u=>this.events.next(u)),Ve(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw dd(this.urlSerializer,u.guardsResult);let l=new _m(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),lt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Ct.GuardRejected),!1)),hm(u=>{if(u.guards.canActivateChecks.length)return K(u).pipe(Ve(l=>{let h=new Im(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),vt(l=>{let h=!1;return K(l).pipe(GL(this.paramsInheritanceStrategy,this.environmentInjector),Ve({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",Ct.NoDataFromResolver)}}))}),Ve(l=>{let h=new wm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),hm(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ve(m=>{h.component=m}),J(()=>{})));for(let m of h.children)p.push(...l(m));return p};return ta(l(u.targetSnapshot.root)).pipe(yr(null),Nn(1))}),hm(()=>this.afterPreactivation()),vt(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?Te(h).pipe(J(()=>s)):K(s)}),J(u=>{let l=oL(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=ce(k({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Ve(()=>{this.events.next(new xa)}),lL(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Nn(1),Ve({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new zn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),Wf(this.transitionAbortSubject.pipe(Ve(u=>{throw u}))),ii(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",Ct.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),mr(u=>{if(a=!0,vC(u))this.events.next(new $n(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),uL(u)?this.events.next(new Ws(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let l=new Ma(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let h=kt(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof Oa){let{message:p,cancellationCode:m}=dd(this.urlSerializer,h);this.events.next(new $n(s.id,this.urlSerializer.serialize(s.extractedUrl),p,m)),this.events.next(new Ws(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=t.errorHandler(u);s.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return wt}))}))}cancelNavigationTransition(t,r,i){let s=new $n(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function iV(n){return n!==Aa}var sV=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:()=>x(oV),providedIn:"root"})}}return n})(),Vm=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},oV=(()=>{class n extends Vm{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ln(n)))(i||n)}})()}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),SC=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:()=>x(aV),providedIn:"root"})}}return n})(),aV=(()=>{class n extends SC{constructor(){super(...arguments),this.location=x(Vs),this.urlSerializer=x(Ua),this.options=x(Ha,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=x($m),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Hn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=fC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Gs)this.stateMemento=this.createStateMemento();else if(t instanceof Or)this.rawUrlTree=r.initialUrl;else if(t instanceof sd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof xa?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof $n&&(t.code===Ct.GuardRejected||t.code===Ct.NoDataFromResolver)?this.restoreHistory(r):t instanceof Ma?this.restoreHistory(r,!0):t instanceof zn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Hn?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=k(k({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=k(k({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ln(n)))(i||n)}})()}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ba=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(ba||{});function RC(n,e){n.events.pipe(lt(t=>t instanceof zn||t instanceof $n||t instanceof Ma||t instanceof Or),J(t=>t instanceof zn||t instanceof Or?ba.COMPLETE:(t instanceof $n?t.code===Ct.Redirect||t.code===Ct.SupersededByNewNavigation:!1)?ba.REDIRECTING:ba.FAILED),lt(t=>t!==ba.REDIRECTING),Nn(1)).subscribe(()=>{e()})}function cV(n){throw n}var uV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},kr=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=x(Ul),this.stateManager=x(SC),this.options=x(Ha,{optional:!0})||{},this.pendingTasks=x(Ar),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=x(Hm),this.urlSerializer=x(Ua),this.location=x(Vs),this.urlHandlingStrategy=x($m),this._events=new Qe,this.errorHandler=this.options.errorHandler||cV,this.navigated=!1,this.routeReuseStrategy=x(sV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=x(La,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!x(pd,{optional:!0}),this.eventsSubscription=new Me,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof $n&&r.code!==Ct.Redirect&&r.code!==Ct.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof zn)this.navigated=!0;else if(r instanceof Ws){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=k({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||iV(i.source)},o);this.scheduleNavigation(a,Aa,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}hV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Aa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=k({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(jm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=k(k({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=uC(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return lC(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Ra(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Aa,null,r)}navigate(t,r={skipLocationChange:!1}){return dV(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=k({},uV):r===!1?i=k({},lV):i=r,Ra(t))return Hb(this.currentUrlTree,t,i);let s=this.parseUrl(t);return Hb(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return RC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function dV(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new H(4008,!1)}function hV(n){return!(n instanceof xa)&&!(n instanceof Ws)}var fd=class{};var fV=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(lt(t=>t instanceof zn),Rn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Fl(s.providers,t,`Route: ${s.path}`));let o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Te(i).pipe(ds())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=K(null);let s=i.pipe(Le(o=>o===null?K(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Te([s,o]).pipe(ds())}else return s})}static{this.\u0275fac=function(r){return new(r||n)(z(kr),z(Bl),z(ft),z(fd),z(Bm))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),NC=new U(""),pV=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Gs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof zn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Or&&t.code===id.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof od&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new od(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){CT()}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})();function R8(n,...e){return Ot([{provide:La,multi:!0,useValue:n},[],{provide:Di,useFactory:MC,deps:[kr]},{provide:pa,multi:!0,useFactory:xC},e.map(t=>t.\u0275providers)])}function MC(n){return n.routerState.root}function za(n,e){return{\u0275kind:n,\u0275providers:e}}function xC(){let n=x(Ye);return e=>{let t=n.get(Rr);if(e!==t.components[0])return;let r=n.get(kr),i=n.get(PC);n.get(zm)===1&&r.initialNavigation(),n.get(OC,null,oe.Optional)?.setUpPreloading(),n.get(NC,null,oe.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var PC=new U("",{factory:()=>new Qe}),zm=new U("",{providedIn:"root",factory:()=>1});function gV(){return za(2,[{provide:zm,useValue:0},{provide:jl,multi:!0,deps:[Ye],useFactory:e=>{let t=e.get(wb,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(kr),s=e.get(PC);RC(i,()=>{r(!0)}),e.get(Hm).afterPreactivation=()=>(r(!0),s.closed?K(void 0):s),i.initialNavigation()}))}}])}function mV(){return za(3,[{provide:jl,multi:!0,useFactory:()=>{let e=x(kr);return()=>{e.setUpLocationChangeListener()}}},{provide:zm,useValue:2}])}var OC=new U("");function yV(n){return za(0,[{provide:OC,useExisting:fV},{provide:fd,useExisting:n}])}function vV(){return za(8,[Wb,{provide:pd,useExisting:Wb}])}function _V(n){let e=[{provide:CC,useValue:tV},{provide:AC,useValue:k({skipNextTransition:!!n?.skipInitialTransition},n)}];return za(9,e)}var Jb=new U("ROUTER_FORROOT_GUARD"),IV=[Vs,{provide:Ua,useClass:qs},kr,Ba,{provide:Di,useFactory:MC,deps:[kr]},Bm,[]],N8=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[IV,[],{provide:La,multi:!0,useValue:t},{provide:Jb,useFactory:TV,deps:[[kr,new rt,new ig]]},{provide:Ha,useValue:r||{}},r?.useHash?EV():DV(),wV(),r?.preloadingStrategy?yV(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?bV(r):[],r?.bindToComponentInputs?vV().\u0275providers:[],r?.enableViewTransitions?_V().\u0275providers:[],CV()]}}static forChild(t){return{ngModule:n,providers:[{provide:La,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(z(Jb,8))}}static{this.\u0275mod=un({type:n})}static{this.\u0275inj=cn({})}}return n})();function wV(){return{provide:NC,useFactory:()=>{let n=x(Tb),e=x(me),t=x(Ha),r=x(Hm),i=x(Ua);return t.scrollOffset&&n.setOffset(t.scrollOffset),new pV(i,r,n,e,t)}}}function EV(){return{provide:Ii,useClass:Db}}function DV(){return{provide:Ii,useClass:Qg}}function TV(n){return"guarded"}function bV(n){return[n.initialNavigation==="disabled"?mV().\u0275providers:[],n.initialNavigation==="enabledBlocking"?gV().\u0275providers:[]]}var Zb=new U("");function CV(){return[{provide:Zb,useFactory:xC},{provide:pa,multi:!0,useExisting:Zb}]}var FC=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},AV=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},LC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,o||(m=64)),r.push(t[h],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(FC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):AV(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new Gm;let m=s<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Gm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},SV=function(n){let e=FC(n);return LC.encodeByteArray(e,!0)},qa=function(n){return SV(n).replace(/\./g,"")},Km=function(n){try{return LC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function RV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var NV=()=>RV().__FIREBASE_DEFAULTS__,MV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},xV=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Km(n[1]);return e&&JSON.parse(e)},yd=()=>{try{return NV()||MV()||xV()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Qm=n=>{var e,t;return(t=(e=yd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},VC=n=>{let e=Qm(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Ym=()=>{var n;return(n=yd())===null||n===void 0?void 0:n.config},Jm=n=>{var e;return(e=yd())===null||e===void 0?void 0:e[`_${n}`]};var md=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function UC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[qa(JSON.stringify(t)),qa(JSON.stringify(o)),""].join(".")}function Ge(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function PV(){var n;let e=(n=yd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $C(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function HC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zC(){let n=Ge();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function qC(){return!PV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zm(){try{return typeof indexedDB=="object"}catch{return!1}}function GC(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var OV="FirebaseError",At=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=OV,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qn.prototype.create)}},qn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?kV(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new At(i,a,r)}};function kV(n,e){return n.replace(FV,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var FV=/\{\$([^}]+)}/g;function WC(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ti(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(kC(s)&&kC(o)){if(!Ti(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function kC(n){return n!==null&&typeof n=="object"}function Ga(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ys(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Js(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function KC(n,e){let t=new Wm(n,e);return t.subscribe.bind(t)}var Wm=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");LV(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=qm),i.error===void 0&&(i.error=qm),i.complete===void 0&&(i.complete=qm);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function LV(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function qm(){}var P8=4*60*60*1e3;function Oe(n){return n&&n._delegate?n._delegate:n}var Ut=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var bi="[DEFAULT]";var Xm=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new md;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UV(e))try{this.getOrInitializeService({instanceIdentifier:bi})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=bi){return this.instances.has(e)}getOptions(e=bi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VV(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=bi){return this.component?this.component.multipleInstances?e:bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function VV(n){return n===bi?void 0:n}function UV(n){return n.instantiationMode==="EAGER"}var vd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Xm(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var jV=[],le=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(le||{}),BV={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},$V=le.INFO,HV={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},zV=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=HV[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Lr=class{constructor(e){this.name=e,this._logLevel=$V,this._logHandler=zV,this._userLogHandler=null,jV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}};var qV=(n,e)=>e.some(t=>n instanceof t),QC,YC;function GV(){return QC||(QC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WV(){return YC||(YC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var JC=new WeakMap,ty=new WeakMap,ZC=new WeakMap,ey=new WeakMap,ry=new WeakMap;function KV(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(pn(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&JC.set(t,n)}).catch(()=>{}),ry.set(e,n),e}function QV(n){if(ty.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});ty.set(n,e)}var ny={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ty.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ZC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return pn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function XC(n){ny=n(ny)}function YV(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(_d(this),e,...t);return ZC.set(r,e.sort?e.sort():[e]),pn(r)}:WV().includes(n)?function(...e){return n.apply(_d(this),e),pn(JC.get(this))}:function(...e){return pn(n.apply(_d(this),e))}}function JV(n){return typeof n=="function"?YV(n):(n instanceof IDBTransaction&&QV(n),qV(n,GV())?new Proxy(n,ny):n)}function pn(n){if(n instanceof IDBRequest)return KV(n);if(ey.has(n))return ey.get(n);let e=JV(n);return e!==n&&(ey.set(n,e),ry.set(e,n)),e}var _d=n=>ry.get(n);function t0(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),a=pn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(pn(o.result),u.oldVersion,u.newVersion,pn(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var ZV=["get","getKey","getAll","getAllKeys","count"],XV=["put","add","delete","clear"],iy=new Map;function e0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(iy.get(e))return iy.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=XV.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ZV.includes(t)))return;let s=function(o,...a){return _(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return iy.set(e,s),s}XC(n=>ce(k({},n),{get:(e,t,r)=>e0(e,t)||n.get(e,t,r),has:(e,t)=>!!e0(e,t)||n.has(e,t)}));var oy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(eU(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function eU(n){let e=n.getComponent();return e?.type==="VERSION"}var ay="@firebase/app",n0="0.10.13";var Gn=new Lr("@firebase/app"),tU="@firebase/app-compat",nU="@firebase/analytics-compat",rU="@firebase/analytics",iU="@firebase/app-check-compat",sU="@firebase/app-check",oU="@firebase/auth",aU="@firebase/auth-compat",cU="@firebase/database",uU="@firebase/data-connect",lU="@firebase/database-compat",dU="@firebase/functions",hU="@firebase/functions-compat",fU="@firebase/installations",pU="@firebase/installations-compat",gU="@firebase/messaging",mU="@firebase/messaging-compat",yU="@firebase/performance",vU="@firebase/performance-compat",_U="@firebase/remote-config",IU="@firebase/remote-config-compat",wU="@firebase/storage",EU="@firebase/storage-compat",DU="@firebase/firestore",TU="@firebase/vertexai-preview",bU="@firebase/firestore-compat",CU="firebase",AU="10.14.1";var cy="[DEFAULT]",SU={[ay]:"fire-core",[tU]:"fire-core-compat",[rU]:"fire-analytics",[nU]:"fire-analytics-compat",[sU]:"fire-app-check",[iU]:"fire-app-check-compat",[oU]:"fire-auth",[aU]:"fire-auth-compat",[cU]:"fire-rtdb",[uU]:"fire-data-connect",[lU]:"fire-rtdb-compat",[dU]:"fire-fn",[hU]:"fire-fn-compat",[fU]:"fire-iid",[pU]:"fire-iid-compat",[gU]:"fire-fcm",[mU]:"fire-fcm-compat",[yU]:"fire-perf",[vU]:"fire-perf-compat",[_U]:"fire-rc",[IU]:"fire-rc-compat",[wU]:"fire-gcs",[EU]:"fire-gcs-compat",[DU]:"fire-fst",[bU]:"fire-fst-compat",[TU]:"fire-vertex","fire-js":"fire-js",[CU]:"fire-js-all"};var Wa=new Map,RU=new Map,uy=new Map;function r0(n,e){try{n.container.addComponent(e)}catch(t){Gn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ur(n){let e=n.name;if(uy.has(e))return Gn.debug(`There were multiple attempts to register component ${e}.`),!1;uy.set(e,n);for(let t of Wa.values())r0(t,n);for(let t of RU.values())r0(t,n);return!0}function Qa(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Qt(n){return n.settings!==void 0}var NU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vr=new qn("app","Firebase",NU);var ly=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ut("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}};var jr=AU;function fy(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:cy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Vr.create("bad-app-name",{appName:String(i)});if(t||(t=Ym()),!t)throw Vr.create("no-options");let s=Wa.get(i);if(s){if(Ti(t,s.options)&&Ti(r,s.config))return s;throw Vr.create("duplicate-app",{appName:i})}let o=new vd(i);for(let u of uy.values())o.addComponent(u);let a=new ly(t,r,o);return Wa.set(i,a),a}function Zs(n=cy){let e=Wa.get(n);if(!e&&n===cy&&Ym())return fy();if(!e)throw Vr.create("no-app",{appName:n});return e}function Id(){return Array.from(Wa.values())}function He(n,e,t){var r;let i=(r=SU[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gn.warn(a.join(" "));return}Ur(new Ut(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var MU="firebase-heartbeat-database",xU=1,Ka="firebase-heartbeat-store",sy=null;function a0(){return sy||(sy=t0(MU,xU,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ka)}catch(t){console.warn(t)}}}}).catch(n=>{throw Vr.create("idb-open",{originalErrorMessage:n.message})})),sy}function PU(n){return _(this,null,function*(){try{let t=(yield a0()).transaction(Ka),r=yield t.objectStore(Ka).get(c0(n));return yield t.done,r}catch(e){if(e instanceof At)Gn.warn(e.message);else{let t=Vr.create("idb-get",{originalErrorMessage:e?.message});Gn.warn(t.message)}}})}function i0(n,e){return _(this,null,function*(){try{let r=(yield a0()).transaction(Ka,"readwrite");yield r.objectStore(Ka).put(e,c0(n)),yield r.done}catch(t){if(t instanceof At)Gn.warn(t.message);else{let r=Vr.create("idb-set",{originalErrorMessage:t?.message});Gn.warn(r.message)}}})}function c0(n){return`${n.name}!${n.options.appId}`}var OU=1024,kU=30*24*60*60*1e3,dy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new hy(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=s0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=kU}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Gn.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=s0(),{heartbeatsToSend:r,unsentEntries:i}=FU(this._heartbeatsCache.heartbeats),s=qa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Gn.warn(t),""}})}};function s0(){return new Date().toISOString().substring(0,10)}function FU(n,e=OU){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),o0(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),o0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var hy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return Zm()?GC().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield PU(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return i0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return i0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function o0(n){return qa(JSON.stringify({version:2,heartbeats:n})).length}function LU(n){Ur(new Ut("platform-logger",e=>new oy(e),"PRIVATE")),Ur(new Ut("heartbeat",e=>new dy(e),"PRIVATE")),He(ay,n0,n),He(ay,n0,"esm2017"),He("fire-js","")}LU("");var VU="firebase",UU="10.14.1";He(VU,UU,"app");var Ai=new On("ANGULARFIRE2_VERSION");function Ed(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Ya=(n,e)=>{let t=e?[e]:Id(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},eo=class{constructor(){return Ya(jU)}},jU="app-check";function Xs(){}var wd=class{zone;delegate;constructor(e,t=Bf){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,r)}},py=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xs,{},Xs,Xs)),t.pipe(Ve({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},to=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new wd(Zone.current)),this.insideAngular=t.run(()=>new wd(Zone.current,jf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(z(me))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Dd(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function BU(n){return Dd().ngZone.runOutsideAngular(()=>n())}function Ci(n){return Dd().ngZone.run(()=>n())}function $U(n){return HU(Dd())(n)}function HU(n){return function(t){return t=t.lift(new py(n.ngZone)),t.pipe(gr(n.outsideAngular),pr(n.insideAngular))}}var zU=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ci(()=>n.apply(void 0,r))},St=(n,e)=>function(){let t,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(t||=Ci(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xs,{},Xs,Xs))),r[s]=zU(r[s],t));let i=BU(()=>n.apply(this,r));if(!e)if(i instanceof se){let s=Dd();return i.pipe(gr(s.outsideAngular),pr(s.insideAngular))}else return Ci(()=>i);return i instanceof se?i.pipe($U):i instanceof Promise?Ci(()=>new Promise((s,o)=>i.then(a=>Ci(()=>s(a)),a=>Ci(()=>o(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Ci(()=>i)};var Wn=class{constructor(e){return e}},Si=class{constructor(){return Id()}};function qU(n){return n&&n.length===1?n[0]:new Wn(Zs())}var gy=new U("angularfire2._apps"),GU={provide:Wn,useFactory:qU,deps:[[new rt,gy]]},WU={provide:Si,deps:[[new rt,gy]]};function KU(n){return(e,t)=>{let r=t.get(Lt);He("angularfire",Ai.full,"core"),He("angularfire",Ai.full,"app"),He("angular",ob.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Wn(i)}}function _5(n,...e){return Ot([GU,WU,{provide:gy,useFactory:KU(n),multi:!0,deps:[me,Ye,to,...e]}])}var I5=St(fy,!0);function b0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var C0=b0,A0=new qn("auth","Firebase",b0());var Rd=new Lr("@firebase/auth");function QU(n,...e){Rd.logLevel<=le.WARN&&Rd.warn(`Auth (${jr}): ${n}`,...e)}function bd(n,...e){Rd.logLevel<=le.ERROR&&Rd.error(`Auth (${jr}): ${n}`,...e)}function mn(n,...e){throw Vy(n,...e)}function Ri(n,...e){return Vy(n,...e)}function S0(n,e,t){let r=Object.assign(Object.assign({},C0()),{[e]:t});return new qn("auth","Firebase",r).create(e,{appName:n.name})}function Yn(n){return S0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vy(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return A0.create(n,...e)}function G(n,e,...t){if(!n)throw Vy(e,...t)}function Kn(n){let e="INTERNAL ASSERTION FAILED: "+n;throw bd(e),new Error(e)}function $r(n,e){n||Kn(e)}function _y(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function YU(){return u0()==="http:"||u0()==="https:"}function u0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function JU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YU()||$C()||"connection"in navigator)?navigator.onLine:!0}function ZU(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ni=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,$r(t>e,"Short delay should be less than long delay!"),this.isMobile=jC()||HC()}get(){return JU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Uy(n,e){$r(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Nd=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var XU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var ej=new Ni(3e4,6e4);function Jn(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Zn(s,o,a,u){return _(this,arguments,function*(n,e,t,r,i={}){return R0(n,i,()=>_(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Ga(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:m},l);return BC()||(y.referrerPolicy="no-referrer"),Nd.fetch()(N0(n,n.config.apiHost,t,p),y)}))})}function R0(n,e,t){return _(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},XU),e);try{let i=new Iy(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Td(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Td(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Td(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw Td(n,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw S0(n,h,l);mn(n,h)}}catch(i){if(i instanceof At)throw i;mn(n,"network-request-failed",{message:String(i)})}})}function ic(s,o,a,u){return _(this,arguments,function*(n,e,t,r,i={}){let l=yield Zn(n,e,t,r,i);return"mfaPendingCredential"in l&&mn(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function N0(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?Uy(n.config,i):`${n.config.apiScheme}://${i}`}function tj(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Iy=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ri(this.auth,"network-request-failed")),ej.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Td(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Ri(n,e,r);return i.customData._tokenResponse=t,i}function l0(n){return n!==void 0&&n.enterprise!==void 0}var wy=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return tj(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function nj(n,e){return _(this,null,function*(){return Zn(n,"GET","/v2/recaptchaConfig",Jn(n,e))})}function rj(n,e){return _(this,null,function*(){return Zn(n,"POST","/v1/accounts:delete",e)})}function M0(n,e){return _(this,null,function*(){return Zn(n,"POST","/v1/accounts:lookup",e)})}function Ja(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function jy(n,e=!1){return _(this,null,function*(){let t=Oe(n),r=yield t.getIdToken(e),i=By(r);G(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ja(my(i.auth_time)),issuedAtTime:Ja(my(i.iat)),expirationTime:Ja(my(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function my(n){return Number(n)*1e3}function By(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return bd("JWT malformed, contained fewer than 3 sections"),null;try{let i=Km(t);return i?JSON.parse(i):(bd("Failed to decode base64 JWT payload"),null)}catch(i){return bd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function d0(n){let e=By(n);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Xa(n,e,t=!1){return _(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof At&&ij(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function ij({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Ey=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),t)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ec=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ja(this.lastLoginAt),this.creationTime=Ja(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Md(n){return _(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Xa(n,M0(t,{idToken:r}));G(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?x0(s.providerUserInfo):[],a=sj(n.providerData,o),u=n.isAnonymous,l=!(n.email&&s.passwordHash)&&!a?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ec(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function $y(n){return _(this,null,function*(){let e=Oe(n);yield Md(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function sj(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function x0(n){return n.map(e=>{var{providerId:t}=e,r=$f(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function oj(n,e){return _(this,null,function*(){let t=yield R0(n,{},()=>_(this,null,function*(){let r=Ga({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=N0(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Nd.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function aj(n,e){return _(this,null,function*(){return Zn(n,"POST","/v2/accounts:revokeToken",Jn(n,e))})}var Za=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):d0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){G(e.length!==0,"internal-error");let t=d0(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return _(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(G(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield oj(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(G(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(G(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(G(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Kn("not implemented")}};function Br(n,e){G(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var no=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=$f(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ey(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ec(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let t=yield Xa(this,this.stsTokenManager.getToken(this.auth,e));return G(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return jy(this,e)}reload(){return $y(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Md(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(Qt(this.auth.app))return Promise.reject(Yn(this.auth));let e=yield this.getIdToken();return yield Xa(this,rj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=t.photoURL)!==null&&o!==void 0?o:void 0,N=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=t.createdAt)!==null&&l!==void 0?l:void 0,$=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:L,emailVerified:X,isAnonymous:ve,providerData:W,stsTokenManager:E}=t;G(L&&E,e,"internal-error");let v=Za.fromJSON(this.name,E);G(typeof L=="string",e,"internal-error"),Br(p,e.name),Br(m,e.name),G(typeof X=="boolean",e,"internal-error"),G(typeof ve=="boolean",e,"internal-error"),Br(y,e.name),Br(C,e.name),Br(N,e.name),Br(R,e.name),Br(F,e.name),Br($,e.name);let I=new n({uid:L,auth:e,email:m,emailVerified:X,displayName:p,isAnonymous:ve,photoURL:C,phoneNumber:y,tenantId:N,stsTokenManager:v,createdAt:F,lastLoginAt:$});return W&&Array.isArray(W)&&(I.providerData=W.map(D=>Object.assign({},D))),R&&(I._redirectEventId=R),I}static _fromIdTokenResponse(e,t,r=!1){return _(this,null,function*(){let i=new Za;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Md(s),s})}static _fromGetAccountInfoResponse(e,t,r){return _(this,null,function*(){let i=t.users[0];G(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?x0(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Za;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ec(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var h0=new Map;function Qn(n){$r(n instanceof Function,"Expected a class definition");let e=h0.get(n);return e?($r(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,h0.set(n,e),e)}var cj=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(t,r){return _(this,null,function*(){this.storage[t]=r})}_get(t){return _(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return _(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Dy=cj;function Cd(n,e,t){return`firebase:${n}:${e}:${t}`}var xd=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Cd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Cd("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?no._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(this,null,function*(){if(!t.length)return new n(Qn(Dy),e,r);let i=(yield Promise.all(t.map(l=>_(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Qn(Dy),o=Cd(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(o);if(h){let p=no._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new n(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(l=>_(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new n(s,e,r))})}};function f0(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(F0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(V0(e))return"Blackberry";if(U0(e))return"Webos";if(O0(e))return"Safari";if((e.includes("chrome/")||k0(e))&&!e.includes("edge/"))return"Chrome";if(L0(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function P0(n=Ge()){return/firefox\//i.test(n)}function O0(n=Ge()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function k0(n=Ge()){return/crios\//i.test(n)}function F0(n=Ge()){return/iemobile/i.test(n)}function L0(n=Ge()){return/android/i.test(n)}function V0(n=Ge()){return/blackberry/i.test(n)}function U0(n=Ge()){return/webos/i.test(n)}function Hy(n=Ge()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function uj(n=Ge()){var e;return Hy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lj(){return zC()&&document.documentMode===10}function j0(n=Ge()){return Hy(n)||L0(n)||U0(n)||V0(n)||/windows phone/i.test(n)||F0(n)}function B0(n,e=[]){let t;switch(n){case"Browser":t=f0(Ge());break;case"Worker":t=`${f0(Ge())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${jr}/${r}`}var Ty=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function dj(t){return _(this,arguments,function*(n,e={}){return Zn(n,"GET","/v2/passwordPolicy",Jn(n,e))})}var hj=6,by=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:hj,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Cy=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pd(this),this.idTokenSubscription=new Pd(this),this.beforeStateQueue=new Ty(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Qn(t)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield xd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let t=yield M0(this,{idToken:e}),r=yield no._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var t;if(Qt(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Md(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=ZU()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(Qt(this.app))return Promise.reject(Yn(this));let t=e?Oe(e):null;return t&&G(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return _(this,null,function*(){if(!this._deleted)return e&&G(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return Qt(this.app)?Promise.reject(Yn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Qt(this.app)?Promise.reject(Yn(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(Qn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield dj(this),t=new by(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new qn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield aj(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Qn(e)||this._popupRedirectResolver;G(t,this,"argument-error"),this.redirectPersistenceManager=yield xd.create(this,[Qn(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(t);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=B0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return _(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&QU(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function xi(n){return Oe(n)}var Pd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=KC(t=>this.observer=t)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var jd={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fj(n){jd=n}function $0(n){return jd.loadJS(n)}function pj(){return jd.recaptchaEnterpriseScript}function gj(){return jd.gapiScript}function H0(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var mj="recaptcha-enterprise",yj="NO_RECAPTCHA",Ay=class{constructor(e){this.type=mj,this.auth=xi(e)}verify(e="verify",t=!1){return _(this,null,function*(){function r(s){return _(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>_(this,null,function*(){nj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new wy(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;l0(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(yj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&l0(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=pj();u.length!==0&&(u+=a),$0(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function p0(n,e,t,r=!1){return _(this,null,function*(){let i=new Ay(n),s;try{s=yield i.verify(t)}catch{s=yield i.verify(t,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Sy(n,e,t,r){return _(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield p0(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(s=>_(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield p0(n,e,t,t==="getOobCode");return r(n,o)}else return Promise.reject(s)}))})}function zy(n,e){let t=Qa(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(Ti(s,e??{}))return i;mn(i,"already-initialized")}return t.initialize({options:e})}function vj(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Qn);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function qy(n,e,t){let r=xi(n);G(r._canInitEmulator,r,"emulator-config-failed"),G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=z0(e),{host:o,port:a}=_j(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Ij()}function z0(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function _j(n){let e=z0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:g0(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:g0(o)}}}function g0(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Ij(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var tc=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Kn("not implemented")}_getIdTokenResponse(e){return Kn("not implemented")}_linkToIdToken(e,t){return Kn("not implemented")}_getReauthenticationResolver(e){return Kn("not implemented")}};function wj(n,e){return _(this,null,function*(){return Zn(n,"POST","/v1/accounts:signUp",e)})}function Ej(n,e){return _(this,null,function*(){return ic(n,"POST","/v1/accounts:signInWithPassword",Jn(n,e))})}function Dj(n,e){return _(this,null,function*(){return Zn(n,"POST","/v1/accounts:sendOobCode",Jn(n,e))})}function Tj(n,e){return _(this,null,function*(){return Dj(n,e)})}function bj(n,e){return _(this,null,function*(){return ic(n,"POST","/v1/accounts:signInWithEmailLink",Jn(n,e))})}function Cj(n,e){return _(this,null,function*(){return ic(n,"POST","/v1/accounts:signInWithEmailLink",Jn(n,e))})}var nc=class n extends tc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sy(e,t,"signInWithPassword",Ej);case"emailLink":return bj(e,{email:this._email,oobCode:this._password});default:mn(e,"internal-error")}})}_linkToIdToken(e,t){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sy(e,r,"signUpPassword",wj);case"emailLink":return Cj(e,{idToken:t,email:this._email,oobCode:this._password});default:mn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function yy(n,e){return _(this,null,function*(){return ic(n,"POST","/v1/accounts:signInWithIdp",Jn(n,e))})}function Aj(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Sj(n){let e=Ys(Js(n)).link,t=e?Ys(Js(e)).deep_link_id:null,r=Ys(Js(n)).deep_link_id;return(r?Ys(Js(r)).link:null)||r||t||e||n}var Od=class n{constructor(e){var t,r,i,s,o,a;let u=Ys(Js(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=Aj((i=u.mode)!==null&&i!==void 0?i:null);G(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=Sj(e);try{return new n(t)}catch{return null}}};var q0=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return nc._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Od.parseLink(r);return G(i,"argument-error"),nc._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),kd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Ry=class extends kd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function Rj(n,e){return _(this,null,function*(){return ic(n,"POST","/v1/accounts:signUp",Jn(n,e))})}var ro=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(this,null,function*(){let s=yield no._fromIdTokenResponse(e,r,i),o=m0(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=m0(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function m0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Ny=class n extends At{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function G0(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ny._fromErrorAndOperation(n,s,e,r):s})}function Nj(n,e,t=!1){return _(this,null,function*(){let r=yield Xa(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return ro._forOperation(n,"link",r)})}function Mj(n,e,t=!1){return _(this,null,function*(){let{auth:r}=n;if(Qt(r.app))return Promise.reject(Yn(r));let i="reauthenticate";try{let s=yield Xa(n,G0(r,i,e,n),t);G(s.idToken,r,"internal-error");let o=By(s.idToken);G(o,r,"internal-error");let{sub:a}=o;return G(n.uid===a,r,"user-mismatch"),ro._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&mn(r,"user-mismatch"),s}})}function W0(n,e,t=!1){return _(this,null,function*(){if(Qt(n.app))return Promise.reject(Yn(n));let r="signIn",i=yield G0(n,r,e),s=yield ro._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function Gy(n,e){return _(this,null,function*(){return W0(xi(n),e)})}function xj(n,e,t){var r;G(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),G(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(G(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(G(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function K0(n){return _(this,null,function*(){let e=xi(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Wy(n,e,t){return _(this,null,function*(){if(Qt(n.app))return Promise.reject(Yn(n));let r=xi(n),o=yield Sy(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Rj).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&K0(n),u}),a=yield ro._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function Ky(n,e,t){return Qt(n.app)?Promise.reject(Yn(n)):Gy(Oe(n),q0.credential(e,t)).catch(r=>_(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&K0(n),r}))}function Q0(n,e){return _(this,null,function*(){let t=Oe(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&xj(t.auth,i,e);let{email:s}=yield Tj(t.auth,i);s!==n.email&&(yield n.reload())})}function Y0(n,e){return Oe(n).setPersistence(e)}function Qy(n,e,t,r){return Oe(n).onIdTokenChanged(e,t,r)}function Yy(n,e,t){return Oe(n).beforeAuthStateChanged(e,t)}var Fd="__sak";var Ld=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fd,"1"),this.storage.removeItem(Fd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Pj=1e3,Oj=10,kj=(()=>{class n extends Ld{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);lj()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,Oj):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},Pj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return _(this,null,function*(){yield hr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return _(this,null,function*(){let r=yield hr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return _(this,null,function*(){yield hr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),J0=kj;var Fj=(()=>{class n extends Ld{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Jy=Fj;function Lj(n){return Promise.all(n.map(e=>_(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var Vj=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return _(this,null,function*(){let r=t,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,o)})),l=yield Lj(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Z0(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var My=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=Z0("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function gn(){return window}function Uj(n){gn().location.href=n}function X0(){return typeof gn().WorkerGlobalScope<"u"&&typeof gn().importScripts=="function"}function jj(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Bj(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function $j(){return X0()?self:null}var eA="firebaseLocalStorageDb",Hj=1,Vd="firebaseLocalStorage",tA="fbase_key",Mi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Bd(n,e){return n.transaction([Vd],e?"readwrite":"readonly").objectStore(Vd)}function zj(){let n=indexedDB.deleteDatabase(eA);return new Mi(n).toPromise()}function xy(){let n=indexedDB.open(eA,Hj);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Vd,{keyPath:tA})}catch(i){t(i)}}),n.addEventListener("success",()=>_(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Vd)?e(r):(r.close(),yield zj(),e(yield xy()))}))})}function y0(n,e,t){return _(this,null,function*(){let r=Bd(n,!0).put({[tA]:e,value:t});return new Mi(r).toPromise()})}function qj(n,e){return _(this,null,function*(){let t=Bd(n,!1).get(e),r=yield new Mi(t).toPromise();return r===void 0?null:r.value})}function v0(n,e){let t=Bd(n,!0).delete(e);return new Mi(t).toPromise()}var Gj=800,Wj=3,Kj=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield xy(),this.db)})}_withRetries(t){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>Wj)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return X0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=Vj._getInstance($j()),this.receiver._subscribe("keyChanged",(t,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var t,r;if(this.activeServiceWorker=yield jj(),!this.activeServiceWorker)return;this.sender=new My(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Bj()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let t=yield xy();return yield y0(t,Fd,"1"),yield v0(t,Fd),!0}catch{}return!1})}_withPendingWrite(t){return _(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>y0(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return _(this,null,function*(){let r=yield this._withRetries(i=>qj(i,t));return this.localCache[t]=r,r})}_remove(t){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>v0(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return _(this,null,function*(){let t=yield this._withRetries(s=>{let o=Bd(s,!1).getAll();return new Mi(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),Gj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),nA=Kj;var S5=H0("rcb"),R5=new Ni(3e4,6e4);function Qj(n,e){return e?Qn(e):(G(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var rc=class extends tc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yy(e,this._buildIdpRequest())}_linkToIdToken(e,t){return yy(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return yy(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function Yj(n){return W0(n.auth,new rc(n),n.bypassAuthState)}function Jj(n){let{auth:e,user:t}=n;return G(t,e,"internal-error"),Mj(t,new rc(n),n.bypassAuthState)}function Zj(n){return _(this,null,function*(){let{auth:e,user:t}=n;return G(t,e,"internal-error"),Nj(t,new rc(n),n.bypassAuthState)})}var Py=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Yj;case"linkViaPopup":case"linkViaRedirect":return Zj;case"reauthViaPopup":case"reauthViaRedirect":return Jj;default:mn(this.auth,"internal-error")}}resolve(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var N5=new Ni(2e3,1e4);var Xj="pendingRedirect",Ad=new Map,Oy=class n extends Py{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=Ad.get(this.auth._key());if(!e){try{let r=(yield e2(this.resolver,this.auth))?yield hr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ad.set(this.auth._key(),e)}return this.bypassAuthState||Ad.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return hr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,hr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function e2(n,e){return _(this,null,function*(){let t=r2(e),r=n2(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function t2(n,e){Ad.set(n._key(),e)}function n2(n){return Qn(n._redirectPersistence)}function r2(n){return Cd(Xj,n.config.apiKey,n.name)}function i2(n,e,t=!1){return _(this,null,function*(){if(Qt(n.app))return Promise.reject(Yn(n));let r=xi(n),i=Qj(r,e),o=yield new Oy(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var s2=10*60*1e3,ky=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!o2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!rA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ri(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=s2&&this.cachedEventUids.clear(),this.cachedEventUids.has(_0(e))}saveEventToCache(e){this.cachedEventUids.add(_0(e)),this.lastProcessedEventTime=Date.now()}};function _0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function rA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function o2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rA(n);default:return!1}}function a2(t){return _(this,arguments,function*(n,e={}){return Zn(n,"GET","/v1/projects",e)})}var c2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,u2=/^https?/;function l2(n){return _(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield a2(n);for(let t of e)try{if(d2(t))return}catch{}mn(n,"unauthorized-domain")})}function d2(n){let e=_y(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!u2.test(t))return!1;if(c2.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var h2=new Ni(3e4,6e4);function I0(){let n=gn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function f2(n){return new Promise((e,t)=>{var r,i,s;function o(){I0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{I0(),t(Ri(n,"network-request-failed"))},timeout:h2.get()})}if(!((i=(r=gn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=gn().gapi)===null||s===void 0)&&s.load)o();else{let a=H0("iframefcb");return gn()[a]=()=>{gapi.load?o():t(Ri(n,"network-request-failed"))},$0(`${gj()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Sd=null,e})}var Sd=null;function p2(n){return Sd=Sd||f2(n),Sd}var g2=new Ni(5e3,15e3),m2="__/auth/iframe",y2="emulator/auth/iframe",v2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I2(n){let e=n.config;G(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Uy(e,y2):`https://${n.config.authDomain}/${m2}`,r={apiKey:e.apiKey,appName:n.name,v:jr},i=_2.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Ga(r).slice(1)}`}function w2(n){return _(this,null,function*(){let e=yield p2(n),t=gn().gapi;return G(t,n,"internal-error"),e.open({where:document.body,url:I2(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v2,dontclear:!0},r=>new Promise((i,s)=>_(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Ri(n,"network-request-failed"),a=gn().setTimeout(()=>{s(o)},g2.get());function u(){gn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var E2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},D2=500,T2=600,b2="_blank",C2="http://localhost",Ud=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function A2(n,e,t,r=D2,i=T2){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},E2),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Ge().toLowerCase();t&&(a=k0(l)?b2:t),P0(l)&&(e=e||C2,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,C])=>`${m}${y}=${C},`,"");if(uj(l)&&a!=="_self")return S2(e||"",a),new Ud(null);let p=window.open(e||"",a,h);G(p,n,"popup-blocked");try{p.focus()}catch{}return new Ud(p)}function S2(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var R2="__/auth/handler",N2="emulator/auth/handler",M2=encodeURIComponent("fac");function w0(n,e,t,r,i,s){return _(this,null,function*(){G(n.config.authDomain,n,"auth-domain-config-required"),G(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:jr,eventId:i};if(e instanceof kd){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",WC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof Ry){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${M2}=${encodeURIComponent(u)}`:"";return`${x2(n)}?${Ga(a).slice(1)}${l}`})}function x2({config:n}){return n.emulator?Uy(n,N2):`https://${n.authDomain}/${R2}`}var vy="webStorageSupport",Fy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jy,this._completeRedirectFn=i2,this._overrideRedirectResult=t2}_openPopup(e,t,r,i){return _(this,null,function*(){var s;$r((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield w0(e,t,r,_y(),i);return A2(e,o,Z0())})}_openRedirect(e,t,r,i){return _(this,null,function*(){yield this._originValidation(e);let s=yield w0(e,t,r,_y(),i);return Uj(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):($r(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return _(this,null,function*(){let t=yield w2(e),r=new ky(e);return t.register("authEvent",i=>(G(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(vy,{type:vy},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[vy];o!==void 0&&t(!!o),mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=l2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return j0()||O0()||Hy()}},iA=Fy;var E0="@firebase/auth",D0="1.7.9";var Ly=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function P2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function O2(n){Ur(new Ut("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;G(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:B0(n)},l=new Cy(r,i,s,u);return vj(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ur(new Ut("auth-internal",e=>{let t=xi(e.getProvider("auth").getImmediate());return(r=>new Ly(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),He(E0,D0,P2(n)),He(E0,D0,"esm2017")}var k2=5*60,F2=Jm("authIdTokenMaxAge")||k2,T0=null,L2=n=>e=>_(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>F2)return;let i=t?.token;T0!==i&&(T0=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Zy(n=Zs()){let e=Qa(n,"auth");if(e.isInitialized())return e.getImmediate();let t=zy(n,{popupRedirectResolver:iA,persistence:[nA,J0,Jy]}),r=Jm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=L2(s.toString());Yy(t,o,()=>o(t.currentUser)),Qy(t,a=>o(a))}}let i=Qm("auth");return i&&qy(t,`http://${i}`),t}function V2(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}fj({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=Ri("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",V2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});O2("Browser");var sA="auth",Pi=class{constructor(e){return e}},sc=class{constructor(){return Ya(sA)}};var Xy=new U("angularfire2.auth-instances");function AB(n,e){let t=Ed(sA,n,e);return t&&new Pi(t)}function SB(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Pi(r)}}var RB={provide:sc,deps:[[new rt,Xy]]},NB={provide:Pi,useFactory:AB,deps:[[new rt,Xy],Wn]};function fK(n,...e){return He("angularfire",Ai.full,"auth"),Ot([NB,RB,{provide:Xy,useFactory:SB(n),multi:!0,deps:[me,Ye,to,Si,[new rt,eo],...e]}])}var pK=St(Wy,!0);var gK=St(Zy,!0);var mK=St(Ky,!0);var oA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},aA={};var Hr,ev;(function(){var n;function e(E,v){function I(){}I.prototype=v.prototype,E.D=v.prototype,E.prototype=new I,E.prototype.constructor=E,E.C=function(D,T,A){for(var w=Array(arguments.length-2),Tn=2;Tn<arguments.length;Tn++)w[Tn-2]=arguments[Tn];return v.prototype[T].apply(D,w)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,v,I){I||(I=0);var D=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)D[T]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(T=0;16>T;++T)D[T]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=E.g[0],I=E.g[1],T=E.g[2];var A=E.g[3],w=v+(A^I&(T^A))+D[0]+3614090360&4294967295;v=I+(w<<7&4294967295|w>>>25),w=A+(T^v&(I^T))+D[1]+3905402710&4294967295,A=v+(w<<12&4294967295|w>>>20),w=T+(I^A&(v^I))+D[2]+606105819&4294967295,T=A+(w<<17&4294967295|w>>>15),w=I+(v^T&(A^v))+D[3]+3250441966&4294967295,I=T+(w<<22&4294967295|w>>>10),w=v+(A^I&(T^A))+D[4]+4118548399&4294967295,v=I+(w<<7&4294967295|w>>>25),w=A+(T^v&(I^T))+D[5]+1200080426&4294967295,A=v+(w<<12&4294967295|w>>>20),w=T+(I^A&(v^I))+D[6]+2821735955&4294967295,T=A+(w<<17&4294967295|w>>>15),w=I+(v^T&(A^v))+D[7]+4249261313&4294967295,I=T+(w<<22&4294967295|w>>>10),w=v+(A^I&(T^A))+D[8]+1770035416&4294967295,v=I+(w<<7&4294967295|w>>>25),w=A+(T^v&(I^T))+D[9]+2336552879&4294967295,A=v+(w<<12&4294967295|w>>>20),w=T+(I^A&(v^I))+D[10]+4294925233&4294967295,T=A+(w<<17&4294967295|w>>>15),w=I+(v^T&(A^v))+D[11]+2304563134&4294967295,I=T+(w<<22&4294967295|w>>>10),w=v+(A^I&(T^A))+D[12]+1804603682&4294967295,v=I+(w<<7&4294967295|w>>>25),w=A+(T^v&(I^T))+D[13]+4254626195&4294967295,A=v+(w<<12&4294967295|w>>>20),w=T+(I^A&(v^I))+D[14]+2792965006&4294967295,T=A+(w<<17&4294967295|w>>>15),w=I+(v^T&(A^v))+D[15]+1236535329&4294967295,I=T+(w<<22&4294967295|w>>>10),w=v+(T^A&(I^T))+D[1]+4129170786&4294967295,v=I+(w<<5&4294967295|w>>>27),w=A+(I^T&(v^I))+D[6]+3225465664&4294967295,A=v+(w<<9&4294967295|w>>>23),w=T+(v^I&(A^v))+D[11]+643717713&4294967295,T=A+(w<<14&4294967295|w>>>18),w=I+(A^v&(T^A))+D[0]+3921069994&4294967295,I=T+(w<<20&4294967295|w>>>12),w=v+(T^A&(I^T))+D[5]+3593408605&4294967295,v=I+(w<<5&4294967295|w>>>27),w=A+(I^T&(v^I))+D[10]+38016083&4294967295,A=v+(w<<9&4294967295|w>>>23),w=T+(v^I&(A^v))+D[15]+3634488961&4294967295,T=A+(w<<14&4294967295|w>>>18),w=I+(A^v&(T^A))+D[4]+3889429448&4294967295,I=T+(w<<20&4294967295|w>>>12),w=v+(T^A&(I^T))+D[9]+568446438&4294967295,v=I+(w<<5&4294967295|w>>>27),w=A+(I^T&(v^I))+D[14]+3275163606&4294967295,A=v+(w<<9&4294967295|w>>>23),w=T+(v^I&(A^v))+D[3]+4107603335&4294967295,T=A+(w<<14&4294967295|w>>>18),w=I+(A^v&(T^A))+D[8]+1163531501&4294967295,I=T+(w<<20&4294967295|w>>>12),w=v+(T^A&(I^T))+D[13]+2850285829&4294967295,v=I+(w<<5&4294967295|w>>>27),w=A+(I^T&(v^I))+D[2]+4243563512&4294967295,A=v+(w<<9&4294967295|w>>>23),w=T+(v^I&(A^v))+D[7]+1735328473&4294967295,T=A+(w<<14&4294967295|w>>>18),w=I+(A^v&(T^A))+D[12]+2368359562&4294967295,I=T+(w<<20&4294967295|w>>>12),w=v+(I^T^A)+D[5]+4294588738&4294967295,v=I+(w<<4&4294967295|w>>>28),w=A+(v^I^T)+D[8]+2272392833&4294967295,A=v+(w<<11&4294967295|w>>>21),w=T+(A^v^I)+D[11]+1839030562&4294967295,T=A+(w<<16&4294967295|w>>>16),w=I+(T^A^v)+D[14]+4259657740&4294967295,I=T+(w<<23&4294967295|w>>>9),w=v+(I^T^A)+D[1]+2763975236&4294967295,v=I+(w<<4&4294967295|w>>>28),w=A+(v^I^T)+D[4]+1272893353&4294967295,A=v+(w<<11&4294967295|w>>>21),w=T+(A^v^I)+D[7]+4139469664&4294967295,T=A+(w<<16&4294967295|w>>>16),w=I+(T^A^v)+D[10]+3200236656&4294967295,I=T+(w<<23&4294967295|w>>>9),w=v+(I^T^A)+D[13]+681279174&4294967295,v=I+(w<<4&4294967295|w>>>28),w=A+(v^I^T)+D[0]+3936430074&4294967295,A=v+(w<<11&4294967295|w>>>21),w=T+(A^v^I)+D[3]+3572445317&4294967295,T=A+(w<<16&4294967295|w>>>16),w=I+(T^A^v)+D[6]+76029189&4294967295,I=T+(w<<23&4294967295|w>>>9),w=v+(I^T^A)+D[9]+3654602809&4294967295,v=I+(w<<4&4294967295|w>>>28),w=A+(v^I^T)+D[12]+3873151461&4294967295,A=v+(w<<11&4294967295|w>>>21),w=T+(A^v^I)+D[15]+530742520&4294967295,T=A+(w<<16&4294967295|w>>>16),w=I+(T^A^v)+D[2]+3299628645&4294967295,I=T+(w<<23&4294967295|w>>>9),w=v+(T^(I|~A))+D[0]+4096336452&4294967295,v=I+(w<<6&4294967295|w>>>26),w=A+(I^(v|~T))+D[7]+1126891415&4294967295,A=v+(w<<10&4294967295|w>>>22),w=T+(v^(A|~I))+D[14]+2878612391&4294967295,T=A+(w<<15&4294967295|w>>>17),w=I+(A^(T|~v))+D[5]+4237533241&4294967295,I=T+(w<<21&4294967295|w>>>11),w=v+(T^(I|~A))+D[12]+1700485571&4294967295,v=I+(w<<6&4294967295|w>>>26),w=A+(I^(v|~T))+D[3]+2399980690&4294967295,A=v+(w<<10&4294967295|w>>>22),w=T+(v^(A|~I))+D[10]+4293915773&4294967295,T=A+(w<<15&4294967295|w>>>17),w=I+(A^(T|~v))+D[1]+2240044497&4294967295,I=T+(w<<21&4294967295|w>>>11),w=v+(T^(I|~A))+D[8]+1873313359&4294967295,v=I+(w<<6&4294967295|w>>>26),w=A+(I^(v|~T))+D[15]+4264355552&4294967295,A=v+(w<<10&4294967295|w>>>22),w=T+(v^(A|~I))+D[6]+2734768916&4294967295,T=A+(w<<15&4294967295|w>>>17),w=I+(A^(T|~v))+D[13]+1309151649&4294967295,I=T+(w<<21&4294967295|w>>>11),w=v+(T^(I|~A))+D[4]+4149444226&4294967295,v=I+(w<<6&4294967295|w>>>26),w=A+(I^(v|~T))+D[11]+3174756917&4294967295,A=v+(w<<10&4294967295|w>>>22),w=T+(v^(A|~I))+D[2]+718787259&4294967295,T=A+(w<<15&4294967295|w>>>17),w=I+(A^(T|~v))+D[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(T+(w<<21&4294967295|w>>>11))&4294967295,E.g[2]=E.g[2]+T&4294967295,E.g[3]=E.g[3]+A&4294967295}r.prototype.u=function(E,v){v===void 0&&(v=E.length);for(var I=v-this.blockSize,D=this.B,T=this.h,A=0;A<v;){if(T==0)for(;A<=I;)i(this,E,A),A+=this.blockSize;if(typeof E=="string"){for(;A<v;)if(D[T++]=E.charCodeAt(A++),T==this.blockSize){i(this,D),T=0;break}}else for(;A<v;)if(D[T++]=E[A++],T==this.blockSize){i(this,D),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;var I=8*this.o;for(v=E.length-8;v<E.length;++v)E[v]=I&255,I/=256;for(this.u(E),E=Array(16),v=I=0;4>v;++v)for(var D=0;32>D;D+=8)E[I++]=this.g[v]>>>D&255;return E};function s(E,v){var I=a;return Object.prototype.hasOwnProperty.call(I,E)?I[E]:I[E]=v(E)}function o(E,v){this.h=v;for(var I=[],D=!0,T=E.length-1;0<=T;T--){var A=E[T]|0;D&&A==v||(I[T]=A,D=!1)}this.g=I}var a={};function u(E){return-128<=E&&128>E?s(E,function(v){return new o([v|0],0>v?-1:0)}):new o([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return R(l(-E));for(var v=[],I=1,D=0;E>=I;D++)v[D]=E/I|0,I*=4294967296;return new o(v,0)}function h(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return R(h(E.substring(1),v));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),D=p,T=0;T<E.length;T+=8){var A=Math.min(8,E.length-T),w=parseInt(E.substring(T,T+A),v);8>A?(A=l(Math.pow(v,A)),D=D.j(A).add(l(w))):(D=D.j(I),D=D.add(l(w)))}return D}var p=u(0),m=u(1),y=u(16777216);n=o.prototype,n.m=function(){if(N(this))return-R(this).m();for(var E=0,v=1,I=0;I<this.g.length;I++){var D=this.i(I);E+=(0<=D?D:4294967296+D)*v,v*=4294967296}return E},n.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C(this))return"0";if(N(this))return"-"+R(this).toString(E);for(var v=l(Math.pow(E,6)),I=this,D="";;){var T=X(I,v).g;I=F(I,T.j(v));var A=((0<I.g.length?I.g[0]:I.h)>>>0).toString(E);if(I=T,C(I))return A+D;for(;6>A.length;)A="0"+A;D=A+D}},n.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function C(E){if(E.h!=0)return!1;for(var v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function N(E){return E.h==-1}n.l=function(E){return E=F(this,E),N(E)?-1:C(E)?0:1};function R(E){for(var v=E.g.length,I=[],D=0;D<v;D++)I[D]=~E.g[D];return new o(I,~E.h).add(m)}n.abs=function(){return N(this)?R(this):this},n.add=function(E){for(var v=Math.max(this.g.length,E.g.length),I=[],D=0,T=0;T<=v;T++){var A=D+(this.i(T)&65535)+(E.i(T)&65535),w=(A>>>16)+(this.i(T)>>>16)+(E.i(T)>>>16);D=w>>>16,A&=65535,w&=65535,I[T]=w<<16|A}return new o(I,I[I.length-1]&-2147483648?-1:0)};function F(E,v){return E.add(R(v))}n.j=function(E){if(C(this)||C(E))return p;if(N(this))return N(E)?R(this).j(R(E)):R(R(this).j(E));if(N(E))return R(this.j(R(E)));if(0>this.l(y)&&0>E.l(y))return l(this.m()*E.m());for(var v=this.g.length+E.g.length,I=[],D=0;D<2*v;D++)I[D]=0;for(D=0;D<this.g.length;D++)for(var T=0;T<E.g.length;T++){var A=this.i(D)>>>16,w=this.i(D)&65535,Tn=E.i(T)>>>16,xo=E.i(T)&65535;I[2*D+2*T]+=w*xo,$(I,2*D+2*T),I[2*D+2*T+1]+=A*xo,$(I,2*D+2*T+1),I[2*D+2*T+1]+=w*Tn,$(I,2*D+2*T+1),I[2*D+2*T+2]+=A*Tn,$(I,2*D+2*T+2)}for(D=0;D<v;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=v;D<2*v;D++)I[D]=0;return new o(I,0)};function $(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function L(E,v){this.g=E,this.h=v}function X(E,v){if(C(v))throw Error("division by zero");if(C(E))return new L(p,p);if(N(E))return v=X(R(E),v),new L(R(v.g),R(v.h));if(N(v))return v=X(E,R(v)),new L(R(v.g),v.h);if(30<E.g.length){if(N(E)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var I=m,D=v;0>=D.l(E);)I=ve(I),D=ve(D);var T=W(I,1),A=W(D,1);for(D=W(D,2),I=W(I,2);!C(D);){var w=A.add(D);0>=w.l(E)&&(T=T.add(I),A=w),D=W(D,1),I=W(I,1)}return v=F(E,T.j(v)),new L(T,v)}for(T=p;0<=E.l(v);){for(I=Math.max(1,Math.floor(E.m()/v.m())),D=Math.ceil(Math.log(I)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),A=l(I),w=A.j(v);N(w)||0<w.l(E);)I-=D,A=l(I),w=A.j(v);C(A)&&(A=m),T=T.add(A),E=F(E,w)}return new L(T,E)}n.A=function(E){return X(this,E).h},n.and=function(E){for(var v=Math.max(this.g.length,E.g.length),I=[],D=0;D<v;D++)I[D]=this.i(D)&E.i(D);return new o(I,this.h&E.h)},n.or=function(E){for(var v=Math.max(this.g.length,E.g.length),I=[],D=0;D<v;D++)I[D]=this.i(D)|E.i(D);return new o(I,this.h|E.h)},n.xor=function(E){for(var v=Math.max(this.g.length,E.g.length),I=[],D=0;D<v;D++)I[D]=this.i(D)^E.i(D);return new o(I,this.h^E.h)};function ve(E){for(var v=E.g.length+1,I=[],D=0;D<v;D++)I[D]=E.i(D)<<1|E.i(D-1)>>>31;return new o(I,E.h)}function W(E,v){var I=v>>5;v%=32;for(var D=E.g.length-I,T=[],A=0;A<D;A++)T[A]=0<v?E.i(A+I)>>>v|E.i(A+I+1)<<32-v:E.i(A+I);return new o(T,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ev=aA.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,Hr=aA.Integer=o}).apply(typeof oA<"u"?oA:typeof self<"u"?self:typeof window<"u"?window:{});var $d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xn={};var tv,xB,io,nv,oc,Hd,rv,iv,sv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $d=="object"&&$d];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var S=f++;return{value:d(S,c[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,S){for(var O=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)O[Ee-2]=arguments[Ee];return d.prototype[b].apply(g,O)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,S=g.length||0;c.length=b+S;for(let O=0;O<S;O++)c[b+O]=g[O]}else c.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function $(c){return/^[\s\xa0]*$/.test(c)}function L(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function X(c){return X[" "](c),c}X[" "]=function(){};var ve=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function W(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let S=0;S<I.length;S++)f=I[S],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function A(c){a.setTimeout(()=>{throw c},0)}function w(){var c=Zh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Tn{constructor(){this.h=this.g=null}add(d,f){let g=xo.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var xo=new F(()=>new $R,c=>c.reset());class $R{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Po,Oo=!1,Zh=new Tn,TI=()=>{let c=a.Promise.resolve(void 0);Po=()=>{c.then(HR)}};var HR=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){A(f)}var d=xo;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Oo=!1};function cr(){this.s=this.s,this.C=this.C}cr.prototype.s=!1,cr.prototype.ma=function(){this.s||(this.s=!0,this.N())},cr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ze(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Ze.prototype.h=function(){this.defaultPrevented=!0};var zR=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function ko(c,d){if(Ze.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(ve){e:{try{X(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:qR[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ko.aa.h.call(this)}}C(ko,Ze);var qR={2:"touch",3:"pen",4:"mouse"};ko.prototype.h=function(){ko.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Fo="closure_listenable_"+(1e6*Math.random()|0),GR=0;function WR(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++GR,this.da=this.fa=!1}function jc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Bc(c){this.src=c,this.g={},this.h=0}Bc.prototype.add=function(c,d,f,g,b){var S=c.toString();c=this.g[S],c||(c=this.g[S]=[],this.h++);var O=ef(c,d,g,b);return-1<O?(d=c[O],f||(d.fa=!1)):(d=new WR(d,this.src,S,!!g,b),d.fa=f,c.push(d)),d};function Xh(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=b)&&Array.prototype.splice.call(g,b,1),S&&(jc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function ef(c,d,f,g){for(var b=0;b<c.length;++b){var S=c[b];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==g)return b}return-1}var tf="closure_lm_"+(1e6*Math.random()|0),nf={};function bI(c,d,f,g,b){if(g&&g.once)return AI(c,d,f,g,b);if(Array.isArray(d)){for(var S=0;S<d.length;S++)bI(c,d[S],f,g,b);return null}return f=af(f),c&&c[Fo]?c.K(d,f,l(g)?!!g.capture:!!g,b):CI(c,d,f,!1,g,b)}function CI(c,d,f,g,b,S){if(!d)throw Error("Invalid event type");var O=l(b)?!!b.capture:!!b,Ee=sf(c);if(Ee||(c[tf]=Ee=new Bc(c)),f=Ee.add(d,f,g,O,S),f.proxy)return f;if(g=KR(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)zR||(b=O),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(RI(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function KR(){function c(f){return d.call(c.src,c.listener,f)}let d=QR;return c}function AI(c,d,f,g,b){if(Array.isArray(d)){for(var S=0;S<d.length;S++)AI(c,d[S],f,g,b);return null}return f=af(f),c&&c[Fo]?c.L(d,f,l(g)?!!g.capture:!!g,b):CI(c,d,f,!0,g,b)}function SI(c,d,f,g,b){if(Array.isArray(d))for(var S=0;S<d.length;S++)SI(c,d[S],f,g,b);else g=l(g)?!!g.capture:!!g,f=af(f),c&&c[Fo]?(c=c.i,d=String(d).toString(),d in c.g&&(S=c.g[d],f=ef(S,f,g,b),-1<f&&(jc(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete c.g[d],c.h--)))):c&&(c=sf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=ef(d,f,g,b)),(f=-1<c?d[c]:null)&&rf(f))}function rf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Fo])Xh(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(RI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=sf(d))?(Xh(f,c),f.h==0&&(f.src=null,d[tf]=null)):jc(c)}}}function RI(c){return c in nf?nf[c]:nf[c]="on"+c}function QR(c,d){if(c.da)c=!0;else{d=new ko(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&rf(c),c=f.call(g,d)}return c}function sf(c){return c=c[tf],c instanceof Bc?c:null}var of="__closure_events_fn_"+(1e9*Math.random()>>>0);function af(c){return typeof c=="function"?c:(c[of]||(c[of]=function(d){return c.handleEvent(d)}),c[of])}function Xe(){cr.call(this),this.i=new Bc(this),this.M=this,this.F=null}C(Xe,cr),Xe.prototype[Fo]=!0,Xe.prototype.removeEventListener=function(c,d,f,g){SI(this,c,d,f,g)};function ct(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new Ze(d,c);else if(d instanceof Ze)d.target=d.target||c;else{var b=d;d=new Ze(g,c),D(d,b)}if(b=!0,f)for(var S=f.length-1;0<=S;S--){var O=d.g=f[S];b=$c(O,g,!0,d)&&b}if(O=d.g=c,b=$c(O,g,!0,d)&&b,b=$c(O,g,!1,d)&&b,f)for(S=0;S<f.length;S++)O=d.g=f[S],b=$c(O,g,!1,d)&&b}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)jc(f[g]);delete c.g[d],c.h--}}this.F=null},Xe.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},Xe.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function $c(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,S=0;S<d.length;++S){var O=d[S];if(O&&!O.da&&O.capture==f){var Ee=O.listener,Ke=O.ha||O.src;O.fa&&Xh(c.i,O),b=Ee.call(Ke,g)!==!1&&b}}return b&&!g.defaultPrevented}function NI(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function MI(c){c.g=NI(()=>{c.g=null,c.i&&(c.i=!1,MI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class YR extends cr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:MI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lo(c){cr.call(this),this.h=c,this.g={}}C(Lo,cr);var xI=[];function PI(c){W(c.g,function(d,f){this.g.hasOwnProperty(f)&&rf(d)},c),c.g={}}Lo.prototype.N=function(){Lo.aa.N.call(this),PI(this)},Lo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cf=a.JSON.stringify,JR=a.JSON.parse,ZR=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function uf(){}uf.prototype.h=null;function OI(c){return c.h||(c.h=c.i())}function kI(){}var Vo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lf(){Ze.call(this,"d")}C(lf,Ze);function df(){Ze.call(this,"c")}C(df,Ze);var Yr={},FI=null;function Hc(){return FI=FI||new Xe}Yr.La="serverreachability";function LI(c){Ze.call(this,Yr.La,c)}C(LI,Ze);function Uo(c){let d=Hc();ct(d,new LI(d))}Yr.STAT_EVENT="statevent";function VI(c,d){Ze.call(this,Yr.STAT_EVENT,c),this.stat=d}C(VI,Ze);function ut(c){let d=Hc();ct(d,new VI(d,c))}Yr.Ma="timingevent";function UI(c,d){Ze.call(this,Yr.Ma,c),this.size=d}C(UI,Ze);function jo(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Bo(){this.g=!0}Bo.prototype.xa=function(){this.g=!1};function XR(c,d,f,g,b,S){c.info(function(){if(c.g)if(S)for(var O="",Ee=S.split("&"),Ke=0;Ke<Ee.length;Ke++){var ge=Ee[Ke].split("=");if(1<ge.length){var et=ge[0];ge=ge[1];var tt=et.split("_");O=2<=tt.length&&tt[1]=="type"?O+(et+"="+ge+"&"):O+(et+"=redacted&")}}else O=null;else O=S;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+O})}function eN(c,d,f,g,b,S,O){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+S+" "+O})}function Yi(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+nN(c,f)+(g?" "+g:"")})}function tN(c,d){c.info(function(){return"TIMEOUT: "+d})}Bo.prototype.info=function(){};function nN(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var O=1;O<b.length;O++)b[O]=""}}}}return cf(f)}catch{return d}}var zc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hf;function qc(){}C(qc,uf),qc.prototype.g=function(){return new XMLHttpRequest},qc.prototype.i=function(){return{}},hf=new qc;function ur(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Lo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new BI}function BI(){this.i=null,this.g="",this.h=!1}var $I={},ff={};function pf(c,d,f){c.L=1,c.v=Qc(bn(d)),c.m=f,c.P=!0,HI(c,null)}function HI(c,d){c.F=Date.now(),Gc(c),c.A=bn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),rw(f.i,"t",g),c.C=0,f=c.j.J,c.h=new BI,c.g=ww(c.j,f?d:null,!c.m),0<c.O&&(c.M=new YR(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(xI[0]=b.toString()),b=xI);for(var S=0;S<b.length;S++){var O=bI(f,b[S],g||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Uo(),XR(c.i,c.u,c.A,c.l,c.R,c.m)}ur.prototype.ca=function(c){c=c.target;let d=this.M;d&&Cn(c)==3?d.j():this.Y(c)},ur.prototype.Y=function(c){try{if(c==this.g)e:{let tt=Cn(this.g);var d=this.g.Ba();let Xi=this.g.Z();if(!(3>tt)&&(tt!=3||this.g&&(this.h.h||this.g.oa()||lw(this.g)))){this.J||tt!=4||d==7||(d==8||0>=Xi?Uo(3):Uo(2)),gf(this);var f=this.g.Z();this.X=f;t:if(zI(this)){var g=lw(this.g);c="";var b=g.length,S=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jr(this),$o(this);var O="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(S&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=f==200,eN(this.i,this.u,this.A,this.l,this.R,tt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ee,Ke=this.g;if((Ee=Ke.g?Ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Ee)){var ge=Ee;break t}}ge=null}if(f=ge)Yi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mf(this,f);else{this.o=!1,this.s=3,ut(12),Jr(this),$o(this);break e}}if(this.P){f=!0;let Bt;for(;!this.J&&this.C<O.length;)if(Bt=rN(this,O),Bt==ff){tt==4&&(this.s=4,ut(14),f=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==$I){this.s=4,ut(15),Yi(this.i,this.l,O,"[Invalid Chunk]"),f=!1;break}else Yi(this.i,this.l,Bt,null),mf(this,Bt);if(zI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tt!=4||O.length!=0||this.h.h||(this.s=1,ut(16),f=!1),this.o=this.o&&f,!f)Yi(this.i,this.l,O,"[Invalid Chunked Response]"),Jr(this),$o(this);else if(0<O.length&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.ba&&!et.M&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Ef(et),et.M=!0,ut(11))}}else Yi(this.i,this.l,O,null),mf(this,O);tt==4&&Jr(this),this.o&&!this.J&&(tt==4?yw(this.j,this):(this.o=!1,Gc(this)))}else IN(this.g),f==400&&0<O.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Jr(this),$o(this)}}}catch{}finally{}};function zI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function rN(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?ff:(f=Number(d.substring(f,g)),isNaN(f)?$I:(g+=1,g+f>d.length?ff:(d=d.slice(g,g+f),c.C=g+f,d)))}ur.prototype.cancel=function(){this.J=!0,Jr(this)};function Gc(c){c.S=Date.now()+c.I,qI(c,c.I)}function qI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=jo(m(c.ba,c),d)}function gf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ur.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(tN(this.i,this.A),this.L!=2&&(Uo(),ut(17)),Jr(this),this.s=2,$o(this)):qI(this,this.S-c)};function $o(c){c.j.G==0||c.J||yw(c.j,c)}function Jr(c){gf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,PI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function mf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||yf(f.h,c))){if(!c.K&&yf(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)eu(f),Zc(f);else break e;wf(f),ut(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=jo(m(f.Za,f),6e3));if(1>=KI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Xr(f,11)}else if((c.K||f.g==c)&&eu(f),!$(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let ge=b[d];if(f.T=ge[0],ge=ge[1],f.G==2)if(ge[0]=="c"){f.K=ge[1],f.ia=ge[2];let et=ge[3];et!=null&&(f.la=et,f.j.info("VER="+f.la));let tt=ge[4];tt!=null&&(f.Aa=tt,f.j.info("SVER="+f.Aa));let Xi=ge[5];Xi!=null&&typeof Xi=="number"&&0<Xi&&(g=1.5*Xi,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Bt=c.g;if(Bt){let nu=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nu){var S=g.h;S.g||nu.indexOf("spdy")==-1&&nu.indexOf("quic")==-1&&nu.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(vf(S,S.h),S.h=null))}if(g.D){let Df=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;Df&&(g.ya=Df,be(g.I,g.D,Df))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var O=c;if(g.qa=Iw(g,g.J?g.ia:null,g.W),O.K){QI(g.h,O);var Ee=O,Ke=g.L;Ke&&(Ee.I=Ke),Ee.B&&(gf(Ee),Gc(Ee)),g.g=O}else gw(g);0<f.i.length&&Xc(f)}else ge[0]!="stop"&&ge[0]!="close"||Xr(f,7);else f.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?Xr(f,7):If(f):ge[0]!="noop"&&f.l&&f.l.ta(ge),f.v=0)}}Uo(4)}catch{}}var iN=class{constructor(c,d){this.g=c,this.map=d}};function GI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function WI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function KI(c){return c.h?1:c.g?c.g.size:0}function yf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function vf(c,d){c.g?c.g.add(d):c.h=d}function QI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}GI.prototype.cancel=function(){if(this.i=YI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function YI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function sN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function oN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function JI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=oN(c),g=sN(c),b=g.length,S=0;S<b;S++)d.call(void 0,g[S],f&&f[S],c)}var ZI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aN(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var S=c[f].substring(0,g);b=c[f].substring(g+1)}else S=c[f];d(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Zr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Zr){this.h=c.h,Wc(this,c.j),this.o=c.o,this.g=c.g,Kc(this,c.s),this.l=c.l;var d=c.i,f=new qo;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),XI(this,f),this.m=c.m}else c&&(d=String(c).match(ZI))?(this.h=!1,Wc(this,d[1]||"",!0),this.o=Ho(d[2]||""),this.g=Ho(d[3]||"",!0),Kc(this,d[4]),this.l=Ho(d[5]||"",!0),XI(this,d[6]||"",!0),this.m=Ho(d[7]||"")):(this.h=!1,this.i=new qo(null,this.h))}Zr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(zo(d,ew,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(zo(d,ew,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(zo(f,f.charAt(0)=="/"?lN:uN,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",zo(f,hN)),c.join("")};function bn(c){return new Zr(c)}function Wc(c,d,f){c.j=f?Ho(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Kc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function XI(c,d,f){d instanceof qo?(c.i=d,fN(c.i,c.h)):(f||(d=zo(d,dN)),c.i=new qo(d,c.h))}function be(c,d,f){c.i.set(d,f)}function Qc(c){return be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ho(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function zo(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,cN),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ew=/[#\/\?@]/g,uN=/[#\?:]/g,lN=/[#\?]/g,dN=/[#\?@]/g,hN=/#/g;function qo(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function lr(c){c.g||(c.g=new Map,c.h=0,c.i&&aN(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=qo.prototype,n.add=function(c,d){lr(this),this.i=null,c=Ji(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function tw(c,d){lr(c),d=Ji(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function nw(c,d){return lr(c),d=Ji(c,d),c.g.has(d)}n.forEach=function(c,d){lr(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},n.na=function(){lr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let S=0;S<b.length;S++)f.push(d[g])}return f},n.V=function(c){lr(this);let d=[];if(typeof c=="string")nw(this,c)&&(d=d.concat(this.g.get(Ji(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return lr(this),this.i=null,c=Ji(this,c),nw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function rw(c,d,f){tw(c,d),0<f.length&&(c.i=null,c.g.set(Ji(c,d),N(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let S=encodeURIComponent(String(g)),O=this.V(g);for(g=0;g<O.length;g++){var b=S;O[g]!==""&&(b+="="+encodeURIComponent(String(O[g]))),c.push(b)}}return this.i=c.join("&")};function Ji(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function fN(c,d){d&&!c.j&&(lr(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(tw(this,g),rw(this,b,f))},c)),c.j=d}function pN(c,d){let f=new Bo;if(a.Image){let g=new Image;g.onload=y(dr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(dr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(dr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(dr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function gN(c,d){let f=new Bo,g=new AbortController,b=setTimeout(()=>{g.abort(),dr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(S=>{clearTimeout(b),S.ok?dr(f,"TestPingServer: ok",!0,d):dr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),dr(f,"TestPingServer: error",!1,d)})}function dr(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function mN(){this.g=new ZR}function yN(c,d,f){let g=f||"";try{JI(c,function(b,S){let O=b;l(b)&&(O=cf(b)),d.push(g+S+"="+encodeURIComponent(O))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function Go(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Go,uf),Go.prototype.g=function(){return new Yc(this.l,this.j)},Go.prototype.i=function(c){return function(){return c}}({});function Yc(c,d){Xe.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Yc,Xe),n=Yc.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ko(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wo(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ko(this)),this.g&&(this.readyState=3,Ko(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;iw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function iw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Wo(this):Ko(this),this.readyState==3&&iw(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Wo(this))},n.Qa=function(c){this.g&&(this.response=c,Wo(this))},n.ga=function(){this.g&&Wo(this)};function Wo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ko(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Ko(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Yc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function sw(c){let d="";return W(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function _f(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=sw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):be(c,d,f))}function Ne(c){Xe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ne,Xe);var vN=/^https?$/i,_N=["POST","PUT"];n=Ne.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hf.g(),this.v=this.o?OI(this.o):OI(hf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(S){ow(this,S);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())f.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(_N,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,O]of f)this.g.setRequestHeader(S,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uw(this),this.u=!0,this.g.send(c),this.u=!1}catch(S){ow(this,S)}};function ow(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,aw(c),Jc(c)}function aw(c){c.A||(c.A=!0,ct(c,"complete"),ct(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ct(this,"complete"),ct(this,"abort"),Jc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jc(this,!0)),Ne.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?cw(this):this.bb())},n.bb=function(){cw(this)};function cw(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Cn(c)!=4||c.Z()!=2)){if(c.u&&Cn(c)==4)NI(c.Ea,0,c);else if(ct(c,"readystatechange"),Cn(c)==4){c.h=!1;try{let O=c.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=O===0){var b=String(c.D).match(ZI)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!vN.test(b?b.toLowerCase():"")}f=g}if(f)ct(c,"complete"),ct(c,"success");else{c.m=6;try{var S=2<Cn(c)?c.g.statusText:""}catch{S=""}c.l=S+" ["+c.Z()+"]",aw(c)}}finally{Jc(c)}}}}function Jc(c,d){if(c.g){uw(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||ct(c,"ready");try{f.onreadystatechange=g}catch{}}}function uw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Cn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),JR(d)}};function lw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function IN(c){let d={};c=(c.g&&2<=Cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if($(c[g]))continue;var f=T(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[b]||[];d[b]=S,S.push(f)}E(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qo(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function dw(c){this.Aa=0,this.i=[],this.j=new Bo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qo("baseRetryDelayMs",5e3,c),this.cb=Qo("retryDelaySeedMs",1e4,c),this.Wa=Qo("forwardChannelMaxRetries",2,c),this.wa=Qo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new GI(c&&c.concurrentRequestLimit),this.Da=new mN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=dw.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){ut(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=Iw(this,null,this.W),Xc(this)};function If(c){if(hw(c),c.G==3){var d=c.U++,f=bn(c.I);if(be(f,"SID",c.K),be(f,"RID",d),be(f,"TYPE","terminate"),Yo(c,f),d=new ur(c,c.j,d),d.L=2,d.v=Qc(bn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=ww(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Gc(d)}_w(c)}function Zc(c){c.g&&(Ef(c),c.g.cancel(),c.g=null)}function hw(c){Zc(c),c.u&&(a.clearTimeout(c.u),c.u=null),eu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Xc(c){if(!WI(c.h)&&!c.s){c.s=!0;var d=c.Ga;Po||TI(),Oo||(Po(),Oo=!0),Zh.add(d,c),c.B=0}}function wN(c,d){return KI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=jo(m(c.Ga,c,d),vw(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new ur(this,this.j,c),S=this.o;if(this.S&&(S?(S=v(S),D(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=pw(this,b,d),f=bn(this.I),be(f,"RID",c),be(f,"CVER",22),this.D&&be(f,"X-HTTP-Session-Id",this.D),Yo(this,f),S&&(this.O?d="headers="+encodeURIComponent(String(sw(S)))+"&"+d:this.m&&_f(f,this.m,S)),vf(this.h,b),this.Ua&&be(f,"TYPE","init"),this.P?(be(f,"$req",d),be(f,"SID","null"),b.T=!0,pf(b,f,null)):pf(b,f,d),this.G=2}}else this.G==3&&(c?fw(this,c):this.i.length==0||WI(this.h)||fw(this))};function fw(c,d){var f;d?f=d.l:f=c.U++;let g=bn(c.I);be(g,"SID",c.K),be(g,"RID",f),be(g,"AID",c.T),Yo(c,g),c.m&&c.o&&_f(g,c.m,c.o),f=new ur(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=pw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),vf(c.h,f),pf(f,g,d)}function Yo(c,d){c.H&&W(c.H,function(f,g){be(d,g,f)}),c.l&&JI({},function(f,g){be(d,g,f)})}function pw(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let S=-1;for(;;){let O=["count="+f];S==-1?0<f?(S=b[0].g,O.push("ofs="+S)):S=0:O.push("ofs="+S);let Ee=!0;for(let Ke=0;Ke<f;Ke++){let ge=b[Ke].g,et=b[Ke].map;if(ge-=S,0>ge)S=Math.max(0,b[Ke].g-100),Ee=!1;else try{yN(et,O,"req"+ge+"_")}catch{g&&g(et)}}if(Ee){g=O.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function gw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Po||TI(),Oo||(Po(),Oo=!0),Zh.add(d,c),c.v=0}}function wf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=jo(m(c.Fa,c),vw(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,mw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=jo(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Zc(this),mw(this))};function Ef(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function mw(c){c.g=new ur(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=bn(c.qa);be(d,"RID","rpc"),be(d,"SID",c.K),be(d,"AID",c.T),be(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&be(d,"TO",c.ja),be(d,"TYPE","xmlhttp"),Yo(c,d),c.m&&c.o&&_f(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Qc(bn(d)),f.m=null,f.P=!0,HI(f,c)}n.Za=function(){this.C!=null&&(this.C=null,Zc(this),wf(this),ut(19))};function eu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function yw(c,d){var f=null;if(c.g==d){eu(c),Ef(c),c.g=null;var g=2}else if(yf(c.h,d))f=d.D,QI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=Hc(),ct(g,new UI(g,f)),Xc(c)}else gw(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&wN(c,d)||g==2&&wf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:Xr(c,5);break;case 4:Xr(c,10);break;case 3:Xr(c,6);break;default:Xr(c,2)}}}function vw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Xr(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let b=!g;g=new Zr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Wc(g,"https"),Qc(g),b?pN(g.toString(),f):gN(g.toString(),f)}else ut(2);c.G=0,c.l&&c.l.sa(d),_w(c),hw(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function _w(c){if(c.G=0,c.ka=[],c.l){let d=YI(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function Iw(c,d,f){var g=f instanceof Zr?bn(f):new Zr(f);if(g.g!="")d&&(g.g=d+"."+g.g),Kc(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var S=new Zr(null);g&&Wc(S,g),d&&(S.g=d),b&&Kc(S,b),f&&(S.l=f),g=S}return f=c.D,d=c.ya,f&&d&&be(g,f,d),be(g,"VER",c.la),Yo(c,g),g}function ww(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ne(new Go({eb:f})):new Ne(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ew(){}n=Ew.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function tu(){}tu.prototype.g=function(c,d){return new _t(c,d)};function _t(c,d){Xe.call(this),this.g=new dw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!$(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!$(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Zi(this)}C(_t,Xe),_t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_t.prototype.close=function(){If(this.g)},_t.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=cf(c),c=f);d.i.push(new iN(d.Ya++,c)),d.G==3&&Xc(d)},_t.prototype.N=function(){this.g.l=null,delete this.j,If(this.g),delete this.g,_t.aa.N.call(this)};function Dw(c){lf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(Dw,lf);function Tw(){df.call(this),this.status=1}C(Tw,df);function Zi(c){this.g=c}C(Zi,Ew),Zi.prototype.ua=function(){ct(this.g,"a")},Zi.prototype.ta=function(c){ct(this.g,new Dw(c))},Zi.prototype.sa=function(c){ct(this.g,new Tw)},Zi.prototype.ra=function(){ct(this.g,"b")},tu.prototype.createWebChannel=tu.prototype.g,_t.prototype.send=_t.prototype.o,_t.prototype.open=_t.prototype.m,_t.prototype.close=_t.prototype.close,sv=Xn.createWebChannelTransport=function(){return new tu},iv=Xn.getStatEventTarget=function(){return Hc()},rv=Xn.Event=Yr,Hd=Xn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zc.NO_ERROR=0,zc.TIMEOUT=8,zc.HTTP_ERROR=6,oc=Xn.ErrorCode=zc,jI.COMPLETE="complete",nv=Xn.EventType=jI,kI.EventType=Vo,Vo.OPEN="a",Vo.CLOSE="b",Vo.ERROR="c",Vo.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,io=Xn.WebChannel=kI,xB=Xn.FetchXmlHttpFactory=Go,Ne.prototype.listenOnce=Ne.prototype.L,Ne.prototype.getLastError=Ne.prototype.Ka,Ne.prototype.getLastErrorCode=Ne.prototype.Ba,Ne.prototype.getStatus=Ne.prototype.Z,Ne.prototype.getResponseJson=Ne.prototype.Oa,Ne.prototype.getResponseText=Ne.prototype.oa,Ne.prototype.send=Ne.prototype.ea,Ne.prototype.setWithCredentials=Ne.prototype.Ha,tv=Xn.XhrIo=Ne}).apply(typeof $d<"u"?$d:typeof self<"u"?self:typeof window<"u"?window:{});var cA="@firebase/firestore";var We=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");var bo="10.14.0";var Li=new Lr("@firebase/firestore");function ac(){return Li.logLevel}function B(n,...e){if(Li.logLevel<=le.DEBUG){let t=e.map($_);Li.debug(`Firestore (${bo}): ${n}`,...t)}}function tr(n,...e){if(Li.logLevel<=le.ERROR){let t=e.map($_);Li.error(`Firestore (${bo}): ${n}`,...t)}}function ho(n,...e){if(Li.logLevel<=le.WARN){let t=e.map($_);Li.warn(`Firestore (${bo}): ${n}`,...t)}}function $_(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Q(n="Unexpected state"){let e=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: `+n;throw tr(e),new Error(e)}function we(n,e){n||Q()}function Z(n,e){return n}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends At{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var vn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Kd=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},lv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(We.UNAUTHENTICATED))}shutdown(){}},dv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},hv=class{constructor(e){this.t=e,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){we(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),s=new vn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new vn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new vn)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string"),new Kd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string"),new We(e)}},fv=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=We.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},pv=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new fv(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(We.FIRST_PARTY))}shutdown(){}invalidateToken(){}},gv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},mv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){we(this.o===void 0);let r=s=>{s.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,B("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(we(typeof t.token=="string"),this.R=t.token,new gv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function PB(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Qd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=PB(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}};function ye(n,e){return n<e?-1:n>e?1:0}function fo(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Je=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new V(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new V(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new V(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ne=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Je(0,0))}static max(){return new n(new Je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Yd=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Q(),r===void 0?r=e.length-t:r>e.length-t&&Q(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Re=class n extends Yd{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new V(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},OB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Nt=class n extends Yd{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return OB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new V(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new V(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new V(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new V(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var q=class n{constructor(e){this.path=e}static fromPath(e){return new n(Re.fromString(e))}static fromName(e){return new n(Re.fromString(e).popFirst(5))}static empty(){return new n(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Re.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Re(e.slice()))}};var yv=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};yv.UNKNOWN_ID=-1;function kB(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new Je(t+1,0):new Je(t,r));return new Vi(i,q.empty(),e)}function FB(n){return new Vi(n.readTime,n.key,-1)}var Vi=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ne.min(),q.empty(),-1)}static max(){return new n(ne.max(),q.empty(),-1)}};function LB(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=q.comparator(n.documentKey,e.documentKey),t!==0?t:ye(n.largestBatchId,e.largestBatchId))}var VB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",vv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Cc(n){return _(this,null,function*(){if(n.code!==M.FAILED_PRECONDITION||n.message!==VB)throw n;B("LocalStore","Unexpectedly lost primary lease")})}var P=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;t(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function UB(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ac(n){return n.name==="IndexedDbTransactionError"}var HA=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Sh(n){return n==null}function fc(n){return n===0&&1/n==-1/0}function jB(n){return typeof n=="number"&&Number.isInteger(n)&&!fc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var BB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],RK=[...BB,"documentOverlays"],$B=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],HB=$B,zB=[...HB,"indexConfiguration","indexState","indexEntries"];var NK=[...zB,"globals"];function uA(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function qi(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function zA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var xe=class n{constructor(e,t){this.comparator=e,this.root=t||_n.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new co(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new co(this.root,e,this.comparator,!1)}getReverseIterator(){return new co(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new co(this.root,e,this.comparator,!0)}},co=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},_n=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();let e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}};_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,t,r,i,s){return this}insert(e,t,r){return new _n(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ot=class n{constructor(e){this.comparator=e,this.data=new xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Jd(this.data.getIterator())}getIteratorFrom(e){return new Jd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Jd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var jt=class n{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new n([])}unionWith(e){let t=new ot(Nt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fo(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Zd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var at=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Zd("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};at.EMPTY_BYTE_STRING=new at("");var qB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nr(n){if(we(!!n),typeof n=="string"){let e=0,t=qB.exec(n);if(we(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ae(n.seconds),nanos:Ae(n.nanos)}}function Ae(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function qr(n){return typeof n=="string"?at.fromBase64String(n):at.fromUint8Array(n)}function H_(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function z_(n){let e=n.mapValue.fields.__previous_value__;return H_(e)?z_(e):e}function pc(n){let e=nr(n.mapValue.fields.__local_write_time__.timestampValue);return new Je(e.seconds,e.nanos)}var _v=class{constructor(e,t,r,i,s,o,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Xd=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var zd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ui(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?H_(n)?4:GA(n)?9007199254740991:qA(n)?10:11:Q()}function En(n,e){if(n===e)return!0;let t=Ui(n);if(t!==Ui(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pc(n).isEqual(pc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=nr(i.timestampValue),a=nr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return qr(i.bytesValue).isEqual(qr(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Ae(i.geoPointValue.latitude)===Ae(s.geoPointValue.latitude)&&Ae(i.geoPointValue.longitude)===Ae(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ae(i.integerValue)===Ae(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Ae(i.doubleValue),a=Ae(s.doubleValue);return o===a?fc(o)===fc(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return fo(n.arrayValue.values||[],e.arrayValue.values||[],En);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(uA(o)!==uA(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!En(o[u],a[u])))return!1;return!0}(n,e);default:return Q()}}function gc(n,e){return(n.values||[]).find(t=>En(t,e))!==void 0}function po(n,e){if(n===e)return 0;let t=Ui(n),r=Ui(e);if(t!==r)return ye(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ye(n.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Ae(s.integerValue||s.doubleValue),u=Ae(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return lA(n.timestampValue,e.timestampValue);case 4:return lA(pc(n),pc(e));case 5:return ye(n.stringValue,e.stringValue);case 6:return function(s,o){let a=qr(s),u=qr(o);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ye(a[l],u[l]);if(h!==0)return h}return ye(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ye(Ae(s.latitude),Ae(o.latitude));return a!==0?a:ye(Ae(s.longitude),Ae(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return dA(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,h;let p=s.fields||{},m=o.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,C=(u=m.value)===null||u===void 0?void 0:u.arrayValue,N=ye(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:dA(y,C)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===zd.mapValue&&o===zd.mapValue)return 0;if(s===zd.mapValue)return 1;if(o===zd.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=ye(u[p],h[p]);if(m!==0)return m;let y=po(a[u[p]],l[h[p]]);if(y!==0)return y}return ye(u.length,h.length)}(n.mapValue,e.mapValue);default:throw Q()}}function lA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ye(n,e);let t=nr(n),r=nr(e),i=ye(t.seconds,r.seconds);return i!==0?i:ye(t.nanos,r.nanos)}function dA(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=po(t[i],r[i]);if(s)return s}return ye(t.length,r.length)}function go(n){return Iv(n)}function Iv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=nr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return qr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return q.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=Iv(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Iv(t.fields[o])}`;return i+"}"}(n.mapValue):Q()}function hA(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function wv(n){return!!n&&"integerValue"in n}function q_(n){return!!n&&"arrayValue"in n}function fA(n){return!!n&&"nullValue"in n}function pA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Gd(n){return!!n&&"mapValue"in n}function qA(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function uc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return qi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=uc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function GA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Rt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Gd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uc(t)}setAll(e){let t=Nt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=uc(o):i.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());Gd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return En(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Gd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){qi(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(uc(this.value))}};function WA(n){let e=[];return qi(n.fields,(t,r)=>{let i=new Nt([t]);if(Gd(r)){let s=WA(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new jt(e)}var Jt=class n{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ne.min(),ne.min(),ne.min(),Rt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ne.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ne.min(),ne.min(),Rt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ne.min(),ne.min(),Rt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var mo=class{constructor(e,t){this.position=e,this.inclusive=t}};function gA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),t.key):r=po(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function mA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!En(n.position[t],e.position[t]))return!1;return!0}var yo=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function GB(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var eh=class{},Be=class n extends eh{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Dv(e,t,r):t==="array-contains"?new Cv(e,r):t==="in"?new Av(e,r):t==="not-in"?new Sv(e,r):t==="array-contains-any"?new Rv(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Tv(e,r):new bv(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(po(t,this.value)):t!==null&&Ui(this.value)===Ui(t)&&this.matchesComparison(po(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Zt=class n extends eh{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return KA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function KA(n){return n.op==="and"}function QA(n){return WB(n)&&KA(n)}function WB(n){for(let e of n.filters)if(e instanceof Zt)return!1;return!0}function Ev(n){if(n instanceof Be)return n.field.canonicalString()+n.op.toString()+go(n.value);if(QA(n))return n.filters.map(e=>Ev(e)).join(",");{let e=n.filters.map(t=>Ev(t)).join(",");return`${n.op}(${e})`}}function YA(n,e){return n instanceof Be?function(r,i){return i instanceof Be&&r.op===i.op&&r.field.isEqual(i.field)&&En(r.value,i.value)}(n,e):n instanceof Zt?function(r,i){return i instanceof Zt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&YA(o,i.filters[a]),!0):!1}(n,e):void Q()}function JA(n){return n instanceof Be?function(t){return`${t.field.canonicalString()} ${t.op} ${go(t.value)}`}(n):n instanceof Zt?function(t){return t.op.toString()+" {"+t.getFilters().map(JA).join(" ,")+"}"}(n):"Filter"}var Dv=class extends Be{constructor(e,t,r){super(e,t,r),this.key=q.fromName(r.referenceValue)}matches(e){let t=q.comparator(e.key,this.key);return this.matchesComparison(t)}},Tv=class extends Be{constructor(e,t){super(e,"in",t),this.keys=ZA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},bv=class extends Be{constructor(e,t){super(e,"not-in",t),this.keys=ZA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function ZA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>q.fromName(r.referenceValue))}var Cv=class extends Be{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return q_(t)&&gc(t.arrayValue,this.value)}},Av=class extends Be{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&gc(this.value.arrayValue,t)}},Sv=class extends Be{constructor(e,t){super(e,"not-in",t)}matches(e){if(gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!gc(this.value.arrayValue,t)}},Rv=class extends Be{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!q_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>gc(this.value.arrayValue,r))}};var Nv=class{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function yA(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Nv(n,e,t,r,i,s,o)}function G_(n){let e=Z(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Ev(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Sh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>go(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>go(r)).join(",")),e.ue=t}return e.ue}function W_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!GB(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!YA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!mA(n.startAt,e.startAt)&&mA(n.endAt,e.endAt)}function Mv(n){return q.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var ji=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function KB(n,e,t,r,i,s,o,a){return new ji(n,e,t,r,i,s,o,a)}function K_(n){return new ji(n)}function vA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function XA(n){return n.collectionGroup!==null}function lc(n){let e=Z(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ot(Nt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new yo(s,r))}),t.has(Nt.keyField().canonicalString())||e.ce.push(new yo(Nt.keyField(),r))}return e.ce}function In(n){let e=Z(n);return e.le||(e.le=QB(e,lc(n))),e.le}function QB(n,e){if(n.limitType==="F")return yA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new yo(i.field,s)});let t=n.endAt?new mo(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new mo(n.startAt.position,n.startAt.inclusive):null;return yA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function xv(n,e){let t=n.filters.concat([e]);return new ji(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Pv(n,e,t){return new ji(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Rh(n,e){return W_(In(n),In(e))&&n.limitType===e.limitType}function eS(n){return`${G_(In(n))}|lt:${n.limitType}`}function so(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>JA(i)).join(", ")}]`),Sh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>go(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>go(i)).join(",")),`Target(${r})`}(In(n))}; limitType=${n.limitType})`}function Nh(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of lc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=gA(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,lc(r),i)||r.endAt&&!function(o,a,u){let l=gA(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,lc(r),i))}(n,e)}function YB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function tS(n){return(e,t)=>{let r=!1;for(let i of lc(n)){let s=JB(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function JB(n,e,t){let r=n.field.isKeyField()?q.comparator(e.key,t.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?po(u,l):Q()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}var Gr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){qi(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return zA(this.inner)}size(){return this.innerSize}};var ZB=new xe(q.comparator);function rr(){return ZB}var nS=new xe(q.comparator);function cc(...n){let e=nS;for(let t of n)e=e.insert(t.key,t);return e}function rS(n){let e=nS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Oi(){return dc()}function iS(){return dc()}function dc(){return new Gr(n=>n.toString(),(n,e)=>n.isEqual(e))}var XB=new xe(q.comparator),e$=new ot(q.comparator);function de(...n){let e=e$;for(let t of n)e=e.add(t);return e}var t$=new ot(ye);function n$(){return t$}function Q_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fc(e)?"-0":e}}function sS(n){return{integerValue:""+n}}function r$(n,e){return jB(e)?sS(e):Q_(n,e)}var vo=class{constructor(){this._=void 0}};function i$(n,e,t){return n instanceof _o?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&H_(s)&&(s=z_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof Bi?aS(n,e):n instanceof $i?cS(n,e):function(i,s){let o=oS(i,s),a=_A(o)+_A(i.Pe);return wv(o)&&wv(i.Pe)?sS(a):Q_(i.serializer,a)}(n,e)}function s$(n,e,t){return n instanceof Bi?aS(n,e):n instanceof $i?cS(n,e):t}function oS(n,e){return n instanceof Io?function(r){return wv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var _o=class extends vo{},Bi=class extends vo{constructor(e){super(),this.elements=e}};function aS(n,e){let t=uS(e);for(let r of n.elements)t.some(i=>En(i,r))||t.push(r);return{arrayValue:{values:t}}}var $i=class extends vo{constructor(e){super(),this.elements=e}};function cS(n,e){let t=uS(e);for(let r of n.elements)t=t.filter(i=>!En(i,r));return{arrayValue:{values:t}}}var Io=class extends vo{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function _A(n){return Ae(n.integerValue||n.doubleValue)}function uS(n){return q_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function o$(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Bi&&i instanceof Bi||r instanceof $i&&i instanceof $i?fo(r.elements,i.elements,En):r instanceof Io&&i instanceof Io?En(r.Pe,i.Pe):r instanceof _o&&i instanceof _o}(n.transform,e.transform)}var Ov=class{constructor(e,t){this.version=e,this.transformResults=t}},er=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Wd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var wo=class{};function lS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new th(n.key,er.none()):new Hi(n.key,n.data,er.none());{let t=n.data,r=Rt.empty(),i=new ot(Nt.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Dn(n.key,r,new jt(i.toArray()),er.none())}}function a$(n,e,t){n instanceof Hi?function(i,s,o){let a=i.value.clone(),u=wA(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Dn?function(i,s,o){if(!Wd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=wA(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(dS(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function hc(n,e,t,r){return n instanceof Hi?function(s,o,a,u){if(!Wd(s.precondition,o))return a;let l=s.value.clone(),h=EA(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Dn?function(s,o,a,u){if(!Wd(s.precondition,o))return a;let l=EA(s.fieldTransforms,u,o),h=o.data;return h.setAll(dS(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(s,o,a){return Wd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function c$(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=oS(r.transform,i||null);s!=null&&(t===null&&(t=Rt.empty()),t.set(r.field,s))}return t||null}function IA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&fo(r,i,(s,o)=>o$(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Hi=class extends wo{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Dn=class extends wo{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function dS(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function wA(n,e,t){let r=new Map;we(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,s$(o,a,t[i]))}return r}function EA(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,i$(s,o,e))}return r}var th=class extends wo{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},kv=class extends wo{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Fv=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&a$(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=hc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=hc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=iS();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;let u=lS(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),de())}isEqual(e){return this.batchId===e.batchId&&fo(this.mutations,e.mutations,(t,r)=>IA(t,r))&&fo(this.baseMutations,e.baseMutations,(t,r)=>IA(t,r))}},Lv=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){we(e.mutations.length===r.length);let i=function(){return XB}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var Vv=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Uv=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ue,fe;function u$(n){switch(n){default:return Q();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function hS(n){if(n===void 0)return tr("GRPC error has no .code"),M.UNKNOWN;switch(n){case Ue.OK:return M.OK;case Ue.CANCELLED:return M.CANCELLED;case Ue.UNKNOWN:return M.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return M.INTERNAL;case Ue.UNAVAILABLE:return M.UNAVAILABLE;case Ue.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Ue.NOT_FOUND:return M.NOT_FOUND;case Ue.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Ue.ABORTED:return M.ABORTED;case Ue.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Ue.DATA_LOSS:return M.DATA_LOSS;default:return Q()}}(fe=Ue||(Ue={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";var DA=null;function l$(){return new TextEncoder}var d$=new Hr([4294967295,4294967295],0);function TA(n){let e=l$().encode(n),t=new ev;return t.update(e),new Uint8Array(t.digest())}function bA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Hr([t,r],0),new Hr([i,s],0)]}var jv=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ki(`Invalid padding: ${t}`);if(r<0)throw new ki(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ki(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ki(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Hr.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Hr.fromNumber(r)));return i.compare(d$)===1&&(i=new Hr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=TA(e),[r,i]=bA(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let t=TA(e),[r,i]=bA(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},ki=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var nh=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,mc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ne.min(),i,new xe(ye),rr(),de())}},mc=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,de(),de(),de())}};var uo=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},rh=class{constructor(e,t){this.targetId=e,this.me=t}},ih=class{constructor(e,t,r=at.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},sh=class{constructor(){this.fe=0,this.ge=AA(),this.pe=at.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=de(),t=de(),r=de();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new mc(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=AA()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,we(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Bv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=rr(),this.qe=CA(),this.Qe=new xe(ye)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:Q()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let s=i.target;if(Mv(s))if(r===0){let o=new q(s.path);this.Ue(t,o,Jt.newNoDocument(o,ne.min()))}else we(r===1);else{let o=this.Ye(t);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,l)}DA?.et(function(h,p,m,y,C){var N,R,F,$,L,X;let ve={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},W=p.unchangedNames;return W&&(ve.bloomFilter={applied:C===0,hashCount:(N=W?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:($=(F=(R=W?.bits)===null||R===void 0?void 0:R.bitmap)===null||F===void 0?void 0:F.length)!==null&&$!==void 0?$:0,padding:(X=(L=W?.bits)===null||L===void 0?void 0:L.padding)!==null&&X!==void 0?X:0,mightContain:E=>{var v;return(v=y?.mightContain(E))!==null&&v!==void 0&&v}}),ve}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,a;try{o=qr(r).toUint8Array()}catch(u){if(u instanceof Zd)return ho("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new jv(o,i,s)}catch(u){return ho(u instanceof ki?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&Mv(a.target)){let u=new q(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Jt.newNoDocument(u,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let r=de();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new nh(e,t,this.Qe,this.ke,r);return this.ke=rr(),this.qe=CA(),this.Qe=new xe(ye),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new sh,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ot(ye),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||B("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new sh),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function CA(){return new xe(q.comparator)}function AA(){return new xe(q.comparator)}var h$={asc:"ASCENDING",desc:"DESCENDING"},f$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},p$={and:"AND",or:"OR"},$v=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Hv(n,e){return n.useProto3Json||Sh(e)?e:{value:e}}function oh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function g$(n,e){return oh(n,e.toTimestamp())}function wn(n){return we(!!n),ne.fromTimestamp(function(t){let r=nr(t);return new Je(r.seconds,r.nanos)}(n))}function Y_(n,e){return zv(n,e).canonicalString()}function zv(n,e){let t=function(i){return new Re(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function pS(n){let e=Re.fromString(n);return we(_S(e)),e}function qv(n,e){return Y_(n.databaseId,e.path)}function ov(n,e){let t=pS(e);if(t.get(1)!==n.databaseId.projectId)throw new V(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new V(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new q(mS(t))}function gS(n,e){return Y_(n.databaseId,e)}function m$(n){let e=pS(n);return e.length===4?Re.emptyPath():mS(e)}function Gv(n){return new Re(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function mS(n){return we(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function SA(n,e,t){return{name:qv(n,e),fields:t.value.mapValue.fields}}function y$(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(we(h===void 0||typeof h=="string"),at.fromBase64String(h||"")):(we(h===void 0||h instanceof Buffer||h instanceof Uint8Array),at.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let h=l.code===void 0?M.UNKNOWN:hS(l.code);return new V(h,l.message||"")}(o);t=new ih(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=ov(n,r.document.name),s=wn(r.document.updateTime),o=r.document.createTime?wn(r.document.createTime):ne.min(),a=new Rt({mapValue:{fields:r.document.fields}}),u=Jt.newFoundDocument(i,s,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new uo(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=ov(n,r.document),s=r.readTime?wn(r.readTime):ne.min(),o=Jt.newNoDocument(i,s),a=r.removedTargetIds||[];t=new uo([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=ov(n,r.document),s=r.removedTargetIds||[];t=new uo([],s,i,null)}else{if(!("filter"in e))return Q();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Uv(i,s),a=r.targetId;t=new rh(a,o)}}return t}function v$(n,e){let t;if(e instanceof Hi)t={update:SA(n,e.key,e.value)};else if(e instanceof th)t={delete:qv(n,e.key)};else if(e instanceof Dn)t={update:SA(n,e.key,e.data),updateMask:A$(e.fieldMask)};else{if(!(e instanceof kv))return Q();t={verify:qv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof _o)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Bi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof $i)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Io)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Q()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:g$(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q()}(n,e.precondition)),t}function _$(n,e){return n&&n.length>0?(we(e!==void 0),n.map(t=>function(i,s){let o=i.updateTime?wn(i.updateTime):wn(s);return o.isEqual(ne.min())&&(o=wn(s)),new Ov(o,i.transformResults||[])}(t,e))):[]}function I$(n,e){return{documents:[gS(n,e.path)]}}function w$(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=gS(n,i);let s=function(l){if(l.length!==0)return vS(Zt.create(l,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:oo(m.field),direction:T$(m.dir)}}(h))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=Hv(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:i}}function E$(n){let e=m$(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){we(r===1);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];t.where&&(s=function(p){let m=yS(p);return m instanceof Zt&&QA(m)?m.getFilters():[m]}(t.where));let o=[];t.orderBy&&(o=function(p){return p.map(m=>function(C){return new yo(ao(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Sh(m)?null:m}(t.limit));let u=null;t.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new mo(y,m)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new mo(y,m)}(t.endAt)),KB(e,i,o,s,a,"F",u,l)}function D$(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function yS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=ao(t.unaryFilter.field);return Be.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ao(t.unaryFilter.field);return Be.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=ao(t.unaryFilter.field);return Be.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=ao(t.unaryFilter.field);return Be.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(n):n.fieldFilter!==void 0?function(t){return Be.create(ao(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Zt.create(t.compositeFilter.filters.map(r=>yS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(t.compositeFilter.op))}(n):Q()}function T$(n){return h$[n]}function b$(n){return f$[n]}function C$(n){return p$[n]}function oo(n){return{fieldPath:n.canonicalString()}}function ao(n){return Nt.fromServerFormat(n.fieldPath)}function vS(n){return n instanceof Be?function(t){if(t.op==="=="){if(pA(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NAN"}};if(fA(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(pA(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NOT_NAN"}};if(fA(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(t.field),op:b$(t.op),value:t.value}}}(n):n instanceof Zt?function(t){let r=t.getFilters().map(i=>vS(i));return r.length===1?r[0]:{compositeFilter:{op:C$(t.op),filters:r}}}(n):Q()}function A$(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function _S(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var yc=class n{constructor(e,t,r,i,s=ne.min(),o=ne.min(),a=at.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Wv=class{constructor(e){this.ct=e}};function S$(n){let e=E$({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Pv(e,e.limit,"L"):e}var ah=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Ae(e.integerValue));else if("doubleValue"in e){let r=Ae(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),fc(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=nr(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(qr(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?GA(e)?this.dt(t,Number.MAX_SAFE_INTEGER):qA(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Q()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let s=e.fields||{};this.dt(t,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(Ae(a)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),q.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};ah.vt=new ah;var Kv=class{constructor(){this.un=new Qv}addToCollectionParentIndex(e,t){return this.un.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve(Vi.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve(Vi.min())}updateCollectionGroup(e,t,r){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}},Qv=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ot(Re.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ot(Re.comparator)).toArray()}};var xK=new Uint8Array(0);var yn=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(41943040,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);var vc=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var Yv=class{constructor(){this.changes=new Gr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?P.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Jv=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Zv=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&hc(r.mutation,i,jt.empty(),Je.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,t,r=de()){let i=Oi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=cc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=Oi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,de()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=rr(),o=dc(),a=function(){return dc()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Dn)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),hc(h.mutation,l,h.mutation.getFieldMask(),Je.now())):o.set(l.key,jt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new Jv(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=dc(),i=new xe((o,a)=>o-a),s=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||jt.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||de()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=iS();h.forEach(m=>{if(!s.has(m)){let y=lS(t.get(m),r.get(m));y!==null&&p.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):XA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):P.resolve(Oi()),a=-1,u=s;return o.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,de())).next(h=>({batchId:a,changes:rS(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new q(t)).next(r=>{let i=cc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=cc();return this.indexManager.getCollectionParents(e,s).next(a=>P.forEach(a,u=>{let l=function(p,m){return new ji(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,Jt.newInvalidDocument(h)))});let a=cc();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&hc(h.mutation,l,jt.empty(),Je.now()),Nh(t,l)&&(a=a.insert(u,l))}),a})}};var Xv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return P.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:wn(i.createTime)}}(t)),P.resolve()}getNamedQuery(e,t){return P.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:S$(i.bundledQuery),readTime:wn(i.readTime)}}(t)),P.resolve()}};var e_=class{constructor(){this.overlays=new xe(q.comparator),this.Ir=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Oi();return P.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),P.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),P.resolve()}getOverlaysForCollection(e,t,r){let i=Oi(),s=t.length+1,o=new q(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new xe((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=Oi(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Oi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Vv(t,r));let s=this.Ir.get(t);s===void 0&&(s=de(),this.Ir.set(t,s)),this.Ir.set(t,s.add(r.key))}};var t_=class{constructor(){this.sessionToken=at.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,P.resolve()}};var _c=class{constructor(){this.Tr=new ot(je.Er),this.dr=new ot(je.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new je(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new je(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new q(new Re([])),r=new je(t,e),i=new je(t,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new q(new Re([])),r=new je(t,e),i=new je(t,e+1),s=de();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new je(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},je=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return q.comparator(e.key,t.key)||ye(e.wr,t.wr)}static Ar(e,t){return ye(e.wr,t.wr)||q.comparator(e.key,t.key)}};var n_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new ot(je.Er)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Fv(s,t,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new je(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,t){return P.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),s=i<0?0:i;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new je(t,0),i=new je(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ot(ye);return t.forEach(i=>{let s=new je(i,0),o=new je(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),P.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;q.isDocumentKey(s)||(s=s.child(""));let o=new je(new q(s),0),a=new ot(ye);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),P.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){we(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return P.forEach(t.mutations,i=>{let s=new je(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new je(t,0),i=this.br.firstAfterOrEqual(r);return P.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var r_=class{constructor(e){this.Mr=e,this.docs=function(){return new xe(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return P.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(t))}getEntries(e,t){let r=rr();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Jt.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=rr(),o=t.path,a=new q(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||LB(FB(h),r)<=0||(i.has(h.key)||Nh(t,h))&&(s=s.insert(h.key,h.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Q()}Or(e,t){return P.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new i_(this)}getSize(e){return P.resolve(this.size)}},i_=class extends Yv{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),P.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var s_=class{constructor(e){this.persistence=e,this.Nr=new Gr(t=>G_(t),W_),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Lr=0,this.Br=new _c,this.targetCount=0,this.kr=vc.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),P.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new vc(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.Kn(t),P.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(s).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return P.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),P.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),P.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return P.resolve(r)}containsKey(e,t){return P.resolve(this.Br.containsKey(t))}};var o_=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new HA(0),this.Kr=!1,this.Kr=!0,this.$r=new t_,this.referenceDelegate=e(this),this.Ur=new s_(this),this.indexManager=new Kv,this.remoteDocumentCache=function(i){return new r_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Wv(t),this.Gr=new Xv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new e_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new n_(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){B("MemoryPersistence","Starting transaction:",e);let i=new a_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,t){return P.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},a_=class extends vv{constructor(e){super(),this.currentSequenceNumber=e}},c_=class n{constructor(e){this.persistence=e,this.Jr=new _c,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw Q()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),P.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),P.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Xr,r=>{let i=q.fromPath(r);return this.ei(e,i).next(s=>{s||t.removeEntry(i,ne.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return P.or([()=>P.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var u_=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=de(),i=de();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var l_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var d_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return qC()?8:UB(Ge())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new l_;return this.Xi(e,t,o).next(a=>{if(s.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>s.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(ac()<=le.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",so(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),P.resolve()):(ac()<=le.DEBUG&&B("QueryEngine","Query:",so(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ac()<=le.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",so(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,In(t))):P.resolve())}Yi(e,t){if(vA(t))return P.resolve(null);let r=In(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Pv(t,null,"F"),r=In(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=de(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(t,a);return this.ns(t,l,o,u.readTime)?this.Yi(e,Pv(t,null,"F")):this.rs(e,l,t,u)}))})))}Zi(e,t,r,i){return vA(t)||i.isEqual(ne.min())?P.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(t,s);return this.ns(t,o,r,i)?P.resolve(null):(ac()<=le.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),so(t)),this.rs(e,o,t,kB(i,-1)).next(a=>a))})}ts(e,t){let r=new ot(tS(e));return t.forEach((i,s)=>{Nh(e,s)&&(r=r.add(s))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,r){return ac()<=le.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",so(t)),this.Ji.getDocumentsMatchingQuery(e,t,Vi.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var h_=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new xe(ye),this._s=new Gr(s=>G_(s),W_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function R$(n,e,t,r){return new h_(n,e,t,r)}function IS(n,e){return _(this,null,function*(){let t=Z(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=de();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function N$(n,e){let t=Z(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=P.resolve();return m.forEach(C=>{y=y.next(()=>h.getEntry(u,C)).next(N=>{let R=l.docVersions.get(C);we(R!==null),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=de();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function wS(n){let e=Z(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function M$(n,e){let t=Z(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(t.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(s,h.addedDocuments,p)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(at.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(N,R,F){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,y,h)&&a.push(t.Ur.updateTargetData(s,y))});let u=rr(),l=de();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(x$(s,o,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ne.min())){let h=t.Ur.getLastRemoteSnapshotVersion(s).next(p=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(t.os=i,s))}function x$(n,e,t){let r=de(),i=de();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=rr();return t.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):B("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function P$(n,e){let t=Z(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function O$(n,e){let t=Z(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(s=>s?(i=s,P.resolve(i)):t.Ur.allocateTargetId(r).next(o=>(i=new yc(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function f_(n,e,t){return _(this,null,function*(){let r=Z(n),i=r.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ac(o))throw o;B("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function RA(n,e,t){let r=Z(n),i=ne.min(),s=de();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=Z(u),m=p._s.get(h);return m!==void 0?P.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,o,In(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?i:ne.min(),t?s:de())).next(a=>(k$(r,YB(e),a),{documents:a,Ts:s})))}function k$(n,e,t){let r=n.us.get(e)||ne.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.us.set(e,r)}var ch=class{constructor(){this.activeTargetIds=n$()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var p_=class{constructor(){this.so=new ch,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ch,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var g_=class{_o(e){}shutdown(){}};var uh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var qd=null;function av(){return qd===null?qd=function(){return 268435456+Math.round(2147483648*Math.random())}():qd++,"0x"+qd.toString(16)}var F$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var m_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var st="WebChannelConnection",y_=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,r,i,s,o){let a=av(),u=this.xo(t,r.toUriEncodedString());B("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(t,u,l,i).then(h=>(B("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw ho("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(t,r,i,s,o,a){return this.Mo(t,r,i,s,o)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}xo(t,r){let i=F$[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let s=av();return new Promise((o,a)=>{let u=new tv;u.setWithCredentials(!0),u.listenOnce(nv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case oc.NO_ERROR:let h=u.getResponseJson();B(st,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case oc.TIMEOUT:B(st,`RPC '${e}' ${s} timed out`),a(new V(M.DEADLINE_EXCEEDED,"Request time out"));break;case oc.HTTP_ERROR:let p=u.getStatus();if(B(st,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let C=function(R){let F=R.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(F)>=0?F:M.UNKNOWN}(y.status);a(new V(C,y.message))}else a(new V(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new V(M.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{B(st,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);B(st,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",l,r,15)})}Bo(e,t,r){let i=av(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=sv(),a=iv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=s.join("");B(st,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),m=!1,y=!1,C=new m_({Io:R=>{y?B(st,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(B(st,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),B(st,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),N=(R,F,$)=>{R.listen(F,L=>{try{$(L)}catch(X){setTimeout(()=>{throw X},0)}})};return N(p,io.EventType.OPEN,()=>{y||(B(st,`RPC '${e}' stream ${i} transport opened.`),C.yo())}),N(p,io.EventType.CLOSE,()=>{y||(y=!0,B(st,`RPC '${e}' stream ${i} transport closed`),C.So())}),N(p,io.EventType.ERROR,R=>{y||(y=!0,ho(st,`RPC '${e}' stream ${i} transport errored:`,R),C.So(new V(M.UNAVAILABLE,"The operation could not be completed")))}),N(p,io.EventType.MESSAGE,R=>{var F;if(!y){let $=R.data[0];we(!!$);let L=$,X=L.error||((F=L[0])===null||F===void 0?void 0:F.error);if(X){B(st,`RPC '${e}' stream ${i} received error:`,X);let ve=X.status,W=function(I){let D=Ue[I];if(D!==void 0)return hS(D)}(ve),E=X.message;W===void 0&&(W=M.INTERNAL,E="Unknown error status: "+ve+" with message "+X.message),y=!0,C.So(new V(W,E)),p.close()}else B(st,`RPC '${e}' stream ${i} received:`,$),C.bo($)}}),N(a,rv.STAT_EVENT,R=>{R.stat===Hd.PROXY?B(st,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Hd.NOPROXY&&B(st,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}};function cv(){return typeof document<"u"?document:null}function Mh(n){return new $v(n,!0)}var lh=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var dh=class{constructor(e,t,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new lh(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return _(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return _(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return _(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===M.RESOURCE_EXHAUSTED?(tr(t.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new V(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>_(this,null,function*(){this.state=0,this.start()}))}I_(e){return B("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},v_=class extends dh{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=y$(this.serializer,e),r=function(s){if(!("targetChange"in s))return ne.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?wn(o.readTime):ne.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=Gv(this.serializer),t.addTarget=function(s,o){let a,u=o.target;if(a=Mv(u)?{documents:I$(s,u)}:{query:w$(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=fS(s,o.resumeToken);let l=Hv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ne.min())>0){a.readTime=oh(s,o.snapshotVersion.toTimestamp());let l=Hv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=D$(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=Gv(this.serializer),t.removeTarget=e,this.a_(t)}},__=class extends dh{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return we(!!e.streamToken),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){we(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=_$(e.writeResults,e.commitTime),r=wn(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=Gv(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>v$(this.serializer,r))};this.a_(t)}};var I_=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new V(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,zv(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(M.UNKNOWN,s.toString())})}Lo(e,t,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,zv(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(M.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},w_=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(tr(t),this.D_=!1):B("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var E_=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>_(this,null,function*(){Gi(this)&&(B("RemoteStore","Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let l=Z(u);l.L_.add(4),yield Sc(l),l.q_.set("Unknown"),l.L_.delete(4),yield xh(l)})}(this))}))}),this.q_=new w_(r,i)}};function xh(n){return _(this,null,function*(){if(Gi(n))for(let e of n.B_)yield e(!0)})}function Sc(n){return _(this,null,function*(){for(let e of n.B_)yield e(!1)})}function ES(n,e){let t=Z(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),eI(t)?X_(t):Co(t).r_()&&Z_(t,e))}function J_(n,e){let t=Z(n),r=Co(t);t.N_.delete(e),r.r_()&&DS(t,e),t.N_.size===0&&(r.r_()?r.o_():Gi(t)&&t.q_.set("Unknown"))}function Z_(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Co(n).A_(e)}function DS(n,e){n.Q_.xe(e),Co(n).R_(e)}function X_(n){n.Q_=new Bv({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Co(n).start(),n.q_.v_()}function eI(n){return Gi(n)&&!Co(n).n_()&&n.N_.size>0}function Gi(n){return Z(n).L_.size===0}function TS(n){n.Q_=void 0}function L$(n){return _(this,null,function*(){n.q_.set("Online")})}function V$(n){return _(this,null,function*(){n.N_.forEach((e,t)=>{Z_(n,e)})})}function U$(n,e){return _(this,null,function*(){TS(n),eI(n)?(n.q_.M_(e),X_(n)):n.q_.set("Unknown")})}function j$(n,e,t){return _(this,null,function*(){if(n.q_.set("Online"),e instanceof ih&&e.state===2&&e.cause)try{yield function(i,s){return _(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){B("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield hh(n,r)}else if(e instanceof uo?n.Q_.Ke(e):e instanceof rh?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ne.min()))try{let r=yield wS(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(at.EMPTY_BYTE_STRING,h.snapshotVersion)),DS(s,u);let p=new yc(h.target,u,l,h.sequenceNumber);Z_(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){B("RemoteStore","Failed to raise snapshot:",r),yield hh(n,r)}})}function hh(n,e,t){return _(this,null,function*(){if(!Ac(e))throw e;n.L_.add(1),yield Sc(n),n.q_.set("Offline"),t||(t=()=>wS(n.localStore)),n.asyncQueue.enqueueRetryable(()=>_(this,null,function*(){B("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield xh(n)}))})}function bS(n,e){return e().catch(t=>hh(n,t,e))}function Ph(n){return _(this,null,function*(){let e=Z(n),t=Wr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;B$(e);)try{let i=yield P$(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,$$(e,i)}catch(i){yield hh(e,i)}CS(e)&&AS(e)})}function B$(n){return Gi(n)&&n.O_.length<10}function $$(n,e){n.O_.push(e);let t=Wr(n);t.r_()&&t.V_&&t.m_(e.mutations)}function CS(n){return Gi(n)&&!Wr(n).n_()&&n.O_.length>0}function AS(n){Wr(n).start()}function H$(n){return _(this,null,function*(){Wr(n).p_()})}function z$(n){return _(this,null,function*(){let e=Wr(n);for(let t of n.O_)e.m_(t.mutations)})}function q$(n,e,t){return _(this,null,function*(){let r=n.O_.shift(),i=Lv.from(r,e,t);yield bS(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Ph(n)})}function G$(n,e){return _(this,null,function*(){e&&Wr(n).V_&&(yield function(r,i){return _(this,null,function*(){if(function(o){return u$(o)&&o!==M.ABORTED}(i.code)){let s=r.O_.shift();Wr(r).s_(),yield bS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Ph(r)}})}(n,e)),CS(n)&&AS(n)})}function NA(n,e){return _(this,null,function*(){let t=Z(n);t.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");let r=Gi(t);t.L_.add(3),yield Sc(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield xh(t)})}function W$(n,e){return _(this,null,function*(){let t=Z(n);e?(t.L_.delete(2),yield xh(t)):e||(t.L_.add(2),yield Sc(t),t.q_.set("Unknown"))})}function Co(n){return n.K_||(n.K_=function(t,r,i){let s=Z(t);return s.w_(),new v_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:L$.bind(null,n),Ro:V$.bind(null,n),mo:U$.bind(null,n),d_:j$.bind(null,n)}),n.B_.push(e=>_(this,null,function*(){e?(n.K_.s_(),eI(n)?X_(n):n.q_.set("Unknown")):(yield n.K_.stop(),TS(n))}))),n.K_}function Wr(n){return n.U_||(n.U_=function(t,r,i){let s=Z(t);return s.w_(),new __(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:H$.bind(null,n),mo:G$.bind(null,n),f_:z$.bind(null,n),g_:q$.bind(null,n)}),n.B_.push(e=>_(this,null,function*(){e?(n.U_.s_(),yield Ph(n)):(yield n.U_.stop(),n.O_.length>0&&(B("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var D_=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new vn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,a=new n(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function tI(n,e){if(tr("AsyncQueue",`${e}: ${n}`),Ac(n))return new V(M.UNAVAILABLE,`${e}: ${n}`);throw n}var fh=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||q.comparator(t.key,r.key):(t,r)=>q.comparator(t.key,r.key),this.keyedMap=cc(),this.sortedSet=new xe(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var ph=class{constructor(){this.W_=new xe(q.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Q():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},Eo=class n{constructor(e,t,r,i,s,o,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,fh.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var T_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},b_=class{constructor(){this.queries=MA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=Z(t),s=i.queries;i.queries=MA(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new V(M.ABORTED,"Firestore shutting down"))}};function MA(){return new Gr(n=>eS(n),Rh)}function SS(n,e){return _(this,null,function*(){let t=Z(n),r=3,i=e.query,s=t.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new T_,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield t.onListen(i,!0);break;case 1:s.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){let a=tI(o,`Initialization of query '${so(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&nI(t)})}function RS(n,e){return _(this,null,function*(){let t=Z(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function K$(n,e){let t=Z(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&nI(t)}function Q$(n,e,t){let r=Z(n),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(t);r.queries.delete(e)}function nI(n){n.Y_.forEach(e=>{e.next()})}var C_,xA;(xA=C_||(C_={})).ea="default",xA.Cache="cache";var gh=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Eo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==C_.Cache}};var mh=class{constructor(e){this.key=e}},yh=class{constructor(e){this.key=e}},A_=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=de(),this.mutatedKeys=de(),this.Aa=tS(e),this.Ra=new fh(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new ph,i=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Nh(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?C!==N&&(r.track({type:3,doc:y}),R=!0):this.ga(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(o=o.add(y),s=N?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(y,C){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return N(y)-N(C)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new Eo(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ph,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=de(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new yh(r))}),this.da.forEach(r=>{e.has(r)||t.push(new mh(r))}),t}ba(e){this.Ta=e.Ts,this.da=de();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Eo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},S_=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},R_=class{constructor(e){this.key=e,this.va=!1}},N_=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Gr(a=>eS(a),Rh),this.Ma=new Map,this.xa=new Set,this.Oa=new xe(q.comparator),this.Na=new Map,this.La=new _c,this.Ba={},this.ka=new Map,this.qa=vc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function Y$(n,e,t=!0){return _(this,null,function*(){let r=kS(n),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield NS(r,e,t,!0),i})}function J$(n,e){return _(this,null,function*(){let t=kS(n);yield NS(t,e,!0,!1)})}function NS(n,e,t,r){return _(this,null,function*(){let i=yield O$(n.localStore,In(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),a;return r&&(a=yield Z$(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&ES(n.remoteStore,i),a})}function Z$(n,e,t,r,i){return _(this,null,function*(){n.Ka=(p,m,y)=>function(N,R,F,$){return _(this,null,function*(){let L=R.view.ma(F);L.ns&&(L=yield RA(N.localStore,R.query,!1).then(({documents:E})=>R.view.ma(E,L)));let X=$&&$.targetChanges.get(R.targetId),ve=$&&$.targetMismatches.get(R.targetId)!=null,W=R.view.applyChanges(L,N.isPrimaryClient,X,ve);return OA(N,R.targetId,W.wa),W.snapshot})}(n,p,m,y);let s=yield RA(n.localStore,e,!0),o=new A_(e,s.Ts),a=o.ma(s.documents),u=mc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=o.applyChanges(a,n.isPrimaryClient,u);OA(n,t,l.wa);let h=new S_(e,t,o);return n.Fa.set(e,h),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),l.snapshot})}function X$(n,e,t){return _(this,null,function*(){let r=Z(n),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Rh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield f_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&J_(r.remoteStore,i.targetId),M_(r,i.targetId)}).catch(Cc))):(M_(r,i.targetId),yield f_(r.localStore,i.targetId,!0))})}function eH(n,e){return _(this,null,function*(){let t=Z(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),J_(t.remoteStore,r.targetId))})}function tH(n,e,t){return _(this,null,function*(){let r=cH(n);try{let i=yield function(o,a){let u=Z(o),l=Je.now(),h=a.reduce((y,C)=>y.add(C.key),de()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=rr(),N=de();return u.cs.getEntries(y,h).next(R=>{C=R,C.forEach((F,$)=>{$.isValidDocument()||(N=N.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(R=>{p=R;let F=[];for(let $ of a){let L=c$($,p.get($.key).overlayedDocument);L!=null&&F.push(new Dn($.key,L,WA(L.value.mapValue),er.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,F,a)}).next(R=>{m=R;let F=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(y,R.batchId,F)})}).then(()=>({batchId:m.batchId,changes:rS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new xe(ye)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,t),yield Rc(r,i.changes),yield Ph(r.remoteStore)}catch(i){let s=tI(i,"Failed to persist write");t.reject(s)}})}function MS(n,e){return _(this,null,function*(){let t=Z(n);try{let r=yield M$(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.Na.get(s);o&&(we(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?we(o.va):i.removedDocuments.size>0&&(we(o.va),o.va=!1))}),yield Rc(t,r,e)}catch(r){yield Cc(r)}})}function PA(n,e,t){let r=Z(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=Z(o);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&nI(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function nH(n,e,t){return _(this,null,function*(){let r=Z(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new xe(q.comparator);o=o.insert(s,Jt.newNoDocument(s,ne.min()));let a=de().add(s),u=new nh(ne.min(),new Map,new xe(ye),o,a);yield MS(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),rI(r)}else yield f_(r.localStore,e,!1).then(()=>M_(r,e,t)).catch(Cc)})}function rH(n,e){return _(this,null,function*(){let t=Z(n),r=e.batch.batchId;try{let i=yield N$(t.localStore,e);PS(t,r,null),xS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Rc(t,i)}catch(i){yield Cc(i)}})}function iH(n,e,t){return _(this,null,function*(){let r=Z(n);try{let i=yield function(o,a){let u=Z(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(we(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);PS(r,e,t),xS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Rc(r,i)}catch(i){yield Cc(i)}})}function xS(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function PS(n,e,t){let r=Z(n),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function M_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||OS(n,r)})}function OS(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(J_(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),rI(n))}function OA(n,e,t){for(let r of t)r instanceof mh?(n.La.addReference(r.key,e),sH(n,r)):r instanceof yh?(B("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||OS(n,r.key)):Q()}function sH(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(B("SyncEngine","New document in limbo: "+t),n.xa.add(r),rI(n))}function rI(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new q(Re.fromString(e)),r=n.qa.next();n.Na.set(r,new R_(t)),n.Oa=n.Oa.insert(t,r),ES(n.remoteStore,new yc(In(K_(t.path)),r,"TargetPurposeLimboResolution",HA.oe))}}function Rc(n,e,t){return _(this,null,function*(){let r=Z(n),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=u_.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return _(this,null,function*(){let h=Z(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Ac(p))throw p;B("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.os.get(m),C=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(C);h.os=h.os.insert(m,N)}}})}(r.localStore,s))})}function oH(n,e){return _(this,null,function*(){let t=Z(n);if(!t.currentUser.isEqual(e)){B("SyncEngine","User change. New user:",e.toKey());let r=yield IS(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new V(M.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Rc(t,r.hs)}})}function aH(n,e){let t=Z(n),r=t.Na.get(e);if(r&&r.va)return de().add(r.key);{let i=de(),s=t.Ma.get(e);if(!s)return i;for(let o of s){let a=t.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function kS(n){let e=Z(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=MS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nH.bind(null,e),e.Ca.d_=K$.bind(null,e.eventManager),e.Ca.$a=Q$.bind(null,e.eventManager),e}function cH(n){let e=Z(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iH.bind(null,e),e}var kA=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return _(this,null,function*(){this.serializer=Mh(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return R$(this.persistence,new d_,t.initialUser,this.serializer)}Ga(t){return new o_(c_.Zr,this.serializer)}Wa(t){return new p_}terminate(){return _(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var uH=(()=>{class n{initialize(t,r){return _(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>PA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=oH.bind(null,this.syncEngine),yield W$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new b_}()}createDatastore(t){let r=Mh(t.databaseInfo.databaseId),i=function(o){return new y_(o)}(t.databaseInfo);return function(o,a,u,l){return new I_(o,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,s,o,a,u){return new E_(i,s,o,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>PA(this.syncEngine,r,0),function(){return uh.D()?new uh:new g_}())}createSyncEngine(t,r){return function(s,o,a,u,l,h,p){let m=new N_(s,o,a,u,l,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var t,r;yield function(s){return _(this,null,function*(){let o=Z(s);B("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Sc(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var vh=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):tr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var x_=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=We.UNAUTHENTICATED,this.clientId=Qd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>_(this,null,function*(){B("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(B("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new vn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=tI(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function uv(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>_(this,null,function*(){r.isEqual(i)||(yield IS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function FA(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield lH(n);B("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>NA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>NA(e.remoteStore,i)),n._onlineComponents=e})}function lH(n){return _(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){B("FirestoreClient","Using user provided OfflineComponentProvider");try{yield uv(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ho("Error using user provided cache. Falling back to memory cache: "+t),yield uv(n,new kA)}}else B("FirestoreClient","Using default OfflineComponentProvider"),yield uv(n,new kA);return n._offlineComponents})}function FS(n){return _(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(B("FirestoreClient","Using user provided OnlineComponentProvider"),yield FA(n,n._uninitializedComponentsProvider._online)):(B("FirestoreClient","Using default OnlineComponentProvider"),yield FA(n,new uH))),n._onlineComponents})}function dH(n){return FS(n).then(e=>e.syncEngine)}function P_(n){return _(this,null,function*(){let e=yield FS(n),t=e.eventManager;return t.onListen=Y$.bind(null,e.syncEngine),t.onUnlisten=X$.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=J$.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=eH.bind(null,e.syncEngine),t})}function hH(n,e,t={}){let r=new vn;return n.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(s,o,a,u,l){let h=new vh({next:m=>{h.Za(),o.enqueueAndForget(()=>RS(s,p)),m.fromCache&&u.source==="server"?l.reject(new V(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new gh(a,h,{includeMetadataChanges:!0,_a:!0});return SS(s,p)}(yield P_(n),n.asyncQueue,e,t,r)})),r.promise}function LS(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var LA=new Map;function VS(n,e,t){if(!t)throw new V(M.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function fH(n,e,t,r){if(e===!0&&r===!0)throw new V(M.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function VA(n){if(!q.isDocumentKey(n))throw new V(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function UA(n){if(q.isDocumentKey(n))throw new V(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Oh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Q()}function Yt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new V(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Oh(n);throw new V(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var _h=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new V(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Do=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _h({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new V(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new V(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _h(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new lv;switch(r.type){case"firstParty":return new pv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=LA.get(t);r&&(B("ComponentProvider","Removing Datastore"),LA.delete(t),r.terminate())}(this),Promise.resolve()}};function US(n,e,t,r={}){var i;let s=(n=Yt(n,Do))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=We.MOCK_USER;else{a=UC(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new V(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new We(l)}n._authCredentials=new dv(new Kd(a,u))}}var zi=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},mt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},zr=class n extends zi{constructor(e,t,r){super(e,t,K_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new q(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function jS(n,e,...t){if(n=Oe(n),VS("collection","path",e),n instanceof Do){let r=Re.fromString(e,...t);return UA(r),new zr(n,null,r)}{if(!(n instanceof mt||n instanceof zr))throw new V(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Re.fromString(e,...t));return UA(r),new zr(n.firestore,null,r)}}function iI(n,e,...t){if(n=Oe(n),arguments.length===1&&(e=Qd.newId()),VS("doc","path",e),n instanceof Do){let r=Re.fromString(e,...t);return VA(r),new mt(n,null,new q(r))}{if(!(n instanceof mt||n instanceof zr))throw new V(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Re.fromString(e,...t));return VA(r),new mt(n.firestore,n instanceof zr?n.converter:null,new q(r))}}var Ih=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new lh(this,"async_queue_retry"),this.Vu=()=>{let r=cv();r&&B("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=cv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=cv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new vn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return _(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ac(e))throw e;B("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw tr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=D_.createAndSchedule(this,e,t,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Q()}verifyOperationInProgress(){}wu(){return _(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function jA(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}var ir=class extends Do{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Ih,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Ih(e),this._firestoreClient=void 0,yield e}})}};function BS(n,e){let t=typeof n=="object"?n:Zs(),r=typeof n=="string"?n:e||"(default)",i=Qa(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=VC("firestore");s&&US(i,...s)}return i}function sI(n){if(n._terminated)throw new V(M.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||pH(n),n._firestoreClient}function pH(n){var e,t,r;let i=n._freezeSettings(),s=function(a,u,l,h){return new _v(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,LS(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new x_(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var Ic=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(at.fromBase64String(e))}catch(t){throw new V(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(at.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var To=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new V(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var wc=class{constructor(e){this._methodName=e}};var Ec=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new V(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new V(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}};var Dc=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var gH=/^__.*__$/,O_=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Dn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hi(e,this.data,t,this.fieldTransforms)}},wh=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Dn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function $S(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}var k_=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Dh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if($S(this.Cu)&&gH.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},F_=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Mh(e)}Qu(e,t,r,i=!1){return new k_({Cu:e,methodName:t,qu:r,path:Nt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function kh(n){let e=n._freezeSettings(),t=Mh(n._databaseId);return new F_(n._databaseId,!!e.ignoreUndefinedProperties,t)}function HS(n,e,t,r,i,s={}){let o=n.Qu(s.merge||s.mergeFields?2:0,e,t,i);oI("Data must be an object, but it was:",o,r);let a=zS(r,o),u,l;if(s.merge)u=new jt(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let m=L_(e,p,t);if(!o.contains(m))throw new V(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);GS(h,m)||h.push(m)}u=new jt(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new O_(new Rt(a),u,l)}var Eh=class n extends wc{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function mH(n,e,t,r){let i=n.Qu(1,e,t);oI("Data must be an object, but it was:",i,r);let s=[],o=Rt.empty();qi(r,(u,l)=>{let h=aI(e,u,t);l=Oe(l);let p=i.Nu(h);if(l instanceof Eh)s.push(h);else{let m=Nc(l,p);m!=null&&(s.push(h),o.set(h,m))}});let a=new jt(s);return new wh(o,a,i.fieldTransforms)}function yH(n,e,t,r,i,s){let o=n.Qu(1,e,t),a=[L_(e,r,t)],u=[i];if(s.length%2!=0)throw new V(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(L_(e,s[m])),u.push(s[m+1]);let l=[],h=Rt.empty();for(let m=a.length-1;m>=0;--m)if(!GS(l,a[m])){let y=a[m],C=u[m];C=Oe(C);let N=o.Nu(y);if(C instanceof Eh)l.push(y);else{let R=Nc(C,N);R!=null&&(l.push(y),h.set(y,R))}}let p=new jt(l);return new wh(h,p,o.fieldTransforms)}function vH(n,e,t,r=!1){return Nc(t,n.Qu(r?4:3,e))}function Nc(n,e){if(qS(n=Oe(n)))return oI("Unsupported field value:",e,n),zS(n,e);if(n instanceof wc)return function(r,i){if(!$S(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=Nc(a,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Oe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return r$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Je.fromDate(r);return{timestampValue:oh(i.serializer,s)}}if(r instanceof Je){let s=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:oh(i.serializer,s)}}if(r instanceof Ec)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ic)return{bytesValue:fS(i.serializer,r._byteString)};if(r instanceof mt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Y_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Dc)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return Q_(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Oh(r)}`)}(n,e)}function zS(n,e){let t={};return zA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qi(n,(r,i)=>{let s=Nc(i,e.Mu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function qS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Je||n instanceof Ec||n instanceof Ic||n instanceof mt||n instanceof wc||n instanceof Dc)}function oI(n,e,t){if(!qS(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Oh(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function L_(n,e,t){if((e=Oe(e))instanceof To)return e._internalPath;if(typeof e=="string")return aI(n,e);throw Dh("Field path arguments must be of type string or ",n,!1,void 0,t)}var _H=new RegExp("[~\\*/\\[\\]]");function aI(n,e,t){if(e.search(_H)>=0)throw Dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new To(...e.split("."))._internalPath}catch{throw Dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Dh(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new V(M.INVALID_ARGUMENT,a+n+u)}function GS(n,e){return n.some(t=>t.isEqual(e))}var Th=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new V_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(cI("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},V_=class extends Th{data(){return super.data()}};function cI(n,e){return typeof e=="string"?aI(n,e):e instanceof To?e._internalPath:e._delegate._internalPath}function WS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new V(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Tc=class{},U_=class extends Tc{};function sr(n,e,...t){let r=[];e instanceof Tc&&r.push(e),r=r.concat(t),function(s){let o=s.filter(u=>u instanceof j_).length,a=s.filter(u=>u instanceof bh).length;if(o>1||o>0&&a>0)throw new V(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var bh=class n extends U_{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return KS(e._query,t),new zi(e.firestore,e.converter,xv(e._query,t))}_parse(e){let t=kh(e.firestore);return function(s,o,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new V(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){$A(p,h);let y=[];for(let C of p)y.push(BA(u,s,C));m={arrayValue:{values:y}}}else m=BA(u,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||$A(p,h),m=vH(a,o,p,h==="in"||h==="not-in");return Be.create(l,h,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function Fh(n,e,t){let r=e,i=cI("where",n);return bh._create(i,r,t)}var j_=class n extends Tc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Zt.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)KS(o,u),o=xv(o,u)}(e._query,t),new zi(e.firestore,e.converter,xv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function BA(n,e,t){if(typeof(t=Oe(t))=="string"){if(t==="")throw new V(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XA(e)&&t.indexOf("/")!==-1)throw new V(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Re.fromString(t));if(!q.isDocumentKey(r))throw new V(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hA(n,new q(r))}if(t instanceof mt)return hA(n,t._key);throw new V(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Oh(t)}.`)}function $A(n,e){if(!Array.isArray(n)||n.length===0)throw new V(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KS(n,e){let t=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new V(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new V(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var B_=class{convertValue(e,t="none"){switch(Ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Q()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return qi(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ae(o.doubleValue));return new Dc(s)}convertGeoPoint(e){return new Ec(Ae(e.latitude),Ae(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=z_(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(pc(e));default:return null}}convertTimestamp(e){let t=nr(e);return new Je(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Re.fromString(e);we(_S(r));let i=new Xd(r.get(1),r.get(3)),s=new q(r.popFirst(5));return i.isEqual(t)||tr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function QS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Fi=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ch=class extends Th{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new lo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(cI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},lo=class extends Ch{data(e={}){return super.data(e)}},Ah=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Fi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new lo(this._firestore,this._userDataWriter,r.key,r,new Fi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new V(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new lo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Fi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new lo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Fi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:IH(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function IH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}var bc=class extends B_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ic(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,t)}};function Lh(n){n=Yt(n,zi);let e=Yt(n.firestore,ir),t=sI(e),r=new bc(e);return WS(n._query),hH(t,n._query).then(i=>new Ah(e,r,n,i))}function YS(n,e,t){n=Yt(n,mt);let r=Yt(n.firestore,ir),i=QS(n.converter,e,t);return lI(r,[HS(kh(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,er.none())])}function Vh(n,e,t,...r){n=Yt(n,mt);let i=Yt(n.firestore,ir),s=kh(i),o;return o=typeof(e=Oe(e))=="string"||e instanceof To?yH(s,"updateDoc",n._key,e,t,r):mH(s,"updateDoc",n._key,e),lI(i,[o.toMutation(n._key,er.exists(!0))])}function JS(n,e){let t=Yt(n.firestore,ir),r=iI(n),i=QS(n.converter,e);return lI(t,[HS(kh(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,er.exists(!1))]).then(()=>r)}function uI(n,...e){var t,r,i;n=Oe(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||jA(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(jA(e[o])){let p=e[o];e[o]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof mt)l=Yt(n.firestore,ir),h=K_(n._key.path),u={next:p=>{e[o]&&e[o](wH(l,n,p))},error:e[o+1],complete:e[o+2]};else{let p=Yt(n,zi);l=Yt(p.firestore,ir),h=p._query;let m=new bc(l);u={next:y=>{e[o]&&e[o](new Ah(l,m,p,y))},error:e[o+1],complete:e[o+2]},WS(n._query)}return function(m,y,C,N){let R=new vh(N),F=new gh(y,R,C);return m.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return SS(yield P_(m),F)})),()=>{R.Za(),m.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return RS(yield P_(m),F)}))}}(sI(l),h,a,u)}function lI(n,e){return function(r,i){let s=new vn;return r.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return tH(yield dH(r),i,s)})),s.promise}(sI(n),e)}function wH(n,e,t){let r=t.docs.get(e._key),i=new bc(n);return new Ch(n,i,e._key,r,new Fi(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){bo=i})(jr),Ur(new Ut("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new ir(new hv(r.getProvider("auth-internal")),new mv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xd(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),He(cA,"4.7.3",e),He(cA,"4.7.3","esm2017")})();var Uh=function(){return Uh=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Uh.apply(this,arguments)};var TH={includeMetadataChanges:!1};function ZS(n,e){return e===void 0&&(e=TH),new se(function(t){var r=uI(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function XS(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Uh(Uh({},r),(t={},t[e.idField]=n.id,t))}function eR(n){return ZS(n,{includeMetadataChanges:!0}).pipe(J(function(e){return e.docs}))}function tR(n,e){return e===void 0&&(e={}),eR(n).pipe(J(function(t){return t.map(function(r){return XS(r,e)})}))}var Wi=class{constructor(e){return e}},nR="firestore",dI=class{constructor(){return Ya(nR)}};var hI=new U("angularfire2.firestore-instances");function bH(n,e){let t=Ed(nR,n,e);return t&&new Wi(t)}function CH(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Wi(r)}}var AH={provide:dI,deps:[[new rt,hI]]},SH={provide:Wi,useFactory:bH,deps:[[new rt,hI],Wn]};function aQ(n,...e){return He("angularfire",Ai.full,"fst"),Ot([SH,AH,{provide:hI,useFactory:CH(n),multi:!0,deps:[me,Ye,to,Si,[new rt,sc],[new rt,eo],...e]}])}var Ao=St(tR,!0);var rR=St(JS,!0);var or=St(jS,!0);var fI=St(iI,!0);var cQ=St(BS,!0);var uQ=St(YS,!0);var pR=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(te(Vn),te(Tt))}}static{this.\u0275dir=Ce({type:n})}}return n})(),Lc=(()=>{class n extends pR{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ln(n)))(i||n)}})()}static{this.\u0275dir=Ce({type:n,features:[gt]})}}return n})(),Qi=new U(""),NH={provide:Qi,useExisting:Dt(()=>MH),multi:!0},MH=(()=>{class n extends Lc{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ln(n)))(i||n)}})()}static{this.\u0275dir=Ce({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&dn("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},features:[Wt([NH]),gt]})}}return n})(),xH={provide:Qi,useExisting:Dt(()=>gR),multi:!0};function PH(){let n=jn()?jn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var OH=new U(""),gR=(()=>{class n extends pR{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!PH())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(te(Vn),te(Tt),te(OH,8))}}static{this.\u0275dir=Ce({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&dn("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Wt([xH]),gt]})}}return n})();function Kr(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function mR(n){return n!=null&&typeof n.length=="number"}var Vc=new U(""),Qh=new U(""),kH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,iR=class{static min(e){return FH(e)}static max(e){return LH(e)}static required(e){return yR(e)}static requiredTrue(e){return VH(e)}static email(e){return UH(e)}static minLength(e){return jH(e)}static maxLength(e){return BH(e)}static pattern(e){return $H(e)}static nullValidator(e){return Bh(e)}static compose(e){return DR(e)}static composeAsync(e){return TR(e)}};function FH(n){return e=>{if(Kr(e.value)||Kr(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function LH(n){return e=>{if(Kr(e.value)||Kr(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function yR(n){return Kr(n.value)?{required:!0}:null}function VH(n){return n.value===!0?null:{required:!0}}function UH(n){return Kr(n.value)||kH.test(n.value)?null:{email:!0}}function jH(n){return e=>Kr(e.value)||!mR(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function BH(n){return e=>mR(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function $H(n){if(!n)return Bh;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Kr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Bh(n){return null}function vR(n){return n!=null}function _R(n){return vi(n)?Te(n):n}function IR(n){let e={};return n.forEach(t=>{e=t!=null?k(k({},e),t):e}),Object.keys(e).length===0?null:e}function wR(n,e){return e.map(t=>t(n))}function HH(n){return!n.validate}function ER(n){return n.map(e=>HH(e)?e:t=>e.validate(t))}function DR(n){if(!n)return null;let e=n.filter(vR);return e.length==0?null:function(t){return IR(wR(t,e))}}function _I(n){return n!=null?DR(ER(n)):null}function TR(n){if(!n)return null;let e=n.filter(vR);return e.length==0?null:function(t){let r=wR(t,e).map(_R);return zf(r).pipe(J(IR))}}function II(n){return n!=null?TR(ER(n)):null}function sR(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function bR(n){return n._rawValidators}function CR(n){return n._rawAsyncValidators}function pI(n){return n?Array.isArray(n)?n:[n]:[]}function $h(n,e){return Array.isArray(n)?n.includes(e):n===e}function oR(n,e){let t=pI(e);return pI(n).forEach(i=>{$h(t,i)||t.push(i)}),t}function aR(n,e){return pI(e).filter(t=>!$h(n,t))}var Hh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=_I(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=II(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ar=class extends Hh{get formDirective(){return null}get path(){return null}},Ki=class extends Hh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},zh=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},zH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},CQ=ce(k({},zH),{"[class.ng-submitted]":"isSubmitted"}),AQ=(()=>{class n extends zh{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(te(Ki,2))}}static{this.\u0275dir=Ce({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Vl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[gt]})}}return n})(),SQ=(()=>{class n extends zh{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(te(ar,10))}}static{this.\u0275dir=Ce({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Vl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[gt]})}}return n})();var Mc="VALID",jh="INVALID",So="PENDING",xc="DISABLED",Qr=class{},qh=class extends Qr{constructor(e,t){super(),this.value=e,this.source=t}},Oc=class extends Qr{constructor(e,t){super(),this.pristine=e,this.source=t}},kc=class extends Qr{constructor(e,t){super(),this.touched=e,this.source=t}},Ro=class extends Qr{constructor(e,t){super(),this.status=e,this.source=t}},gI=class extends Qr{constructor(e){super(),this.source=e}},mI=class extends Qr{constructor(e){super(),this.source=e}};function wI(n){return(Yh(n)?n.validators:n)||null}function qH(n){return Array.isArray(n)?_I(n):n||null}function EI(n,e){return(Yh(e)?e.asyncValidators:n)||null}function GH(n){return Array.isArray(n)?II(n):n||null}function Yh(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function AR(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new H(1e3,"");if(!r[t])throw new H(1001,"")}function SR(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new H(1002,"")})}var No=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Fs(()=>this.statusReactive()),this.statusReactive=ks(void 0),this._pristine=Fs(()=>this.pristineReactive()),this.pristineReactive=ks(!0),this._touched=Fs(()=>this.touchedReactive()),this.touchedReactive=ks(!1),this._events=new Qe,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return hn(this.statusReactive)}set status(e){hn(()=>this.statusReactive.set(e))}get valid(){return this.status===Mc}get invalid(){return this.status===jh}get pending(){return this.status==So}get disabled(){return this.status===xc}get enabled(){return this.status!==xc}get pristine(){return hn(this.pristineReactive)}set pristine(e){hn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return hn(this.touchedReactive)}set touched(e){hn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(oR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(oR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(aR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(aR(e,this._rawAsyncValidators))}hasValidator(e){return $h(this._rawValidators,e)}hasAsyncValidator(e){return $h(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ce(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new kc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new kc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ce(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Oc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Oc(!0,r))}markAsPending(e={}){this.status=So;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ro(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ce(k({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=xc,this.errors=null,this._forEachChild(i=>{i.disable(ce(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new qh(this.value,r)),this._events.next(new Ro(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ce(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Mc,this._forEachChild(r=>{r.enable(ce(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ce(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mc||this.status===So)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new qh(this.value,t)),this._events.next(new Ro(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ce(k({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xc:Mc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=So,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=_R(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ro(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Se,this.statusChanges=new Se}_calculateStatus(){return this._allControlsDisabled()?xc:this.errors?jh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(So)?So:this._anyControlsHaveStatus(jh)?jh:Mc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Oc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new kc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Yh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=qH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=GH(this._rawAsyncValidators)}},Mo=class extends No{constructor(e,t,r){super(wI(t),EI(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){SR(this,!0,e),Object.keys(e).forEach(r=>{AR(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var yI=class extends Mo{};var Uc=new U("CallSetDisabledState",{providedIn:"root",factory:()=>Jh}),Jh="always";function RR(n,e){return[...e.path,n]}function Gh(n,e,t=Jh){DI(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),KH(n,e),YH(n,e),QH(n,e),WH(n,e)}function cR(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Kh(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Wh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function WH(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function DI(n,e){let t=bR(n);e.validator!==null?n.setValidators(sR(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=CR(n);e.asyncValidator!==null?n.setAsyncValidators(sR(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Wh(e._rawValidators,i),Wh(e._rawAsyncValidators,i)}function Kh(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=bR(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let i=CR(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}let r=()=>{};return Wh(e._rawValidators,r),Wh(e._rawAsyncValidators,r),t}function KH(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&NR(n,e)})}function QH(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&NR(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function NR(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function YH(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function MR(n,e){n==null,DI(n,e)}function JH(n,e){return Kh(n,e)}function xR(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function ZH(n){return Object.getPrototypeOf(n.constructor)===Lc}function PR(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function OR(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===gR?t=s:ZH(s)?r=s:i=s}),i||r||t||null}function XH(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var ez={provide:ar,useExisting:Dt(()=>tz)},Pc=Promise.resolve(),tz=(()=>{class n extends ar{get submitted(){return hn(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Fs(()=>this.submittedReactive()),this.submittedReactive=ks(!1),this._directives=new Set,this.ngSubmit=new Se,this.form=new Mo({},_I(t),II(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Pc.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Gh(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Pc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Pc.then(()=>{let r=this._findContainer(t.path),i=new Mo({});MR(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Pc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Pc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),PR(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(te(Vc,10),te(Qh,10),te(Uc,8))}}static{this.\u0275dir=Ce({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&dn("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Wt([ez]),gt]})}}return n})();function uR(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function lR(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Fc=class extends No{constructor(e=null,t,r){super(wI(t),EI(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Yh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(lR(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){uR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){uR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){lR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var nz=n=>n instanceof Fc;var rz={provide:Ki,useExisting:Dt(()=>iz)},dR=Promise.resolve(),iz=(()=>{class n extends Ki{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new Fc,this._registered=!1,this.name="",this.update=new Se,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=OR(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),xR(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Gh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){dR.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&ga(r);dR.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?RR(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(te(ar,9),te(Vc,10),te(Qh,10),te(Qi,10),te(_i,8),te(Uc,8))}}static{this.\u0275dir=Ce({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Wt([rz]),gt,Ln]})}}return n})(),NQ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ce({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),sz={provide:Qi,useExisting:Dt(()=>oz),multi:!0},oz=(()=>{class n extends Lc{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ln(n)))(i||n)}})()}static{this.\u0275dir=Ce({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&dn("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Wt([sz]),gt]})}}return n})();var kR=new U("");var az={provide:ar,useExisting:Dt(()=>cz)},cz=(()=>{class n extends ar{get submitted(){return hn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Fs(()=>this._submittedReactive()),this._submittedReactive=ks(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Se,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Kh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Gh(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){cR(t.control||null,t,!1),XH(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),PR(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new gI(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new mI(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(cR(r||null,t),nz(i)&&(Gh(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);MR(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&JH(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){DI(this.form,this),this._oldForm&&Kh(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(te(Vc,10),te(Qh,10),te(Uc,8))}}static{this.\u0275dir=Ce({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&dn("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Wt([az]),gt,Ln]})}}return n})();var uz={provide:Ki,useExisting:Dt(()=>lz)},lz=(()=>{class n extends Ki{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Se,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=OR(this,s)}ngOnChanges(t){this._added||this._setUpControl(),xR(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return RR(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(te(ar,13),te(Vc,10),te(Qh,10),te(Qi,10),te(kR,8))}}static{this.\u0275dir=Ce({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Wt([uz]),gt,Ln]})}}return n})(),dz={provide:Qi,useExisting:Dt(()=>LR),multi:!0};function FR(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function hz(n){return n.split(":")[0]}var LR=(()=>{class n extends Lc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=FR(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=hz(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ln(n)))(i||n)}})()}static{this.\u0275dir=Ce({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&dn("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Wt([dz]),gt]})}}return n})(),MQ=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(FR(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(te(Tt),te(Vn),te(LR,9))}}static{this.\u0275dir=Ce({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),fz={provide:Qi,useExisting:Dt(()=>VR),multi:!0};function hR(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function pz(n){return n.split(":")[0]}var VR=(()=>{class n extends Lc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let u=o[a],l=this._getOptionValue(u.value);i.push(l)}}else{let o=r.options;for(let a=0;a<o.length;a++){let u=o[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=pz(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ln(n)))(i||n)}})()}static{this.\u0275dir=Ce({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&dn("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Wt([fz]),gt]})}}return n})(),xQ=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(hR(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(hR(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(te(Tt),te(Vn),te(VR,9))}}static{this.\u0275dir=Ce({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var gz=(()=>{class n{constructor(){this._validator=Bh}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Bh,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ce({type:n,features:[Ln]})}}return n})();var mz={provide:Vc,useExisting:Dt(()=>yz),multi:!0};var yz=(()=>{class n extends gz{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ga,this.createValidator=t=>yR}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ln(n)))(i||n)}})()}static{this.\u0275dir=Ce({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ll("required",i._enabled?"":null)},inputs:{required:"required"},features:[Wt([mz]),gt]})}}return n})();var UR=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=un({type:n})}static{this.\u0275inj=cn({})}}return n})(),vI=class extends No{constructor(e,t,r){super(wI(t),EI(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){SR(this,!1,e),e.forEach((r,i)=>{AR(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function fR(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var PQ=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),s={};return fR(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Mo(i,s)}record(t,r=null){let i=this._reduceControls(t);return new yI(i,r)}control(t,r,i){let s={};return this.useNonNullable?(fR(r)?s=r:(s.validators=r,s.asyncValidators=i),new Fc(t,ce(k({},s),{nonNullable:!0}))):new Fc(t,r,i)}array(t,r,i){let s=t.map(o=>this._createControl(o));return new vI(s,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Fc)return t;if(t instanceof No)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,s=t.length>2?t[2]:null;return this.control(r,i,s)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var OQ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Uc,useValue:t.callSetDisabledState??Jh}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=un({type:n})}static{this.\u0275inj=cn({imports:[UR]})}}return n})(),kQ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:kR,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Uc,useValue:t.callSetDisabledState??Jh}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=un({type:n})}static{this.\u0275inj=cn({imports:[UR]})}}return n})();var jR=class n{userVerificado=new ke(!1);userVerificado$=this.userVerificado.asObservable();userSource=new ke(null);currentUser=this.userSource.asObservable();user="";constructor(){}setUser(e){this.userSource.next(e),this.user=e}getUser(){return this.user}getUserNow(){return this.currentUser}setUserVerificado(e){this.userVerificado.next(e)}getVerificado(){return this.userVerificado.getValue()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})};var BR=class n{constructor(e,t){this.firestore=e;this.auth=t}getUsuarios(){let e=or(this.firestore,"pacientes"),t=sr(e);return Ao(t)}getAdmins(){let e=or(this.firestore,"admins"),t=sr(e);return Ao(t)}getEspecialistas(){let e=or(this.firestore,"especialistas"),t=sr(e);return Ao(t)}getEspecialidad(){let e=or(this.firestore,"especialistas"),t=sr(e);return Ao(t)}sendturno(e,t,r,i,s){let o=or(this.firestore,"turnos");rR(o,{paciente:e,especialista:t,especialidad:r,horario:i,emailEspecialsita:s,estado:"pendiente",mensaje:""}).then(()=>{console.log("turno agregado con \xE9xito")}).catch(u=>{console.error("Error al agregar turno: ",u)})}getTurnos(){let e=or(this.firestore,"turnos"),t=sr(e);return Ao(t)}ingresarEstado(e,t){let r=t,i=or(this.firestore,"turnos"),s=sr(i,Fh("paciente","==",r));Lh(s).then(o=>{if(o.empty)console.log("No se encontr\xF3 el turno con ese email.");else{let u=o.docs[0].id,l=fI(this.firestore,"turnos",u);Vh(l,{estado:e})}}).catch(o=>{console.error("Error al realizar la consulta:",o)})}ingresarMensaje(e,t){let r=t,i=or(this.firestore,"turnos"),s=sr(i,Fh("paciente","==",r));Lh(s).then(o=>{if(o.empty)console.log("No se encontr\xF3 el turno con ese email.");else{let u=o.docs[0].id,l=fI(this.firestore,"turnos",u);Vh(l,{mensaje:e})}}).catch(o=>{console.error("Error al realizar la consulta:",o)})}static \u0275fac=function(t){return new(t||n)(z(Wi),z(Pi))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})};export{_ as a,Dt as b,j as c,cn as d,U as e,oe as f,z as g,rt as h,dD as i,un as j,Ce as k,Ot as l,Ln as m,k3 as n,F3 as o,Ye as p,Se as q,me as r,L3 as s,V3 as t,te as u,Vn as v,gt as w,Ik as x,xk as y,XT as z,eb as A,Ug as B,Gk as C,Wk as D,$3 as E,dn as F,H3 as G,Xk as H,z3 as I,e1 as J,t1 as K,q3 as L,G3 as M,r1 as N,rb as O,i1 as P,W3 as Q,s1 as R,Wt as S,sb as T,K3 as U,I6 as V,w6 as W,E6 as X,F1 as Y,F6 as Z,u8 as _,sL as $,kr as aa,R8 as ba,N8 as ca,VC as da,UC as ea,At as fa,Oe as ga,Ut as ha,Ur as ia,Qa as ja,jr as ka,Zs as la,He as ma,Ai as na,Ed as oa,Ya as pa,eo as qa,to as ra,St as sa,Wn as ta,Si as ua,_5 as va,I5 as wa,Q0 as xa,Y0 as ya,J0 as za,Pi as Aa,sc as Ba,fK as Ca,pK as Da,gK as Ea,mK as Fa,sr as Ga,Fh as Ha,Lh as Ia,Vh as Ja,Wi as Ka,aQ as La,Ao as Ma,rR as Na,or as Oa,fI as Pa,cQ as Qa,uQ as Ra,Qi as Sa,MH as Ta,gR as Ua,iR as Va,Ki as Wa,AQ as Xa,SQ as Ya,Mo as Za,tz as _a,Fc as $a,iz as ab,NQ as bb,oz as cb,cz as db,lz as eb,LR as fb,MQ as gb,xQ as hb,yz as ib,PQ as jb,OQ as kb,kQ as lb,jR as mb,BR as nb};
